"use strict";(self.webpackChunkfrabbi_gantt_explore=self.webpackChunkfrabbi_gantt_explore||[]).push([[545],{4545:(Yd,je,p)=>{p.r(je),p.d(je,{NgxGanttModuleApp:()=>Hd});var g=p(6814),Je=p(2117),Ut=function(i){return i.STRING="string",i.DATE="date",i.NUMBER="number",i}(Ut||{}),n=p(5879),Ri=p(2096);let Ai=(()=>{class i{constructor(){}getItems(){const t=this.getTasks().map(e=>({id:e.id,title:e.title,start:Date.parse(e.start.toString()),end:Date.parse(e.finish.toString()),links:e.links?.map(s=>({link:s,color:"#777777"}))}));return(0,Ri.of)(t)}getTasks(){return[{id:"0",title:"Task 0",start:"2023-01-01",finish:"2023-01-31",links:["1","3"],priority:5},{id:"1",title:"Task 1",start:"2023-02-15",finish:"2023-04-04",links:["2"],priority:3},{id:"2",title:"Task 2",start:"2023-04-04",finish:"2023-04-15",priority:3.5},{id:"3",title:"Task 3",start:"2023-01-31",finish:"2023-04-15",priority:4}]}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var it=p(95);function qe(i,r,t,e,s,o,a){try{var l=i[o](a),c=l.value}catch(d){return void t(d)}l.done?r(c):Promise.resolve(c).then(e,s)}function Ke(i){return function(){var r=this,t=arguments;return new Promise(function(e,s){var o=i.apply(r,t);function a(c){qe(o,e,s,a,l,"next",c)}function l(c){qe(o,e,s,a,l,"throw",c)}a(void 0)})}}var O=p(8180),_=p(9773),W=p(2181);function ge(i){return(0,W.h)((r,t)=>i<=t)}var pe=p(4664),fe=p(6321),Xe=p(9360),tn=p(8251),me=p(7398),Pi=p(9384),en=p(9028),q=p(7921),Fi=p(4716),Dt=p(5619),y=p(8645),St=p(7715),K=p(3019),nn=p(6232),R=p(2438),Zt=p(5592),sn=p(4825);function rn(i=0,r=fe.z){return i<0&&(i=0),(0,sn.H)(i,i,r)}var on=p(927);function Qt(i){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(i)}function v(i,r){if(r.length<i)throw new TypeError(i+" argument"+(i>1?"s":"")+" required, but only "+r.length+" present")}function b(i){v(1,arguments);var r=Object.prototype.toString.call(i);return i instanceof Date||"object"===Qt(i)&&"[object Date]"===r?new Date(i.getTime()):"number"==typeof i||"[object Number]"===r?new Date(i):(("string"==typeof i||"[object String]"===r)&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function E(i){if(null===i||!0===i||!1===i)return NaN;var r=Number(i);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}var an={};function st(){return an}function ut(i,r){var t,e,s,o,a,l,c,d;v(1,arguments);var h=st(),u=E(null!==(t=null!==(e=null!==(s=null!==(o=r?.weekStartsOn)&&void 0!==o?o:null==r||null===(a=r.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:h.weekStartsOn)&&void 0!==e?e:null===(c=h.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=b(i),C=m.getDay(),w=(C<u?7:0)+C-u;return m.setDate(m.getDate()-w),m.setHours(0,0,0,0),m}function _e(i){var r=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return r.setUTCFullYear(i.getFullYear()),i.getTime()-r.getTime()}function kt(i){v(1,arguments);var r=b(i);return r.setHours(0,0,0,0),r}var Wi=864e5;function Vt(i,r){v(2,arguments);var t=kt(i),e=kt(r),s=t.getTime()-_e(t),o=e.getTime()-_e(e);return Math.round((s-o)/Wi)}function jt(i,r){v(2,arguments);var t=b(i).getTime(),e=E(r);return new Date(t+e)}function ln(i,r){v(2,arguments);var t=b(i),e=E(r);return isNaN(e)?new Date(NaN):(e&&t.setDate(t.getDate()+e),t)}function cn(i,r){return v(2,arguments),ln(i,7*E(r))}function ve(i,r){v(2,arguments);var t=b(i),e=E(r);if(isNaN(e))return new Date(NaN);if(!e)return t;var s=t.getDate(),o=new Date(t.getTime());return o.setMonth(t.getMonth()+e+1,0),s>=o.getDate()?o:(t.setFullYear(o.getFullYear(),o.getMonth(),s),t)}function Jt(i){v(1,arguments);var t=b(i),e=t.getUTCDay(),s=(e<1?7:0)+e-1;return t.setUTCDate(t.getUTCDate()-s),t.setUTCHours(0,0,0,0),t}function dn(i){v(1,arguments);var r=b(i),t=r.getUTCFullYear(),e=new Date(0);e.setUTCFullYear(t+1,0,4),e.setUTCHours(0,0,0,0);var s=Jt(e),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var a=Jt(o);return r.getTime()>=s.getTime()?t+1:r.getTime()>=a.getTime()?t:t-1}function qt(i,r){var t,e,s,o,a,l,c,d;v(1,arguments);var h=st(),u=E(null!==(t=null!==(e=null!==(s=null!==(o=r?.weekStartsOn)&&void 0!==o?o:null==r||null===(a=r.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:h.weekStartsOn)&&void 0!==e?e:null===(c=h.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=b(i),C=m.getUTCDay(),w=(C<u?7:0)+C-u;return m.setUTCDate(m.getUTCDate()-w),m.setUTCHours(0,0,0,0),m}function hn(i,r){var t,e,s,o,a,l,c,d;v(1,arguments);var h=b(i),u=h.getUTCFullYear(),m=st(),C=E(null!==(t=null!==(e=null!==(s=null!==(o=r?.firstWeekContainsDate)&&void 0!==o?o:null==r||null===(a=r.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:m.firstWeekContainsDate)&&void 0!==e?e:null===(c=m.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(u+1,0,C),w.setUTCHours(0,0,0,0);var x=qt(w,r),D=new Date(0);D.setUTCFullYear(u,0,C),D.setUTCHours(0,0,0,0);var Y=qt(D,r);return h.getTime()>=x.getTime()?u+1:h.getTime()>=Y.getTime()?u:u-1}function k(i,r){for(var t=i<0?"-":"",e=Math.abs(i).toString();e.length<r;)e="0"+e;return t+e}const rt_y=function(r,t){var e=r.getUTCFullYear(),s=e>0?e:1-e;return k("yy"===t?s%100:s,t.length)},rt_M=function(r,t){var e=r.getUTCMonth();return"M"===t?String(e+1):k(e+1,2)},rt_d=function(r,t){return k(r.getUTCDate(),t.length)},rt_h=function(r,t){return k(r.getUTCHours()%12||12,t.length)},rt_H=function(r,t){return k(r.getUTCHours(),t.length)},rt_m=function(r,t){return k(r.getUTCMinutes(),t.length)},rt_s=function(r,t){return k(r.getUTCSeconds(),t.length)},rt_S=function(r,t){var e=t.length,s=r.getUTCMilliseconds();return k(Math.floor(s*Math.pow(10,e-3)),t.length)};function un(i,r){var t=i>0?"-":"+",e=Math.abs(i),s=Math.floor(e/60),o=e%60;if(0===o)return t+String(s);var a=r||"";return t+String(s)+a+k(o,2)}function gn(i,r){return i%60==0?(i>0?"-":"+")+k(Math.abs(i)/60,2):gt(i,r)}function gt(i,r){var t=r||"",e=i>0?"-":"+",s=Math.abs(i);return e+k(Math.floor(s/60),2)+t+k(s%60,2)}const Ts={G:function(r,t,e){var s=r.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(s,{width:"abbreviated"});case"GGGGG":return e.era(s,{width:"narrow"});default:return e.era(s,{width:"wide"})}},y:function(r,t,e){if("yo"===t){var s=r.getUTCFullYear();return e.ordinalNumber(s>0?s:1-s,{unit:"year"})}return rt_y(r,t)},Y:function(r,t,e,s){var o=hn(r,s),a=o>0?o:1-o;return"YY"===t?k(a%100,2):"Yo"===t?e.ordinalNumber(a,{unit:"year"}):k(a,t.length)},R:function(r,t){return k(dn(r),t.length)},u:function(r,t){return k(r.getUTCFullYear(),t.length)},Q:function(r,t,e){var s=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return k(s,2);case"Qo":return e.ordinalNumber(s,{unit:"quarter"});case"QQQ":return e.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(s,{width:"narrow",context:"formatting"});default:return e.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,t,e){var s=Math.ceil((r.getUTCMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return k(s,2);case"qo":return e.ordinalNumber(s,{unit:"quarter"});case"qqq":return e.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(s,{width:"narrow",context:"standalone"});default:return e.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,t,e){var s=r.getUTCMonth();switch(t){case"M":case"MM":return rt_M(r,t);case"Mo":return e.ordinalNumber(s+1,{unit:"month"});case"MMM":return e.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(s,{width:"narrow",context:"formatting"});default:return e.month(s,{width:"wide",context:"formatting"})}},L:function(r,t,e){var s=r.getUTCMonth();switch(t){case"L":return String(s+1);case"LL":return k(s+1,2);case"Lo":return e.ordinalNumber(s+1,{unit:"month"});case"LLL":return e.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(s,{width:"narrow",context:"standalone"});default:return e.month(s,{width:"wide",context:"standalone"})}},w:function(r,t,e,s){var o=function ys(i,r){v(1,arguments);var t=b(i),e=qt(t,r).getTime()-function _s(i,r){var t,e,s,o,a,l,c,d;v(1,arguments);var h=st(),u=E(null!==(t=null!==(e=null!==(s=null!==(o=r?.firstWeekContainsDate)&&void 0!==o?o:null==r||null===(a=r.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:h.firstWeekContainsDate)&&void 0!==e?e:null===(c=h.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1),m=hn(i,r),C=new Date(0);return C.setUTCFullYear(m,0,u),C.setUTCHours(0,0,0,0),qt(C,r)}(t,r).getTime();return Math.round(e/6048e5)+1}(r,s);return"wo"===t?e.ordinalNumber(o,{unit:"week"}):k(o,t.length)},I:function(r,t,e){var s=function ms(i){v(1,arguments);var r=b(i),t=Jt(r).getTime()-function ps(i){v(1,arguments);var r=dn(i),t=new Date(0);return t.setUTCFullYear(r,0,4),t.setUTCHours(0,0,0,0),Jt(t)}(r).getTime();return Math.round(t/6048e5)+1}(r);return"Io"===t?e.ordinalNumber(s,{unit:"week"}):k(s,t.length)},d:function(r,t,e){return"do"===t?e.ordinalNumber(r.getUTCDate(),{unit:"date"}):rt_d(r,t)},D:function(r,t,e){var s=function gs(i){v(1,arguments);var r=b(i),t=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var e=r.getTime();return Math.floor((t-e)/864e5)+1}(r);return"Do"===t?e.ordinalNumber(s,{unit:"dayOfYear"}):k(s,t.length)},E:function(r,t,e){var s=r.getUTCDay();switch(t){case"E":case"EE":case"EEE":return e.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(s,{width:"short",context:"formatting"});default:return e.day(s,{width:"wide",context:"formatting"})}},e:function(r,t,e,s){var o=r.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return k(a,2);case"eo":return e.ordinalNumber(a,{unit:"day"});case"eee":return e.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(o,{width:"short",context:"formatting"});default:return e.day(o,{width:"wide",context:"formatting"})}},c:function(r,t,e,s){var o=r.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return k(a,t.length);case"co":return e.ordinalNumber(a,{unit:"day"});case"ccc":return e.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(o,{width:"narrow",context:"standalone"});case"cccccc":return e.day(o,{width:"short",context:"standalone"});default:return e.day(o,{width:"wide",context:"standalone"})}},i:function(r,t,e){var s=r.getUTCDay(),o=0===s?7:s;switch(t){case"i":return String(o);case"ii":return k(o,t.length);case"io":return e.ordinalNumber(o,{unit:"day"});case"iii":return e.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(s,{width:"short",context:"formatting"});default:return e.day(s,{width:"wide",context:"formatting"})}},a:function(r,t,e){var o=r.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(o,{width:"narrow",context:"formatting"});default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,t,e){var o,s=r.getUTCHours();switch(o=12===s?"noon":0===s?"midnight":s/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(o,{width:"narrow",context:"formatting"});default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,t,e){var o,s=r.getUTCHours();switch(o=s>=17?"evening":s>=12?"afternoon":s>=4?"morning":"night",t){case"B":case"BB":case"BBB":return e.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(o,{width:"narrow",context:"formatting"});default:return e.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,t,e){if("ho"===t){var s=r.getUTCHours()%12;return 0===s&&(s=12),e.ordinalNumber(s,{unit:"hour"})}return rt_h(r,t)},H:function(r,t,e){return"Ho"===t?e.ordinalNumber(r.getUTCHours(),{unit:"hour"}):rt_H(r,t)},K:function(r,t,e){var s=r.getUTCHours()%12;return"Ko"===t?e.ordinalNumber(s,{unit:"hour"}):k(s,t.length)},k:function(r,t,e){var s=r.getUTCHours();return 0===s&&(s=24),"ko"===t?e.ordinalNumber(s,{unit:"hour"}):k(s,t.length)},m:function(r,t,e){return"mo"===t?e.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):rt_m(r,t)},s:function(r,t,e){return"so"===t?e.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):rt_s(r,t)},S:function(r,t){return rt_S(r,t)},X:function(r,t,e,s){var a=(s._originalDate||r).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return gn(a);case"XXXX":case"XX":return gt(a);default:return gt(a,":")}},x:function(r,t,e,s){var a=(s._originalDate||r).getTimezoneOffset();switch(t){case"x":return gn(a);case"xxxx":case"xx":return gt(a);default:return gt(a,":")}},O:function(r,t,e,s){var a=(s._originalDate||r).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+un(a,":");default:return"GMT"+gt(a,":")}},z:function(r,t,e,s){var a=(s._originalDate||r).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+un(a,":");default:return"GMT"+gt(a,":")}},t:function(r,t,e,s){return k(Math.floor((s._originalDate||r).getTime()/1e3),t.length)},T:function(r,t,e,s){return k((s._originalDate||r).getTime(),t.length)}};var pn=function(r,t){switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},fn=function(r,t){switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}};const Ds={p:fn,P:function(r,t){var a,e=r.match(/(P+)(p+)?/)||[],s=e[1],o=e[2];if(!o)return pn(r,t);switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",pn(s,t)).replace("{{time}}",fn(o,t))}};var Ss=["D","DD"],ks=["YY","YYYY"];function mn(i,r,t){if("YYYY"===i)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===i)throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===i)throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===i)throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Es={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function ye(i){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.width?String(r.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}var Ps={date:ye({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ye({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ye({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},Ls={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function zt(i){return function(r,t){var s;if("formatting"===(null!=t&&t.context?String(t.context):"standalone")&&i.formattingValues){var o=i.defaultFormattingWidth||i.defaultWidth,a=null!=t&&t.width?String(t.width):o;s=i.formattingValues[a]||i.formattingValues[o]}else{var l=i.defaultWidth,c=null!=t&&t.width?String(t.width):i.defaultWidth;s=i.values[c]||i.values[l]}return s[i.argumentCallback?i.argumentCallback(r):r]}}function It(i){return function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.width,o=r.match(e&&i.matchPatterns[e]||i.matchPatterns[i.defaultMatchWidth]);if(!o)return null;var d,a=o[0],l=e&&i.parsePatterns[e]||i.parsePatterns[i.defaultParseWidth],c=Array.isArray(l)?function qs(i,r){for(var t=0;t<i.length;t++)if(r(i[t]))return t}(l,function(u){return u.test(a)}):function Js(i,r){for(var t in i)if(i.hasOwnProperty(t)&&r(i[t]))return t}(l,function(u){return u.test(a)});return d=i.valueCallback?i.valueCallback(c):c,{value:d=t.valueCallback?t.valueCallback(d):d,rest:r.slice(a.length)}}}const gr={code:"en-US",formatDistance:function(r,t,e){var s,o=Es[r];return s="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=e&&e.addSuffix?e.comparison&&e.comparison>0?"in "+s:s+" ago":s},formatLong:Ps,formatRelative:function(r,t,e,s){return Ls[r]},localize:{ordinalNumber:function(r,t){var e=Number(r),s=e%100;if(s>20||s<10)switch(s%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},era:zt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:zt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:zt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:zt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:zt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function Ks(i){return function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.match(i.matchPattern);if(!e)return null;var s=e[0],o=r.match(i.parsePattern);if(!o)return null;var a=i.valueCallback?i.valueCallback(o[0]):o[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:r.slice(s.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(r){return parseInt(r,10)}}),era:It({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:It({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:It({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:It({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:It({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var pr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mr=/^'([^]*?)'?$/,_r=/''/g,vr=/[a-zA-Z]/;function yr(i,r,t){var e,s,o,a,l,c,d,h,u,m,C,w,x,D,Y,dt,nt,ht;v(2,arguments);var We=String(r),_t=st(),vt=null!==(e=null!==(s=t?.locale)&&void 0!==s?s:_t.locale)&&void 0!==e?e:gr,Yt=E(null!==(o=null!==(a=null!==(l=null!==(c=t?.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==l?l:_t.firstWeekContainsDate)&&void 0!==a?a:null===(u=_t.locale)||void 0===u||null===(m=u.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==o?o:1);if(!(Yt>=1&&Yt<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Wt=E(null!==(C=null!==(w=null!==(x=null!==(D=t?.weekStartsOn)&&void 0!==D?D:null==t||null===(Y=t.locale)||void 0===Y||null===(dt=Y.options)||void 0===dt?void 0:dt.weekStartsOn)&&void 0!==x?x:_t.weekStartsOn)&&void 0!==w?w:null===(nt=_t.locale)||void 0===nt||null===(ht=nt.options)||void 0===ht?void 0:ht.weekStartsOn)&&void 0!==C?C:0);if(!(Wt>=0&&Wt<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!vt.localize)throw new RangeError("locale must contain localize property");if(!vt.formatLong)throw new RangeError("locale must contain formatLong property");var wt=b(i);if(!function ds(i){if(v(1,arguments),!function cs(i){return v(1,arguments),i instanceof Date||"object"===Qt(i)&&"[object Date]"===Object.prototype.toString.call(i)}(i)&&"number"!=typeof i)return!1;var r=b(i);return!isNaN(Number(r))}(wt))throw new RangeError("Invalid time value");var Ze=function hs(i,r){return v(2,arguments),jt(i,-E(r))}(wt,_e(wt)),Qe={firstWeekContainsDate:Yt,weekStartsOn:Wt,locale:vt,_originalDate:wt},Ve=We.match(fr).map(function(F){var J=F[0];return"p"===J||"P"===J?(0,Ds[J])(F,vt.formatLong):F}).join("").match(pr).map(function(F){if("''"===F)return"'";var J=F[0];if("'"===J)return function br(i){var r=i.match(mr);return r?r[1].replace(_r,"'"):i}(F);var xt=Ts[J];if(xt)return!(null!=t&&t.useAdditionalWeekYearTokens)&&function Is(i){return-1!==ks.indexOf(i)}(F)&&mn(F,r,String(i)),!(null!=t&&t.useAdditionalDayOfYearTokens)&&function zs(i){return-1!==Ss.indexOf(i)}(F)&&mn(F,r,String(i)),xt(Ze,F,vt.localize,Qe);if(J.match(vr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return F}).join("");return Ve}function _n(i,r){var t=i.getFullYear()-r.getFullYear()||i.getMonth()-r.getMonth()||i.getDate()-r.getDate()||i.getHours()-r.getHours()||i.getMinutes()-r.getMinutes()||i.getSeconds()-r.getSeconds()||i.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function be(i,r){v(2,arguments);var t=b(i),e=b(r),s=_n(t,e),o=Math.abs(Vt(t,e));t.setDate(t.getDate()-s*o);var l=s*(o-+(_n(t,e)===-s));return 0===l?0:l}function vn(i){v(1,arguments);var r=b(i);return Math.floor(r.getMonth()/3)+1}function yn(i,r){v(2,arguments);var t=b(i),e=b(r);return 4*(t.getFullYear()-e.getFullYear())+(vn(t)-vn(e))}function bn(i){v(1,arguments);var r=i||{},t=b(r.start),s=b(r.end).getTime();if(!(t.getTime()<=s))throw new RangeError("Invalid interval");var o=[],a=t;for(a.setHours(0,0,0,0),a.setMonth(0,1);a.getTime()<=s;)o.push(b(a)),a.setFullYear(a.getFullYear()+1);return o}function Ce(i,r){v(1,arguments);var t=i||{},e=b(t.start),s=b(t.end),o=s.getTime();if(!(e.getTime()<=o))throw new RangeError("Invalid interval");var a=ut(e,r),l=ut(s,r);a.setHours(15),l.setHours(15),o=l.getTime();for(var c=[],d=a;d.getTime()<=o;)d.setHours(0),c.push(b(d)),(d=cn(d,1)).setHours(15);return c}var kr=p(8337),S=p(2495),$=p(1898),N=p(2831),pt=p(6028);let Er=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Mr(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function Or(i){try{return i.frameElement}catch{return null}}(function $r(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(e&&(-1===xn(e)||!this.isVisible(e)))return!1;let s=t.nodeName.toLowerCase(),o=xn(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function Lr(i){let r=i.nodeName.toLowerCase(),t="input"===r&&i.type;return"text"===t||"password"===t||"select"===r||"textarea"===r}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==o:"video"===s?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function Br(i){return!function Ar(i){return function Pr(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function Rr(i){let r=i.nodeName.toLowerCase();return"input"===r||"select"===r||"button"===r||"textarea"===r}(i)||function Nr(i){return function Fr(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||wn(i))}(t)&&!this.isDisabled(t)&&(e?.ignoreVisibility||this.isVisible(t))}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(N.t4))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function wn(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let r=i.getAttribute("tabindex");return!(!r||isNaN(parseInt(r,10)))}function xn(i){if(!wn(i))return null;const r=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(r)?-1:r}class Gr{get enabled(){return this._enabled}set enabled(r){this._enabled=r,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}constructor(r,t,e,s,o=!1){this._element=r,this._checker=t,this._ngZone=e,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const r=this._startAnchor,t=this._endAnchor;r&&(r.removeEventListener("focus",this.startAnchorListener),r.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(r)))})}focusFirstTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(r)))})}focusLastTabbableElementWhenReady(r){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(r)))})}_getRegionBoundary(r){const t=this._element.querySelectorAll(`[cdk-focus-region-${r}], [cdkFocusRegion${r}], [cdk-focus-${r}]`);return"start"==r?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(r){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return e?.focus(r),!!e}return t.focus(r),!0}return this.focusFirstTabbableElement(r)}focusFirstTabbableElement(r){const t=this._getRegionBoundary("start");return t&&t.focus(r),!!t}focusLastTabbableElement(r){const t=this._getRegionBoundary("end");return t&&t.focus(r),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const t=r.children;for(let e=0;e<t.length;e++){const s=t[e].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[e]):null;if(s)return s}return null}_getLastTabbableElement(r){if(this._checker.isFocusable(r)&&this._checker.isTabbable(r))return r;const t=r.children;for(let e=t.length-1;e>=0;e--){const s=t[e].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[e]):null;if(s)return s}return null}_createAnchor(){const r=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,r),r.classList.add("cdk-visually-hidden"),r.classList.add("cdk-focus-trap-anchor"),r.setAttribute("aria-hidden","true"),r}_toggleAnchorTabIndex(r,t){r?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(r){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(r,this._startAnchor),this._toggleAnchorTabIndex(r,this._endAnchor))}_executeOnStable(r){this._ngZone.isStable?r():this._ngZone.onStable.pipe((0,O.q)(1)).subscribe(r)}}let Dn=(()=>{class i{constructor(t,e,s){this._checker=t,this._ngZone=e,this._document=s}create(t,e=!1){return new Gr(t,this._checker,this._ngZone,this._document,e)}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(Er),n.LFG(n.R0b),n.LFG(g.K0))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Et=p(7394),Ur=p(9397),B=p(9388);function Te(i,r,t){for(let e in r)if(r.hasOwnProperty(e)){const s=r[e];s?i.setProperty(e,s,t?.has(e)?"important":""):i.removeProperty(e)}return i}function bt(i,r){const t=r?"":"none";Te(i.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Sn(i,r,t){Te(i.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},t)}function Kt(i,r){return r&&"none"!=r?i+" "+r:i}function kn(i){const r=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*r}function we(i,r){return i.getPropertyValue(r).split(",").map(e=>e.trim())}function xe(i){const r=i.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function De(i,r,t){const{top:e,bottom:s,left:o,right:a}=i;return t>=e&&t<=s&&r>=o&&r<=a}function Ot(i,r,t){i.top+=r,i.bottom=i.top+i.height,i.left+=t,i.right=i.left+i.width}function zn(i,r,t,e){const{top:s,right:o,bottom:a,left:l,width:c,height:d}=i,h=c*r,u=d*r;return e>s-u&&e<a+u&&t>l-h&&t<o+h}class In{constructor(r){this._document=r,this.positions=new Map}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),r.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:xe(t)})})}handleScroll(r){const t=(0,N.sA)(r),e=this.positions.get(t);if(!e)return null;const s=e.scrollPosition;let o,a;if(t===this._document){const d=this.getViewportScrollPosition();o=d.top,a=d.left}else o=t.scrollTop,a=t.scrollLeft;const l=s.top-o,c=s.left-a;return this.positions.forEach((d,h)=>{d.clientRect&&t!==h&&t.contains(h)&&Ot(d.clientRect,l,c)}),s.top=o,s.left=a,{top:l,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function En(i){const r=i.cloneNode(!0),t=r.querySelectorAll("[id]"),e=i.nodeName.toLowerCase();r.removeAttribute("id");for(let s=0;s<t.length;s++)t[s].removeAttribute("id");return"canvas"===e?Rn(i,r):("input"===e||"select"===e||"textarea"===e)&&Mn(i,r),On("canvas",i,r,Rn),On("input, textarea, select",i,r,Mn),r}function On(i,r,t,e){const s=r.querySelectorAll(i);if(s.length){const o=t.querySelectorAll(i);for(let a=0;a<s.length;a++)e(s[a],o[a])}}let Qr=0;function Mn(i,r){"file"!==r.type&&(r.value=i.value),"radio"===r.type&&r.name&&(r.name=`mat-clone-${r.name}-${Qr++}`)}function Rn(i,r){const t=r.getContext("2d");if(t)try{t.drawImage(i,0,0)}catch{}}const An=(0,N.i$)({passive:!0}),Xt=(0,N.i$)({passive:!1}),Se=new Set(["position"]);class jr{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(r){const t=(0,S.Ig)(r);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>bt(e,t)))}constructor(r,t,e,s,o,a){this._config=t,this._document=e,this._ngZone=s,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new y.x,this._pointerMoveSubscription=Et.w0.EMPTY,this._pointerUpSubscription=Et.w0.EMPTY,this._scrollSubscription=Et.w0.EMPTY,this._resizeSubscription=Et.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new y.x,this.started=new y.x,this.released=new y.x,this.ended=new y.x,this.entered=new y.x,this.exited=new y.x,this.dropped=new y.x,this.moved=this._moveEvents,this._pointerDown=l=>{if(this.beforeStarted.next(),this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,l)}else this.disabled||this._initializeDragSequence(this._rootElement,l)},this._pointerMove=l=>{const c=this._getPointerPositionOnPage(l);if(!this._hasStartedDragging){if(Math.abs(c.x-this._pickupPositionOnPage.x)+Math.abs(c.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const C=Date.now()>=this._dragStartTime+this._getDragStartDelay(l),w=this._dropContainer;if(!C)return void this._endDragSequence(l);(!w||!w.isDragging()&&!w.isReceiving())&&(l.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(l)))}return}l.preventDefault();const d=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(d),this._dropContainer)this._updateActiveDropContainer(d,c);else{const h=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=d.x-h.x+this._passiveTransform.x,u.y=d.y-h.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:d,event:l,distance:this._getDragDistance(d),delta:this._pointerDirectionDelta})})},this._pointerUp=l=>{this._endDragSequence(l)},this._nativeDragStart=l=>{if(this._handles.length){const c=this._getTargetHandle(l);c&&!this._disabledHandles.has(c)&&!this.disabled&&l.preventDefault()}else this.disabled||l.preventDefault()},this.withRootElement(r).withParent(t.parentDragRef||null),this._parentPositions=new In(e),a.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(e=>(0,S.fI)(e)),this._handles.forEach(e=>bt(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){const t=(0,S.fI)(r);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Xt),t.addEventListener("touchstart",this._pointerDown,An),t.addEventListener("dragstart",this._nativeDragStart,Xt)}),this._initialTransform=void 0,this._rootElement=t),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?(0,S.fI)(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),bt(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),bt(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){const r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){const r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:r}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const t=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(t),dropPoint:t,event:r})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){Mt(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,s=e.parentNode,o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),l=this._getShadowRoot();s.insertBefore(a,e),this._initialTransform=e.style.transform||"",this._preview=this._createPreviewElement(),Sn(e,!1,Se),this._document.body.appendChild(s.replaceChild(o,e)),this._getPreviewInsertionPoint(s,l).appendChild(this._preview),this.started.next({source:this,event:r}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:r}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(r,t){this._parentDragRef&&t.stopPropagation();const e=this.isDragging(),s=Mt(t),o=!s&&0!==t.button,a=this._rootElement,l=(0,N.sA)(t),c=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),d=s?function Yr(i){const r=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!r||-1!==r.identifier||null!=r.radiusX&&1!==r.radiusX||null!=r.radiusY&&1!==r.radiusY)}(t):function Hr(i){return 0===i.buttons||0===i.detail}(t);if(l&&l.draggable&&"mousedown"===t.type&&t.preventDefault(),e||o||c||d)return;if(this._handles.length){const m=a.style;this._rootElementTapHighlight=m.webkitTapHighlightColor||"",m.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(m=>this._updateOnScroll(m)),this._boundaryElement&&(this._boundaryRect=xe(this._boundaryElement));const h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,r,t);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(r){Sn(this._rootElement,!0,Se),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const t=this._dropContainer,e=t.getItemIndex(this),s=this._getPointerPositionOnPage(r),o=this._getDragDistance(s),a=t._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:o,dropPoint:s,event:r}),this.dropped.next({item:this,currentIndex:e,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:o,dropPoint:s,event:r}),t.drop(this,e,this._initialIndex,this._initialContainer,a,o,s,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:t},{x:e,y:s}){let o=this._initialContainer._getSiblingContainerFromPosition(this,r,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,r,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(e,s),this._dropContainer._sortItem(this,r,t,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(r,t):this._applyPreviewTransform(r-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y))}_createPreviewElement(){const r=this._previewTemplate,t=this.previewClass,e=r?r.template:null;let s;if(e&&r){const o=r.matchSize?this._initialClientRect:null,a=r.viewContainer.createEmbeddedView(e,r.context);a.detectChanges(),s=Pn(a,this._document),this._previewRef=a,r.matchSize?Fn(s,o):s.style.transform=te(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=En(this._rootElement),Fn(s,this._initialClientRect),this._initialTransform&&(s.style.transform=this._initialTransform);return Te(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Se),bt(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(o=>s.classList.add(o)):s.classList.add(t)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const r=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);const t=function Zr(i){const r=getComputedStyle(i),t=we(r,"transition-property"),e=t.find(l=>"transform"===l||"all"===l);if(!e)return 0;const s=t.indexOf(e),o=we(r,"transition-duration"),a=we(r,"transition-delay");return kn(o[s])+kn(a[s])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const s=a=>{(!a||(0,N.sA)(a)===this._preview&&"transform"===a.propertyName)&&(this._preview?.removeEventListener("transitionend",s),e(),clearTimeout(o))},o=setTimeout(s,1.5*t);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const r=this._placeholderTemplate,t=r?r.template:null;let e;return t?(this._placeholderRef=r.viewContainer.createEmbeddedView(t,r.context),this._placeholderRef.detectChanges(),e=Pn(this._placeholderRef,this._document)):e=En(this._rootElement),e.style.pointerEvents="none",e.classList.add("cdk-drag-placeholder"),e}_getPointerPositionInElement(r,t,e){const s=t===this._rootElement?null:t,o=s?s.getBoundingClientRect():r,a=Mt(e)?e.targetTouches[0]:e,l=this._getViewportScrollPosition();return{x:o.left-r.left+(a.pageX-o.left-l.left),y:o.top-r.top+(a.pageY-o.top-l.top)}}_getPointerPositionOnPage(r){const t=this._getViewportScrollPosition(),e=Mt(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,s=e.pageX-t.left,o=e.pageY-t.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const l=this._ownerSVGElement.createSVGPoint();return l.x=s,l.y=o,l.matrixTransform(a.inverse())}}return{x:s,y:o}}_getConstrainedPointerPosition(r){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:e,y:s}=this.constrainPosition?this.constrainPosition(r,this,this._initialClientRect,this._pickupPositionInElement):r;if("x"===this.lockAxis||"x"===t?s=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===t)&&(e=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:o,y:a}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,l=this._boundaryRect,{width:c,height:d}=this._getPreviewRect(),h=l.top+a,u=l.bottom-(d-a);e=Nn(e,l.left+o,l.right-(c-o)),s=Nn(s,h,u)}return{x:e,y:s}}_updatePointerDirectionDelta(r){const{x:t,y:e}=r,s=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,a=Math.abs(t-o.x),l=Math.abs(e-o.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=t>o.x?1:-1,o.x=t),l>this._config.pointerDirectionChangeThreshold&&(s.y=e>o.y?1:-1,o.y=e),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,bt(this._rootElement,r))}_removeRootElementListeners(r){r.removeEventListener("mousedown",this._pointerDown,Xt),r.removeEventListener("touchstart",this._pointerDown,An),r.removeEventListener("dragstart",this._nativeDragStart,Xt)}_applyRootElementTransform(r,t){const e=te(r,t),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=Kt(e,this._initialTransform)}_applyPreviewTransform(r,t){const e=this._previewTemplate?.template?void 0:this._initialTransform,s=te(r,t);this._preview.style.transform=Kt(s,e)}_getDragDistance(r){const t=this._pickupPositionOnPage;return t?{x:r.x-t.x,y:r.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:t}=this._passiveTransform;if(0===r&&0===t||this.isDragging()||!this._boundaryElement)return;const e=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===e.width&&0===e.height)return;const o=s.left-e.left,a=e.right-s.right,l=s.top-e.top,c=e.bottom-s.bottom;s.width>e.width?(o>0&&(r+=o),a>0&&(r-=a)):r=0,s.height>e.height?(l>0&&(t+=l),c>0&&(t-=c)):t=0,(r!==this._passiveTransform.x||t!==this._passiveTransform.y)&&this.setFreeDragPosition({y:t,x:r})}_getDragStartDelay(r){const t=this.dragStartDelay;return"number"==typeof t?t:Mt(r)?t.touch:t?t.mouse:0}_updateOnScroll(r){const t=this._parentPositions.handleScroll(r);if(t){const e=(0,N.sA)(r);this._boundaryRect&&e!==this._boundaryElement&&e.contains(this._boundaryElement)&&Ot(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,N.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,t){const e=this._previewContainer||"global";if("parent"===e)return r;if("global"===e){const s=this._document;return t||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return(0,S.fI)(e)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(r){return this._handles.find(t=>r.target&&(r.target===t||t.contains(r.target)))}}function te(i,r){return`translate3d(${Math.round(i)}px, ${Math.round(r)}px, 0)`}function Nn(i,r,t){return Math.max(r,Math.min(t,i))}function Mt(i){return"t"===i.type[0]}function Pn(i,r){const t=i.rootNodes;if(1===t.length&&t[0].nodeType===r.ELEMENT_NODE)return t[0];const e=r.createElement("div");return t.forEach(s=>e.appendChild(s)),e}function Fn(i,r){i.style.width=`${r.width}px`,i.style.height=`${r.height}px`,i.style.transform=te(r.left,r.top)}function Rt(i,r){return Math.max(0,Math.min(r,i))}class qr{constructor(r,t){this._element=r,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(r){this.withItems(r)}sort(r,t,e,s){const o=this._itemPositions,a=this._getItemIndexFromPointerPosition(r,t,e,s);if(-1===a&&o.length>0)return null;const l="horizontal"===this.orientation,c=o.findIndex(D=>D.drag===r),d=o[a],u=d.clientRect,m=c>a?1:-1,C=this._getItemOffsetPx(o[c].clientRect,u,m),w=this._getSiblingOffsetPx(c,o,m),x=o.slice();return function Jr(i,r,t){const e=Rt(r,i.length-1),s=Rt(t,i.length-1);if(e===s)return;const o=i[e],a=s<e?-1:1;for(let l=e;l!==s;l+=a)i[l]=i[l+a];i[s]=o}(o,c,a),o.forEach((D,Y)=>{if(x[Y]===D)return;const dt=D.drag===r,nt=dt?C:w,ht=dt?r.getPlaceholderElement():D.drag.getRootElement();D.offset+=nt,l?(ht.style.transform=Kt(`translate3d(${Math.round(D.offset)}px, 0, 0)`,D.initialTransform),Ot(D.clientRect,0,nt)):(ht.style.transform=Kt(`translate3d(0, ${Math.round(D.offset)}px, 0)`,D.initialTransform),Ot(D.clientRect,nt,0))}),this._previousSwap.overlaps=De(u,t,e),this._previousSwap.drag=d.drag,this._previousSwap.delta=l?s.x:s.y,{previousIndex:c,currentIndex:a}}enter(r,t,e,s){const o=null==s||s<0?this._getItemIndexFromPointerPosition(r,t,e):s,a=this._activeDraggables,l=a.indexOf(r),c=r.getPlaceholderElement();let d=a[o];if(d===r&&(d=a[o+1]),!d&&(null==o||-1===o||o<a.length-1)&&this._shouldEnterAsFirstChild(t,e)&&(d=a[0]),l>-1&&a.splice(l,1),d&&!this._dragDropRegistry.isDragging(d)){const h=d.getRootElement();h.parentElement.insertBefore(c,h),a.splice(o,0,r)}else(0,S.fI)(this._element).appendChild(c),a.push(r);c.style.transform="",this._cacheItemPositions()}withItems(r){this._activeDraggables=r.slice(),this._cacheItemPositions()}withSortPredicate(r){this._sortPredicate=r}reset(){this._activeDraggables.forEach(r=>{const t=r.getRootElement();if(t){const e=this._itemPositions.find(s=>s.drag===r)?.initialTransform;t.style.transform=e||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(r){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(e=>e.drag===r)}updateOnScroll(r,t){this._itemPositions.forEach(({clientRect:e})=>{Ot(e,r,t)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}_cacheItemPositions(){const r="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:xe(e)}}).sort((t,e)=>r?t.clientRect.left-e.clientRect.left:t.clientRect.top-e.clientRect.top)}_getItemOffsetPx(r,t,e){const s="horizontal"===this.orientation;let o=s?t.left-r.left:t.top-r.top;return-1===e&&(o+=s?t.width-r.width:t.height-r.height),o}_getSiblingOffsetPx(r,t,e){const s="horizontal"===this.orientation,o=t[r].clientRect,a=t[r+-1*e];let l=o[s?"width":"height"]*e;if(a){const c=s?"left":"top",d=s?"right":"bottom";-1===e?l-=a.clientRect[c]-o[d]:l+=o[c]-a.clientRect[d]}return l}_shouldEnterAsFirstChild(r,t){if(!this._activeDraggables.length)return!1;const e=this._itemPositions,s="horizontal"===this.orientation;if(e[0].drag!==this._activeDraggables[0]){const a=e[e.length-1].clientRect;return s?r>=a.right:t>=a.bottom}{const a=e[0].clientRect;return s?r<=a.left:t<=a.top}}_getItemIndexFromPointerPosition(r,t,e,s){const o="horizontal"===this.orientation,a=this._itemPositions.findIndex(({drag:l,clientRect:c})=>l!==r&&((!s||l!==this._previousSwap.drag||!this._previousSwap.overlaps||(o?s.x:s.y)!==this._previousSwap.delta)&&(o?t>=Math.floor(c.left)&&t<Math.floor(c.right):e>=Math.floor(c.top)&&e<Math.floor(c.bottom))));return-1!==a&&this._sortPredicate(a,r)?a:-1}}class Kr{constructor(r,t,e,s,o){this._dragDropRegistry=t,this._ngZone=s,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new y.x,this.entered=new y.x,this.exited=new y.x,this.dropped=new y.x,this.sorted=new y.x,this.receivingStarted=new y.x,this.receivingStopped=new y.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Et.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new y.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),rn(0,on.Z).pipe((0,_.R)(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,l=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-l):2===this._verticalScrollDirection&&a.scrollBy(0,l),1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})},this.element=(0,S.fI)(r),this._document=e,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new In(e),this._sortStrategy=new qr(this.element,t),this._sortStrategy.withSortPredicate((a,l)=>this.sortPredicate(a,l,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,t,e,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(r)),this._sortStrategy.enter(r,t,e,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,t,e,s,o,a,l,c={}){this._reset(),this.dropped.next({item:r,currentIndex:t,previousIndex:e,container:this,previousContainer:s,isPointerOverContainer:o,distance:a,dropPoint:l,event:c})}withItems(r){const t=this._draggables;return this._draggables=r,r.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(s=>s.isDragging()).every(s=>-1===r.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(r){return this._sortStrategy.direction=r,this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){return this._sortStrategy.orientation=r,this}withScrollableParents(r){const t=(0,S.fI)(this.element);return this._scrollableElements=-1===r.indexOf(t)?[t,...r]:r.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?this._sortStrategy.getItemIndex(r):this._draggables.indexOf(r)}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,t,e,s){if(this.sortingDisabled||!this._clientRect||!zn(this._clientRect,.05,t,e))return;const o=this._sortStrategy.sort(r,t,e,s);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:r})}_startScrollingIfNecessary(r,t){if(this.autoScrollDisabled)return;let e,s=0,o=0;if(this._parentPositions.positions.forEach((a,l)=>{l===this._document||!a.clientRect||e||zn(a.clientRect,.05,r,t)&&([s,o]=function Xr(i,r,t,e){const s=$n(r,e),o=Gn(r,t);let a=0,l=0;if(s){const c=i.scrollTop;1===s?c>0&&(a=1):i.scrollHeight-c>i.clientHeight&&(a=2)}if(o){const c=i.scrollLeft;1===o?c>0&&(l=1):i.scrollWidth-c>i.clientWidth&&(l=2)}return[a,l]}(l,a.clientRect,r,t),(s||o)&&(e=l))}),!s&&!o){const{width:a,height:l}=this._viewportRuler.getViewportSize(),c={width:a,height:l,top:0,right:a,bottom:l,left:0};s=$n(c,t),o=Gn(c,r),e=window}e&&(s!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||e!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=o,this._scrollNode=e,(s||o)&&e?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const r=(0,S.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const r=(0,S.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(r).clientRect}_reset(){this._isDragging=!1;const r=(0,S.fI)(this.element).style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(t=>t._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(r,t){return null!=this._clientRect&&De(this._clientRect,r,t)}_getSiblingContainerFromPosition(r,t,e){return this._siblings.find(s=>s._canReceive(r,t,e))}_canReceive(r,t,e){if(!this._clientRect||!De(this._clientRect,t,e)||!this.enterPredicate(r,this))return!1;const s=this._getShadowRoot().elementFromPoint(t,e);if(!s)return!1;const o=(0,S.fI)(this.element);return s===o||o.contains(s)}_startReceiving(r,t){const e=this._activeSiblings;!e.has(r)&&t.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(e.add(r),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:r,receiver:this,items:t}))}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:r,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(r);t&&this._sortStrategy.updateOnScroll(t.top,t.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const r=(0,N.kV)((0,S.fI)(this.element));this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const r=this._sortStrategy.getActiveItemsSnapshot().filter(t=>t.isDragging());this._siblings.forEach(t=>t._startReceiving(this,r))}}function $n(i,r){const{top:t,bottom:e,height:s}=i,o=.05*s;return r>=t-o&&r<=t+o?1:r>=e-o&&r<=e+o?2:0}function Gn(i,r){const{left:t,right:e,width:s}=i,o=.05*s;return r>=t-o&&r<=t+o?1:r>=e-o&&r<=e+o?2:0}const ee=(0,N.i$)({passive:!1,capture:!0});let to=(()=>{class i{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new y.x,this.pointerUp=new y.x,this.scroll=new y.x,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ee)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ee)}startDragging(t,e){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const s=e.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ee}),s||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:ee}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options)})})}}stopDragging(t){const e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const e=[this.scroll];return t&&t!==this._document&&e.push(new Zt.y(s=>this._ngZone.runOutsideAngular(()=>{const a=l=>{this._activeDragInstances.length&&s.next(l)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,K.T)(...e)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(n.R0b),n.LFG(g.K0))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const eo={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ne=(()=>{class i{constructor(t,e,s,o){this._document=t,this._ngZone=e,this._viewportRuler=s,this._dragDropRegistry=o}createDrag(t,e=eo){return new jr(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Kr(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(g.K0),n.LFG(n.R0b),n.LFG($.rL),n.LFG(to))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const ke=new n.OlP("CDK_DRAG_PARENT"),ze=new n.OlP("CdkDragHandle");let Hn=(()=>{class i{get disabled(){return this._disabled}set disabled(t){this._disabled=(0,S.Ig)(t),this._stateChanges.next(this)}constructor(t,e){this.element=t,this._stateChanges=new y.x,this._disabled=!1,this._parentDrag=e}ngOnDestroy(){this._stateChanges.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(ke,12))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[n._Bn([{provide:ze,useExisting:i}])]})}return i})();const Yn=new n.OlP("CdkDragPlaceholder"),Wn=new n.OlP("CdkDragPreview"),Un=new n.OlP("CDK_DRAG_CONFIG"),Zn=new n.OlP("CdkDropList");let ie=(()=>{class i{static#t=this._dragInstances=[];get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=(0,S.Ig)(t),this._dragRef.disabled=this._disabled}constructor(t,e,s,o,a,l,c,d,h,u,m){this.element=t,this.dropContainer=e,this._ngZone=o,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=h,this._selfHandle=u,this._parentDrag=m,this._destroyed=new y.x,this.started=new n.vpe,this.released=new n.vpe,this.ended=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.dropped=new n.vpe,this.moved=new Zt.y(C=>{const w=this._dragRef.moved.pipe((0,me.U)(x=>({source:this,pointerPosition:x.pointerPosition,event:x.event,delta:x.delta,distance:x.distance}))).subscribe(C);return()=>{w.unsubscribe()}}),this._dragRef=d.createDrag(t,{dragStartThreshold:l&&null!=l.dragStartThreshold?l.dragStartThreshold:5,pointerDirectionChangeThreshold:l&&null!=l.pointerDirectionChangeThreshold?l.pointerDirectionChangeThreshold:5,zIndex:l?.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),l&&this._assignDefaults(l),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,O.q)(1),(0,_.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const e=t.rootElementSelector,s=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),s&&!s.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=i._dragInstances.indexOf(this);t>-1&&i._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let e=t;this.rootElementSelector&&(e=void 0!==t.closest?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(e||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):(0,S.fI)(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const e=this._dir,s=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof s&&s?s:(0,S.su)(s),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe((0,O.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let e=this.element.nativeElement.parentElement;for(;e;){if(e.classList.contains("cdk-drag")){t.withParent(i._dragInstances.find(s=>s.element.nativeElement===e)?._dragRef||null);break}e=e.parentElement}})}_handleEvents(t){t.started.subscribe(e=>{this.started.emit({source:this,event:e.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(e=>{this.released.emit({source:this,event:e.event})}),t.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance,dropPoint:e.dropPoint,event:e.event})})}_assignDefaults(t){const{lockAxis:e,dragStartDelay:s,constrainPosition:o,previewClass:a,boundaryElement:l,draggingDisabled:c,rootElementSelector:d,previewContainer:h}=t;this.disabled=c??!1,this.dragStartDelay=s||0,e&&(this.lockAxis=e),o&&(this.constrainPosition=o),a&&(this.previewClass=a),l&&(this.boundaryElement=l),d&&(this.rootElementSelector=d),h&&(this.previewContainer=h)}_setupHandlesListener(){this._handles.changes.pipe((0,q.O)(this._handles),(0,Ur.b)(t=>{const e=t.filter(s=>s._parentDrag===this).map(s=>s.element);this._selfHandle&&this.rootElementSelector&&e.push(this.element),this._dragRef.withHandles(e)}),(0,pe.w)(t=>(0,K.T)(...t.map(e=>e._stateChanges.pipe((0,q.O)(e))))),(0,_.R)(this._destroyed)).subscribe(t=>{const e=this._dragRef,s=t.element.nativeElement;t.disabled?e.disableHandle(s):e.enableHandle(s)})}static#e=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(Zn,12),n.Y36(g.K0),n.Y36(n.R0b),n.Y36(n.s_b),n.Y36(Un,8),n.Y36(B.Is,8),n.Y36(ne),n.Y36(n.sBO),n.Y36(ze,10),n.Y36(ke,12))};static#n=this.\u0275dir=n.lG2({type:i,selectors:[["","cdkDrag",""]],contentQueries:function(e,s,o){if(1&e&&(n.Suo(o,Wn,5),n.Suo(o,Yn,5),n.Suo(o,ze,5)),2&e){let a;n.iGM(a=n.CRH())&&(s._previewTemplate=a.first),n.iGM(a=n.CRH())&&(s._placeholderTemplate=a.first),n.iGM(a=n.CRH())&&(s._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,s){2&e&&n.ekj("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[n._Bn([{provide:ke,useExisting:i}]),n.TTD]})}return i})();const Ie=new n.OlP("CdkDropListGroup");let oo=0,Qn=(()=>{class i{static#t=this._dropLists=[];get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=(0,S.Ig)(t)}constructor(t,e,s,o,a,l,c){this.element=t,this._changeDetectorRef=s,this._scrollDispatcher=o,this._dir=a,this._group=l,this._destroyed=new y.x,this.connectedTo=[],this.id="cdk-drop-list-"+oo++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new n.vpe,this.entered=new n.vpe,this.exited=new n.vpe,this.sorted=new n.vpe,this._unsortedItems=new Set,this._dropListRef=e.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(d,h)=>this.enterPredicate(d.data,h.data),this._dropListRef.sortPredicate=(d,h,u)=>this.sortPredicate(d,h.data,u.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),l&&l._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,e)=>t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=i._dropLists.indexOf(this);t>-1&&i._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,q.O)(this._dir.value),(0,_.R)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const e=(0,S.Eq)(this.connectedTo).map(s=>"string"==typeof s?i._dropLists.find(a=>a.id===s):s);if(this._group&&this._group._items.forEach(s=>{-1===e.indexOf(s)&&e.push(s)}),!this._scrollableParentsResolved){const s=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(s),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=(0,S.Ig)(this.sortingDisabled),t.autoScrollDisabled=(0,S.Ig)(this.autoScrollDisabled),t.autoScrollStep=(0,S.su)(this.autoScrollStep,2),t.connectedTo(e.filter(s=>s&&s!==this).map(s=>s._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),t.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),t.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance,dropPoint:e.dropPoint,event:e.event}),this._changeDetectorRef.markForCheck()}),(0,K.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:e,draggingDisabled:s,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:l}=t;this.disabled=s??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=a??!1,this.orientation=l||"vertical",e&&(this.lockAxis=e)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}static#e=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(ne),n.Y36(n.sBO),n.Y36($.mF),n.Y36(B.Is,8),n.Y36(Ie,12),n.Y36(Un,8))};static#n=this.\u0275dir=n.lG2({type:i,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,s){2&e&&(n.uIk("id",s.id),n.ekj("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[n._Bn([{provide:Ie,useValue:void 0},{provide:Zn,useExisting:i}])]})}return i})(),ao=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({providers:[ne],imports:[$.ZD]})}return i})();var z=p(7582);const lo=["bar"],co=["range"],ho=["item"],uo=["baseline"],go=["group"],po=["groupHeader"],fo=["toolbar"],mo=["cell"],_o=["header"],vo=["rowBeforeSlot"],yo=["rowAfterSlot"],Vn=["tableEmpty"],bo=["tableFooter"],Co=["resizeLine"];function To(i,r){if(1&i&&n.GkF(0,9),2&i){const t=n.oxw().$implicit;n.Q6J("ngTemplateOutlet",t.headerTemplateRef)}}function wo(i,r){if(1&i&&n._uU(0),2&i){const t=n.oxw().$implicit;n.hij(" ",t.name," ")}}function xo(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",5),n.YNc(1,To,1,1,"ng-container",6),n.YNc(2,wo,1,1,"ng-template",null,7,n.W1O),n.TgZ(4,"div",8),n.NdJ("cdkDragMoved",function(s){const a=n.CHM(t).$implicit,l=n.oxw();return n.KtG(l.onResizeMoved(s,a))})("cdkDragStarted",function(s){n.CHM(t);const o=n.oxw();return n.KtG(o.onResizeStarted(s))})("cdkDragEnded",function(s){const a=n.CHM(t).$implicit,l=n.oxw();return n.KtG(l.onResizeEnded(s,a))}),n.qZA()()}if(2&i){const t=r.$implicit,e=n.MAs(3);n.Udp("width",t.columnWidth),n.xp6(1),n.Q6J("ngIf",t.headerTemplateRef)("ngIfElse",e)}}function Do(i,r){1&i&&(n.ynx(0),n._UZ(1,"gantt-icon",3),n.TgZ(2,"div",4),n._uU(3,"\u6ca1\u6709\u6570\u636e"),n.qZA(),n.BQk())}function So(i,r){}function ko(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Do,4,0,"ng-container",1),n.YNc(2,So,0,0,"ng-template",2),n.BQk()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",!t.emptyTemplate),n.xp6(1),n.Q6J("ngTemplateOutlet",t.emptyTemplate)}}function zo(i,r){}const Io=function(i,r){return{$implicit:i,group:r}};function Eo(i,r){if(1&i&&(n.ynx(0),n.YNc(1,zo,0,0,"ng-template",13),n.BQk()),2&i){const t=n.oxw(2).$implicit,e=n.oxw(2);n.xp6(1),n.Q6J("ngTemplateOutlet",e.groupTemplate)("ngTemplateOutletContext",n.WLB(2,Io,t.origin,t.origin))}}function Oo(i,r){if(1&i&&(n.TgZ(0,"span",14),n._uU(1),n.qZA()),2&i){const t=n.oxw(2).$implicit;n.xp6(1),n.Oqu(t.title)}}function Mo(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",8)(1,"div",9),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().$implicit,o=n.oxw(2);return n.KtG(o.expandGroup(s))}),n._UZ(2,"gantt-icon",10),n.YNc(3,Eo,2,5,"ng-container",11),n.YNc(4,Oo,2,1,"ng-template",null,12,n.W1O),n.qZA()()}if(2&i){const t=n.MAs(5),e=n.oxw().$implicit,s=n.oxw(2);n.Q6J("ngClass",e.class),n.xp6(1),n.ekj("expanded",e.expanded),n.xp6(1),n.Q6J("iconName",e.expanded?"angle-down":"angle-right"),n.xp6(1),n.Q6J("ngIf",s.groupTemplate)("ngIfElse",t)}}function Ro(i,r){}function Ao(i,r){if(1&i&&n._UZ(0,"gantt-icon",21),2&i){const t=n.oxw(3).$implicit,e=n.oxw(2);n.Q6J("cdkDragHandleDisabled",e.draggable&&!1===t.itemDraggable||!e.draggable)}}function No(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"gantt-icon",25),n.NdJ("click",function(s){n.CHM(t);const o=n.oxw(5).$implicit,a=n.oxw(2);return n.KtG(a.expandChildren(s,o))}),n.qZA()}if(2&i){const t=n.oxw(5).$implicit;n.Q6J("iconName",t.expanded?"angle-down":"angle-right")}}function Po(i,r){1&i&&n._UZ(0,"gantt-icon",26),2&i&&n.Q6J("iconName","loading")}function Fo(i,r){if(1&i&&(n.ynx(0),n.YNc(1,No,1,1,"gantt-icon",23),n.YNc(2,Po,1,1,"gantt-icon",24),n.BQk()),2&i){const t=n.oxw(4).$implicit;n.xp6(1),n.Q6J("ngIf",!t.loading),n.xp6(1),n.Q6J("ngIf",t.loading)}}function Lo(i,r){if(1&i&&(n.TgZ(0,"div",22),n.YNc(1,Fo,3,2,"ng-container",1),n.qZA()),2&i){const t=n.oxw(3).$implicit,e=n.oxw(2);n.Udp("margin-left",20*t.level,"px"),n.xp6(1),n.Q6J("ngIf",t.level<e.gantt.maxLevel-1&&(e.gantt.async&&t.expandable||(null==t.children?null:t.children.length)>0))}}function Bo(i,r){}const Ee=function(i,r){return{$implicit:i,item:r}};function $o(i,r){if(1&i&&(n.TgZ(0,"div",17),n.YNc(1,Ao,1,1,"gantt-icon",18),n.YNc(2,Lo,2,3,"div",19),n.TgZ(3,"div",20),n.YNc(4,Bo,0,0,"ng-template",13),n.qZA()()),2&i){const t=r.$implicit,e=r.first,s=n.oxw(2).$implicit,o=n.oxw(2);n.Udp("width",t.columnWidth),n.Q6J("classList",t.classList),n.xp6(1),n.Q6J("ngIf",e&&o.draggable),n.xp6(1),n.Q6J("ngIf",(null==t?null:t.showExpandIcon)||!o.hasExpandIcon&&e),n.xp6(2),n.Q6J("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",n.WLB(7,Ee,s.origin,s.origin))}}function Go(i,r){}function Ho(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",15),n.NdJ("click",function(s){n.CHM(t);const o=n.oxw().$implicit,a=n.oxw(2);return n.KtG(a.itemClick.emit({event:s,selectedValue:o.origin}))})("cdkDragStarted",function(s){n.CHM(t);const o=n.oxw(3);return n.KtG(o.onItemDragStarted(s))})("cdkDragEnded",function(s){n.CHM(t);const o=n.oxw(3);return n.KtG(o.onItemDragEnded(s))})("cdkDragMoved",function(s){n.CHM(t);const o=n.oxw(3);return n.KtG(o.emitItemDragMoved(s))}),n.ALo(1,"isGanttRangeItem"),n.YNc(2,Ro,0,0,"ng-template",13),n.YNc(3,$o,5,10,"div",16),n.YNc(4,Go,0,0,"ng-template",13),n.qZA()}if(2&i){const t=n.oxw().$implicit,e=n.oxw(2);n.Udp("height",e.gantt.styles.lineHeight,"px")("line-height",e.gantt.styles.lineHeight,"px"),n.ekj("gantt-table-item-with-group",e.hasGroup)("gantt-table-item-first-level-group",0===t.level&&n.lcZ(1,17,t.type))("gantt-table-item-active",e.ganttUpper.isSelected(t.id)),n.Q6J("cdkDragData",t)("cdkDragDisabled",e.draggable&&!1===t.itemDraggable||!e.draggable),n.xp6(2),n.Q6J("ngTemplateOutlet",e.rowBeforeTemplate)("ngTemplateOutletContext",n.WLB(19,Ee,t.origin,t.origin)),n.xp6(1),n.Q6J("ngForOf",e.columns),n.xp6(1),n.Q6J("ngTemplateOutlet",e.rowAfterTemplate)("ngTemplateOutletContext",n.WLB(22,Ee,t.origin,t.origin))}}function Yo(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Mo,6,6,"div",6),n.YNc(2,Ho,5,25,"div",7),n.BQk()),2&i){const t=r.$implicit;n.xp6(1),n.Q6J("ngIf",t.items),n.xp6(1),n.Q6J("ngIf",!t.items)}}function Wo(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Yo,3,2,"ng-container",5),n.BQk()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.viewportItems)("ngForTrackBy",t.trackBy)}}function Uo(i,r){if(1&i&&(n.O4$(),n.TgZ(0,"marker",8),n._UZ(1,"path",9),n.qZA()),2&i){const t=n.oxw(2),s=t.$implicit;n.Q6J("id","triangle"+t.index),n.xp6(1),n.uIk("fill",s.color)("stroke",s.color)}}function Zo(i,r){if(1&i&&(n.O4$(),n.TgZ(0,"marker",10),n._UZ(1,"path",9),n.qZA()),2&i){const t=n.oxw(2),s=t.$implicit;n.Q6J("id","triangle"+t.index),n.xp6(1),n.uIk("fill",s.color)("stroke",s.color)}}function Qo(i,r){if(1&i&&(n.O4$(),n.TgZ(0,"defs"),n.YNc(1,Uo,2,3,"marker",6),n.YNc(2,Zo,2,3,"ng-template",null,7,n.W1O),n.qZA()),2&i){const t=n.MAs(3),e=n.oxw().$implicit,s=n.oxw();n.xp6(1),n.Q6J("ngIf",e.type===s.ganttLinkTypes.sf)("ngIfElse",t)}}function Vo(i,r){if(1&i){const t=n.EpF();n.O4$(),n.ynx(0),n._UZ(1,"path",3),n.TgZ(2,"g")(3,"path",4),n.NdJ("click",function(s){const a=n.CHM(t).$implicit,l=n.oxw();return n.KtG(l.onLineClick(s,a))})("mouseenter",function(){const s=n.CHM(t),o=s.$implicit,a=s.index,l=n.oxw();return n.KtG(l.mouseEnterPath(o,a))})("mouseleave",function(){const o=n.CHM(t).$implicit,a=n.oxw();return n.KtG(a.mouseLeavePath(o))}),n.qZA()(),n.YNc(4,Qo,4,2,"defs",5),n.BQk()}if(2&i){const t=r.$implicit,e=r.index,s=n.oxw();n.xp6(1),n.uIk("d",t.path)("stroke",t.color)("style",t.type===s.ganttLinkTypes.sf?"marker-start: url(#triangle"+e+")":"marker-end: url(#triangle"+e+")",n.Ckj),n.xp6(2),n.uIk("d",t.path),n.xp6(1),n.Q6J("ngIf",s.showArrow)}}const jo=["content"],Jo=["handle"];function qo(i,r){1&i&&(n.ynx(0),n._UZ(1,"span",9,10)(3,"span",9,10),n.BQk())}function Ko(i,r){1&i&&(n.TgZ(0,"div",11)(1,"span",9),n._UZ(2,"span",12),n.qZA(),n.TgZ(3,"span",9),n._UZ(4,"span",12),n.qZA()())}function Xo(i,r){if(1&i&&n._UZ(0,"div",13),2&i){const t=n.oxw();n.Udp("width",100*t.item.progress,"%")}}function ta(i,r){}const Oe=function(i,r){return{item:i,refs:r}};function ea(i,r){if(1&i&&n._UZ(0,"div",6),2&i){const t=n.oxw(2);n.Udp("width",100*t.item.progress,"%")}}function na(i,r){}function ia(i,r){if(1&i&&(n.ynx(0),n.TgZ(1,"div",1),n.YNc(2,ea,1,2,"div",2),n.qZA(),n._UZ(3,"div",3)(4,"div",4),n.YNc(5,na,0,0,"ng-template",5),n.BQk()),2&i){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.item.progress>=0),n.xp6(3),n.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",n.WLB(3,Oe,t.item.origin,t.item.refs))}}function sa(i,r){}function ra(i,r){if(1&i&&(n.TgZ(0,"div",1,2),n.YNc(2,sa,0,0,"ng-template",3),n.qZA()),2&i){const t=n.oxw();n.xp6(2),n.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",n.WLB(2,Oe,t.baselineItem.origin,t.baselineItem.refs))}}function oa(i,r){}const aa=function(i){return{group:i}};function la(i,r){if(1&i&&(n.TgZ(0,"div",5),n.YNc(1,oa,0,0,"ng-template",6),n.qZA()),2&i){const t=n.oxw().$implicit,e=n.oxw();n.Q6J("ngClass",t.class),n.xp6(1),n.Q6J("ngTemplateOutlet",e.groupHeaderTemplate)("ngTemplateOutletContext",n.VKq(3,aa,t))}}function ca(i,r){}const da=function(i,r,t,e){return{item:i,refs:r,baseline:t,baselineRefs:e}};function ha(i,r){if(1&i&&(n.ynx(0),n.YNc(1,ca,0,0,"ng-template",6),n.BQk()),2&i){const t=n.oxw(2).$implicit,e=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",n.l5B(2,da,t.origin,t.refs,null==e.ganttUpper.baselineItemsMap[t.id]?null:e.ganttUpper.baselineItemsMap[t.id].origin,null==e.ganttUpper.baselineItemsMap[t.id]?null:e.ganttUpper.baselineItemsMap[t.id].refs))}}function ua(i,r){if(1&i&&n._UZ(0,"gantt-range",12),2&i){const t=n.oxw(3).$implicit,e=n.oxw();n.Q6J("template",e.rangeTemplate)("item",t)}}function ga(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"gantt-bar",13),n.NdJ("barClick",function(s){n.CHM(t);const o=n.oxw(4);return n.KtG(o.barClick.emit(s))}),n.qZA()}if(2&i){const t=n.oxw(3).$implicit,e=n.oxw();n.Q6J("item",t)("template",e.barTemplate)}}function pa(i,r){if(1&i&&n._UZ(0,"gantt-baseline",14),2&i){const t=n.oxw(3).$implicit,e=n.oxw();n.Q6J("baselineItem",e.ganttUpper.baselineItemsMap[t.id])("template",e.baselineTemplate)}}function fa(i,r){if(1&i&&(n.ynx(0),n.YNc(1,ua,1,2,"gantt-range",9),n.ALo(2,"isGanttRangeItem"),n.YNc(3,ga,1,2,"gantt-bar",10),n.ALo(4,"isGanttBarItem"),n.YNc(5,pa,1,2,"gantt-baseline",11),n.BQk()),2&i){const t=n.oxw(2).$implicit,e=n.oxw();n.xp6(1),n.Q6J("ngIf",n.lcZ(2,3,t.type)),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,5,t.type)),n.xp6(2),n.Q6J("ngIf",e.ganttUpper.baselineItemsMap[t.id])}}function ma(i,r){if(1&i&&(n.TgZ(0,"div",7),n.YNc(1,ha,2,7,"ng-container",8),n.ALo(2,"isGanttCustomItem"),n.YNc(3,fa,6,7,"ng-container",8),n.ALo(4,"isGanttRangeItem"),n.ALo(5,"isGanttBarItem"),n.qZA()),2&i){const t=n.oxw().$implicit,e=n.oxw();n.Udp("height",e.ganttUpper.styles.lineHeight,"px"),n.ekj("gantt-main-item-active",e.ganttUpper.isSelected(t.id)),n.xp6(1),n.Q6J("ngIf",n.lcZ(2,6,t.type)),n.xp6(2),n.Q6J("ngIf",n.lcZ(4,8,t.type)||n.lcZ(5,10,t.type))}}function _a(i,r){if(1&i&&(n.ynx(0),n.YNc(1,la,2,5,"div",3),n.YNc(2,ma,6,12,"div",4),n.BQk()),2&i){const t=r.$implicit;n.xp6(1),n.Q6J("ngIf",t.items),n.xp6(1),n.Q6J("ngIf",!t.items)}}function va(i,r){if(1&i&&(n.O4$(),n.TgZ(0,"text",6),n._uU(1),n.qZA()),2&i){const t=r.$implicit;n.ekj("today",null==t.additions?null:t.additions.isToday)("weekend",null==t.additions?null:t.additions.isWeekend),n.Q6J("ngStyle",t.style),n.uIk("x",t.x)("y",t.y),n.xp6(1),n.hij(" ",t.text," ")}}function ya(i,r){if(1&i&&(n.O4$(),n.ynx(0),n.TgZ(1,"text",7),n._uU(2),n.qZA(),n.BQk()),2&i){const t=r.$implicit;n.xp6(1),n.ekj("today",null==t.additions?null:t.additions.isToday)("weekend",null==t.additions?null:t.additions.isWeekend),n.Q6J("ngStyle",t.style),n.uIk("x",t.x)("y",t.y),n.xp6(1),n.hij(" ",t.text," ")}}function ba(i,r){if(1&i&&(n.O4$(),n._UZ(0,"line",8)),2&i){const t=r.index,e=n.oxw();n.uIk("x1",(t+1)*e.view.primaryWidth)("x2",(t+1)*e.view.primaryWidth)("y1",0)("y2",e.headerHeight)}}function Ca(i,r){1&i&&n._UZ(0,"span",5)}function Ta(i,r){if(1&i&&(n.O4$(),n._UZ(0,"line",7)),2&i){const t=r.index,e=n.oxw(2);n.uIk("x1",(t+1)*e.view.cellWidth)("x2",(t+1)*e.view.cellWidth)("y1",0)("y2",e.mainHeight)}}function wa(i,r){if(1&i&&(n.O4$(),n.TgZ(0,"g"),n.YNc(1,Ta,1,4,"line",6),n.qZA()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.view.secondaryDatePoints)("ngForTrackBy",t.trackBy)}}function xa(i,r){if(1&i&&(n.O4$(),n._UZ(0,"line",8)),2&i){const t=r.index,e=n.oxw();n.uIk("x1",(t+1)*e.view.primaryWidth)("x2",(t+1)*e.view.primaryWidth)("y1",0)("y2",e.mainHeight)}}function Da(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",7),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().$implicit,o=n.oxw(3);return n.KtG(o.selectView(s))}),n._uU(1),n.qZA()}if(2&i){const t=n.oxw().$implicit,e=n.oxw(3);n.ekj("active",t===e.ganttUpper.viewType),n.xp6(1),n.hij(" ",e.ganttViewsMap[t].name," ")}}function Sa(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Da,2,3,"div",6),n.BQk()),2&i){const t=r.$implicit,e=n.oxw(3);n.xp6(1),n.Q6J("ngIf",e.ganttViewsMap[t])}}function ka(i,r){if(1&i&&(n.TgZ(0,"div",4),n.YNc(1,Sa,2,1,"ng-container",5),n.qZA()),2&i){const t=n.oxw(2);n.xp6(1),n.Q6J("ngForOf",null==t.ganttUpper.toolbarOptions?null:t.ganttUpper.toolbarOptions.viewTypes)}}function za(i,r){if(1&i&&(n.ynx(0),n.YNc(1,ka,2,1,"div",3),n.BQk()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.ganttUpper.toolbarOptions||null==t.ganttUpper.toolbarOptions.viewTypes?null:t.ganttUpper.toolbarOptions.viewTypes.length)}}function Ia(i,r){}const Ea=["sideTemplate"],Oa=["mainTemplate"];function Ma(i,r){}function Ra(i,r){if(1&i&&(n.TgZ(0,"div",3)(1,"div",4),n.YNc(2,Ma,0,0,"ng-template",5),n.qZA()()),2&i){const t=n.oxw();n.Udp("width",t.sideWidth,"px")("padding-bottom",t.horizontalScrollbarHeight,"px"),n.xp6(2),n.Q6J("ngTemplateOutlet",t.sideTemplate)}}function Aa(i,r){}function Na(i,r){if(1&i&&(n.TgZ(0,"div",6),n._UZ(1,"gantt-calendar-header")(2,"gantt-calendar-grid")(3,"gantt-drag-backdrop"),n.TgZ(4,"div",7),n.YNc(5,Aa,0,0,"ng-template",5),n.qZA()()),2&i){const t=n.oxw();n.xp6(1),n.Udp("padding-right",t.verticalScrollbarWidth,"px"),n.xp6(1),n.Udp("padding-right",t.verticalScrollbarWidth,"px")("padding-bottom",t.horizontalScrollbarHeight,"px"),n.xp6(3),n.Q6J("ngTemplateOutlet",t.mainTemplate)}}function Pa(i,r){if(1&i&&n._UZ(0,"gantt-toolbar",8),2&i){const t=n.oxw();n.Q6J("template",t.ganttUpper.toolbarTemplate)}}const Fa=["*"],La=["footer"],Ba=["ganttRoot"];function $a(i,r){1&i&&n._UZ(0,"gantt-loader")}function Ga(i,r){1&i&&n.GkF(0)}function Ha(i,r){}const Ya=function(i){return{columns:i}};function Wa(i,r){if(1&i&&(n.TgZ(0,"div",22),n.YNc(1,Ha,0,0,"ng-template",23),n.qZA()),2&i){const t=n.oxw(),e=n.MAs(4);n.Udp("width",e.tableWidth+1,"px"),n.xp6(1),n.Q6J("ngTemplateOutlet",null==t.table?null:t.table.tableFooterTemplate)("ngTemplateOutletContext",n.VKq(4,Ya,t.columns))}}function Ua(i,r){}function Za(i,r){if(1&i&&(n.TgZ(0,"div",24),n.YNc(1,Ua,0,0,"ng-template",25),n.qZA()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("ngTemplateOutlet",t.footerTemplate)}}const Qa=function(i,r,t){return{"gantt-normal-viewport":i,"gantt-scroll-container":r,"with-footer":t}};class U{constructor(r,t,e,s,o,a){this.start=r,this.text=t,this.x=e,this.y=s,this.additions=o,this.style=a}}class f{constructor(r){if(r)if(r instanceof Date)this.value=r;else{if("string"!=typeof r&&"number"!=typeof r)throw new Error(`The input date type is not supported expect Date | string\n                     | number | { date: number; with_time: 0 | 1}, actual ${JSON.stringify(r)}`);this.value=r.toString().length<13?function Li(i){return v(1,arguments),b(1e3*E(i))}(+r):new Date(r)}else this.value=new Date}getYear(){return this.value.getFullYear()}getMonth(){return this.value.getMonth()}getDay(){return this.value.getDay()}getTime(){return this.value.getTime()}getDate(){return this.value.getDate()}getHours(){return this.value.getHours()}getMinutes(){return this.value.getMinutes()}getSeconds(){return this.value.getSeconds()}getMilliseconds(){return this.value.getMilliseconds()}getWeek(r={weekStartsOn:1}){return function Hi(i,r){v(1,arguments);var t=b(i),e=ut(t,r).getTime()-function $i(i,r){var t,e,s,o,a,l,c,d;v(1,arguments);var h=st(),u=E(null!==(t=null!==(e=null!==(s=null!==(o=r?.firstWeekContainsDate)&&void 0!==o?o:null==r||null===(a=r.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:h.firstWeekContainsDate)&&void 0!==e?e:null===(c=h.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1),m=function Bi(i,r){var t,e,s,o,a,l,c,d;v(1,arguments);var h=b(i),u=h.getFullYear(),m=st(),C=E(null!==(t=null!==(e=null!==(s=null!==(o=r?.firstWeekContainsDate)&&void 0!==o?o:null==r||null===(a=r.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:m.firstWeekContainsDate)&&void 0!==e?e:null===(c=m.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==t?t:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setFullYear(u+1,0,C),w.setHours(0,0,0,0);var x=ut(w,r),D=new Date(0);D.setFullYear(u,0,C),D.setHours(0,0,0,0);var Y=ut(D,r);return h.getTime()>=x.getTime()?u+1:h.getTime()>=Y.getTime()?u:u-1}(i,r),C=new Date(0);return C.setFullYear(m,0,u),C.setHours(0,0,0,0),ut(C,r)}(t,r).getTime();return Math.round(e/6048e5)+1}(this.value,r)}getDaysInMonth(){return function Yi(i){v(1,arguments);var r=b(i),t=r.getFullYear(),e=r.getMonth(),s=new Date(0);return s.setFullYear(t,e+1,0),s.setHours(0,0,0,0),s.getDate()}(this.value)}getDaysInQuarter(){return Vt(this.endOfQuarter().addSeconds(1).value,this.startOfQuarter().value)}getDaysInYear(){return Vt(this.endOfYear().addSeconds(1).value,this.startOfYear().value)}setDate(r){return new f(function Ui(i,r){v(2,arguments);var t=b(i),e=E(r);return t.setDate(e),t}(this.value,r))}clone(){return new f(new Date(this.value))}add(r,t){switch(t){case"second":default:return new f(this.value).addSeconds(r);case"minute":return new f(this.value).addMinutes(r);case"hour":return new f(this.value).addHours(r);case"day":return new f(this.value).addDays(r);case"week":return new f(this.value).addWeeks(r);case"month":return new f(this.value).addMonths(r);case"quarter":return new f(this.value).addQuarters(r);case"year":return new f(this.value).addYears(r)}}addSeconds(r){return new f(function Zi(i,r){return v(2,arguments),jt(i,1e3*E(r))}(this.value,r))}addMinutes(r){return new f(function Vi(i,r){return v(2,arguments),jt(i,6e4*E(r))}(this.value,r))}addHours(r){return new f(function Ji(i,r){return v(2,arguments),jt(i,36e5*E(r))}(this.value,r))}addDays(r){return new f(ln(this.value,r))}addWeeks(r){return new f(cn(this.value,r))}addMonths(r){return new f(ve(this.value,r))}addQuarters(r){return new f(function qi(i,r){return v(2,arguments),ve(i,3*E(r))}(this.value,r))}addYears(r){return new f(function Ki(i,r){return v(2,arguments),ve(i,12*E(r))}(this.value,r))}startOfDay(){return new f(kt(this.value))}startOfWeek(r){return new f(ut(this.value,r))}startOfMonth(){return new f(function Xi(i){v(1,arguments);var r=b(i);return r.setDate(1),r.setHours(0,0,0,0),r}(this.value))}startOfQuarter(){return new f(function ts(i){v(1,arguments);var r=b(i),t=r.getMonth();return r.setMonth(t-t%3,1),r.setHours(0,0,0,0),r}(this.value))}startOfYear(){return new f(function es(i){v(1,arguments);var r=b(i),t=new Date(0);return t.setFullYear(r.getFullYear(),0,1),t.setHours(0,0,0,0),t}(this.value))}endOfDay(){return new f(function ns(i){v(1,arguments);var r=b(i);return r.setHours(23,59,59,999),r}(this.value))}endOfWeek(r){return new f(function is(i,r){var t,e,s,o,a,l,c,d;v(1,arguments);var h=st(),u=E(null!==(t=null!==(e=null!==(s=null!==(o=r?.weekStartsOn)&&void 0!==o?o:null==r||null===(a=r.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==s?s:h.weekStartsOn)&&void 0!==e?e:null===(c=h.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==t?t:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=b(i),C=m.getDay(),w=6+(C<u?-7:0)-(C-u);return m.setDate(m.getDate()+w),m.setHours(23,59,59,999),m}(this.value,r))}endOfMonth(){return new f(function ss(i){v(1,arguments);var r=b(i),t=r.getMonth();return r.setFullYear(r.getFullYear(),t+1,0),r.setHours(23,59,59,999),r}(this.value))}endOfQuarter(){return new f(function rs(i){v(1,arguments);var r=b(i),t=r.getMonth();return r.setMonth(t-t%3+3,0),r.setHours(23,59,59,999),r}(this.value))}endOfYear(){return new f(function os(i){v(1,arguments);var r=b(i),t=r.getFullYear();return r.setFullYear(t+1,0,0),r.setHours(23,59,59,999),r}(this.value))}getUnixTime(){return function ls(i){return v(1,arguments),Math.floor(function as(i){return v(1,arguments),b(i).getTime()}(i)/1e3)}(this.value)}format(r,t){return yr(this.value,r,t)}isWeekend(){return function Cr(i){v(1,arguments);var t=b(i).getDay();return 0===t||6===t}(this.value)}isToday(){return function wr(i){return v(1,arguments),function Tr(i,r){v(2,arguments);var t=kt(i),e=kt(r);return t.getTime()===e.getTime()}(i,Date.now())}(this.value)}}var M=function(i){return i[i.fs=1]="fs",i[i.ff=2]="ff",i[i.ss=3]="ss",i[i.sf=4]="sf",i}(M||{}),At=function(i){return i.curve="curve",i.straight="straight",i}(At||{}),Nt=function(i){return i.default="#cacaca",i.blocked="#FF7575",i.active="#6698ff",i}(Nt||{}),ft=function(i){return i.bar="bar",i.range="range",i.custom="custom",i}(ft||{});class Pt{get refs(){return this.refs$.getValue()}constructor(r,t,e){this.refs$=new Dt.X(null),this.origin=r,this.id=this.origin.id,this.links=(this.origin.links||[]).map(s=>"string"==typeof s?{type:M.fs,link:s}:s),this.color=this.origin.color,this.barStyle=this.origin.barStyle,this.linkable=void 0===this.origin.linkable||this.origin.linkable,this.draggable=void 0===this.origin.draggable||this.origin.draggable,this.itemDraggable=this.origin.itemDraggable,this.expandable=this.origin.expandable||(this.origin.children||[]).length>0,this.expanded=void 0!==this.origin.expanded&&this.origin.expanded,this.start=r.start?new f(r.start):null,this.end=r.end?new f(r.end):null,this.level=t,this.fillDays=e?.fillDays||30,this.children=(r.children||[]).map(s=>new Pt(s,t+1,{fillDays:this.fillDays})),this.type=this.origin.type||ft.bar,this.progress=this.origin.progress,this.fillItemStartOrEnd(r)}fillItemStartOrEnd(r){if(this.fillDays>0){const t=this.fillDays-1;r.start&&!r.end&&(this.end=new f(r.start).addDays(t).endOfDay()),!r.start&&r.end&&(this.start=new f(r.end).addDays(-t).startOfDay())}}updateRefs(r){this.refs$.next(r)}updateDate(r,t){this.start=r.startOfDay(),this.end=t.endOfDay(),this.origin.start=this.start.getUnixTime(),this.origin.end=this.end.getUnixTime()}updateLevel(r){this.level=r}addChildren(r){this.origin.children=r,this.children=(r||[]).map(t=>new Pt(t,this.level+1,{fillDays:this.fillDays}))}setExpand(r){this.expanded=r,this.origin.expanded=r}addLink(r){this.links=[...this.links,r],this.origin.links=this.links}}class Va{constructor(r){this.refs={},this.id=r.id,this.origin=r,this.title=r.title,this.expanded=void 0===r.expanded||r.expanded,this.items=[],this.mergedItems=[[]],this.class=r.class||""}setExpand(r){this.expanded=r,this.origin.expanded=r}}var I=function(i){return i.day="day",i.quarter="quarter",i.month="month",i.year="year",i.week="week",i}(I||{});const ja=[{name:"\u65e5",value:I.day},{name:"\u5468",value:I.week},{name:"\u6708",value:I.month},{name:"\u5b63",value:I.quarter},{name:"\u5e74",value:I.year}];class Ja{get refs(){return this.refs$.getValue()}constructor(r){this.refs$=new Dt.X(null),this.origin=r,this.id=this.origin.id,this.start=r.start?new f(r.start):null,this.end=r.end?new f(r.end):null}updateRefs(r){this.refs$.next(r)}}const se={dateFormat:{week:"\u7b2cw\u5468",month:"M\u6708",quarter:"QQQ",year:"yyyy\u5e74",yearMonth:"yyyy\u5e74MM\u6708",yearQuarter:"yyyy\u5e74QQQ"},linkOptions:{dependencyTypes:[M.fs],showArrow:!1,lineType:At.curve}},re=new n.OlP("GANTT_GLOBAL_CONFIG"),qa={min:(new f).addYears(-1).startOfYear(),max:(new f).addYears(1).endOfYear(),dateFormat:se.dateFormat};class Lt{get start(){return this.start$.getValue()}get end(){return this.end$.getValue()}constructor(r,t,e){this.showTimeline=!0,this.options=Object.assign({},qa,e);const s=this.startOf(r.isCustom||r.date.value<this.options.start.value?r.date:this.options.start),o=this.endOf(t.isCustom||t.date.value>this.options.end.value?t.date:this.options.end);this.start$=new Dt.X(s),this.end$=new Dt.X(o),this.initialize()}getDateIntervalWidth(r,t){let e=0;const s=be(t.value,r.value);for(let o=0;o<Math.abs(s);o++)e+=this.getDayOccupancyWidth(r.addDays(o));return e=s>=0?e:-e,Number(e.toFixed(3))}initialize(){this.primaryDatePoints=this.getPrimaryDatePoints(),this.secondaryDatePoints=this.getSecondaryDatePoints(),this.width=this.getWidth(),this.cellWidth=this.getCellWidth(),this.primaryWidth=this.getPrimaryWidth()}addStartDate(){const r=this.startOf(this.start.add(-1*this.options.addAmount,this.options.addUnit));if(r.value>=this.options.min.value){const t=this.start;return this.start$.next(r),this.initialize(),{start:this.start,end:t}}return null}addEndDate(){const r=this.endOf(this.end.add(this.options.addAmount,this.options.addUnit));if(r.value<=this.options.max.value){const t=this.end;return this.end$.next(r),this.initialize(),{start:t,end:this.end}}return null}updateDate(r,t){r=this.startOf(r),t=this.endOf(t),r.value<this.start.value&&this.start$.next(r),t.value>this.end.value&&this.end$.next(t),this.initialize()}getWidth(){return this.getCellWidth()*this.secondaryDatePoints.length}getCellWidth(){return this.options.cellWidth}getTodayXPoint(){const r=(new f).startOfDay();return r.value>this.start.value&&r.value<this.end.value?this.getXPointByDate(r)+this.getDayOccupancyWidth(r)/2:null}getXPointByDate(r){return this.getDateIntervalWidth(this.start,r)}getDateByXPoint(r){const t=Math.max(Math.floor(r/this.getCellWidth()),0),e=this.secondaryDatePoints[Math.min(this.secondaryDatePoints.length-1,t)],s=this.getDayOccupancyWidth(e?.start);if(s===this.getCellWidth())return e?.start;{const o=Math.floor(r%this.getCellWidth()/s)+1;return this.getCellWidth()/s==7?e?.start.addDays(o):e?.start.setDate(o)}}getDateRangeWidth(r,t){return this.getDateIntervalWidth(r,t.addSeconds(1))}}const Ka={start:(new f).startOfQuarter().addQuarters(-1),end:(new f).endOfQuarter().addQuarters(2),cellWidth:280,addAmount:1,addUnit:"quarter",fillDays:30},tl={start:(new f).addYears(-1).startOfYear(),end:(new f).addYears(1).endOfYear(),min:(new f).addYears(-2).startOfYear(),max:(new f).addYears(2).endOfYear(),cellWidth:500,addAmount:1,addUnit:"year",fillDays:30},nl={cellWidth:35,start:(new f).startOfYear().startOfWeek({weekStartsOn:1}),end:(new f).endOfYear().endOfWeek({weekStartsOn:1}),addAmount:1,addUnit:"month",fillDays:1},sl={cellWidth:280,start:(new f).startOfYear().startOfWeek({weekStartsOn:1}),end:(new f).endOfYear().endOfWeek({weekStartsOn:1}),addAmount:1,addUnit:"month",fillDays:1},ol={cellWidth:480,start:(new f).addYears(-2).startOfYear(),end:(new f).addYears(2).endOfYear(),addAmount:1,addUnit:"year",fillDays:30},jn={[I.day]:class il extends Lt{constructor(r,t,e){super(r,t,Object.assign({},nl,e)),this.showWeekBackdrop=!0,this.showTimeline=!1,this.viewType=I.day}startOf(r){return r.startOfWeek({weekStartsOn:1})}endOf(r){return r.endOfWeek({weekStartsOn:1})}getPrimaryWidth(){return 7*this.getCellWidth()}getDayOccupancyWidth(){return this.cellWidth}getPrimaryDatePoints(){const r=Ce({start:this.start.value,end:this.end.addSeconds(1).value},{weekStartsOn:1}),t=[];for(let e=0;e<r.length;e++){const s=new f(r[e]),o=s.getDaysInMonth()-s.getDate()>=3?0:1,a=new U(s,s.addWeeks(o).format(this.options.dateFormat.yearMonth),7*this.getCellWidth()/2+e*(7*this.getCellWidth()),18);t.push(a)}return t}getSecondaryDatePoints(){const r=function Dr(i,r){var t;v(1,arguments);var e=i||{},s=b(e.start),a=b(e.end).getTime();if(!(s.getTime()<=a))throw new RangeError("Invalid interval");var l=[],c=s;c.setHours(0,0,0,0);var d=Number(null!==(t=r?.step)&&void 0!==t?t:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;c.getTime()<=a;)l.push(b(c)),c.setDate(c.getDate()+d),c.setHours(0,0,0,0);return l}({start:this.start.value,end:this.end.value}),t=[];for(let e=0;e<r.length;e++){const s=new f(r[e]),o=new U(s,s.getDate().toString(),e*this.getCellWidth()+this.getCellWidth()/2,36,{isWeekend:s.isWeekend(),isToday:s.isToday()});t.push(o)}return t}},[I.week]:class rl extends Lt{constructor(r,t,e){super(r,t,Object.assign({},sl,e)),this.viewType=I.week}startOf(r){return r.startOfWeek({weekStartsOn:1})}endOf(r){return r.endOfWeek({weekStartsOn:1})}getPrimaryWidth(){return this.getCellWidth()}getDayOccupancyWidth(){return this.cellWidth/7}getPrimaryDatePoints(){const r=Ce({start:this.start.value,end:this.end.addSeconds(1).value},{weekStartsOn:1}),t=[];for(let e=0;e<r.length;e++){const s=new f(r[e]),o=s.getDaysInMonth()-s.getDate()>=3?0:1,a=new U(s,s.addWeeks(o).format(this.options.dateFormat.year),this.getCellWidth()/2+e*this.getCellWidth(),18);t.push(a)}return t}getSecondaryDatePoints(){const r=Ce({start:this.start.value,end:this.end.value}),t=[];for(let e=0;e<r.length;e++){const s=new f(r[e]),o=new U(s,`${s.format(this.options.dateFormat.week)}`,e*this.getCellWidth()+this.getCellWidth()/2,36);t.push(o)}return t}},[I.month]:class Xa extends Lt{constructor(r,t,e){super(r,t,Object.assign({},Ka,e)),this.viewType=I.month}startOf(r){return r.startOfQuarter()}endOf(r){return r.endOfQuarter()}getPrimaryWidth(){return 3*this.getCellWidth()}getDayOccupancyWidth(r){return this.cellWidth/r.getDaysInMonth()}getPrimaryDatePoints(){const r=yn(this.end.addSeconds(1).value,this.start.value),t=[];for(let e=0;e<r;e++){const s=this.start.addQuarters(e),o=new U(s,s.format(this.options.dateFormat.yearQuarter),3*this.getCellWidth()/2+e*(3*this.getCellWidth()),18);t.push(o)}return t}getSecondaryDatePoints(){const r=function xr(i){v(1,arguments);var r=i||{},t=b(r.start),s=b(r.end).getTime(),o=[];if(!(t.getTime()<=s))throw new RangeError("Invalid interval");var a=t;for(a.setHours(0,0,0,0),a.setDate(1);a.getTime()<=s;)o.push(b(a)),a.setMonth(a.getMonth()+1);return o}({start:this.start.value,end:this.end.value}),t=[];for(let e=0;e<r.length;e++){const s=new f(r[e]),o=new U(s,s.format(this.options.dateFormat.month),e*this.getCellWidth()+this.getCellWidth()/2,36);t.push(o)}return t}},[I.quarter]:class el extends Lt{constructor(r,t,e){super(r,t,Object.assign({},tl,e)),this.viewType=I.quarter}startOf(r){return r.startOfYear()}endOf(r){return r.endOfYear()}getPrimaryWidth(){return 4*this.getCellWidth()}getDayOccupancyWidth(r){return this.cellWidth/r.getDaysInQuarter()}getPrimaryDatePoints(){const r=bn({start:this.start.value,end:this.end.value}),t=[];for(let e=0;e<r.length;e++){const s=new f(r[e]),o=new U(s,`${s.format(this.options.dateFormat.year)}`,4*this.getCellWidth()/2+e*(4*this.getCellWidth()),18);t.push(o)}return t}getSecondaryDatePoints(){const r=yn(this.end.value,this.start.value),t=[];for(let e=0;e<=r;e++){const s=this.start.addQuarters(e),o=new U(s,s.format(this.options.dateFormat.quarter),e*this.getCellWidth()+this.getCellWidth()/2,36);t.push(o)}return t}},[I.year]:class al extends Lt{constructor(r,t,e){super(r,t,Object.assign({},ol,e)),this.viewType=I.year}startOf(r){return r.startOfYear()}endOf(r){return r.endOfYear()}getPrimaryWidth(){return this.getCellWidth()}getDayOccupancyWidth(r){return this.cellWidth/r.getDaysInYear()}getPrimaryDatePoints(){const r=bn({start:this.start.value,end:this.end.value}),t=[];for(let e=0;e<r.length;e++){const s=new f(r[e]),o=new U(s,"",this.getCellWidth()/2+e*this.getCellWidth(),18);t.push(o)}return t}getSecondaryDatePoints(){const r=function Sr(i,r){v(2,arguments);var t=b(i),e=b(r);return t.getFullYear()-e.getFullYear()}(this.end.value,this.start.value),t=[];for(let s=0;s<=r;s++){const o=this.start.addYears(s),a=new U(o,`${o.format(this.options.dateFormat.year)}`,s*this.getCellWidth()+this.getCellWidth()/2,27);t.push(a)}return t}}},cl={lineHeight:44,barHeight:22};function Re(i){return"number"==typeof i}function Bt(i,r=1){return/^#/g.test(i)?`rgba(${parseInt(i.slice(1,3),16)},${parseInt(i.slice(3,5),16)},${parseInt(i.slice(5,7),16)},${r})`:i}function ae(i,r){const t={},e=[];return(i||[]).forEach(s=>{const o=s[r];t[o]||(t[o]=s,e.push(s))}),e}function Ae(i){return i.reduce((r,t)=>r.concat(Array.isArray(t)?Ae(t):t),[])}function X(i){const r=[];return(i||[]).forEach(t=>{r.push(t),t.expanded&&t.children&&r.push(...X(t.children))}),r}function Jn(i){const r=[];return(i||[]).forEach(t=>{r.push(t),t.children&&r.push(...Jn(t.children))}),r}function Ne(i,r){const t={};return i.forEach(e=>{t[e[r]]=e}),t}let fl=(()=>{class i{set linkOptions(t){this._linkOptions=t}get linkOptions(){return Object.assign({},se.linkOptions,this.config.linkOptions,this._linkOptions)}set selectable(t){this._selectable=(0,S.Ig)(t),this._selectable?this.selectionModel=this.initSelectionModel():this.selectionModel?.clear()}get selectable(){return this._selectable}set multiple(t){this._multiple=(0,S.Ig)(t),this.selectable&&(this.selectionModel=this.initSelectionModel())}get multiple(){return this._multiple}get element(){return this.elementRef.nativeElement}constructor(t,e,s,o){this.elementRef=t,this.cdr=e,this.ngZone=s,this.config=o,this.originItems=[],this.originGroups=[],this.originBaselineItems=[],this.viewType=I.month,this.showTodayLine=!0,this.showToolbar=!1,this.toolbarOptions={viewTypes:[I.day,I.month,I.year]},this.viewOptions={},this.loadOnScroll=new n.vpe,this.dragStarted=new n.vpe,this.dragMoved=new n.vpe,this.dragEnded=new n.vpe,this.barClick=new n.vpe,this.viewChange=new n.vpe,this.expandChange=new n.vpe,this.computeAllRefs=!0,this.linkDragEnded=new n.vpe,this.items=[],this.groups=[],this.baselineItems=[],this.baselineItemsMap={},this.firstChange=!0,this.unsubscribe$=new y.x,this._selectable=!1,this._multiple=!1,this.ganttClass=!0}createView(){const t=this.getViewDate();this.view=function ll(i,r,t,e){return new jn[i](r,t,e)}(this.viewType,t.start,t.end,this.viewOptions)}setupGroups(){const t=this.groups.filter(e=>!1===e.expanded).map(e=>e.id);this.groupsMap={},this.groups=[],this.originGroups.forEach(e=>{const s=new Va(e);s.expanded=!t.includes(s.id),this.groupsMap[s.id]=s,this.groups.push(s)})}setupItems(){this.originItems=ae(this.originItems,"id"),this.items=[],this.originItems.forEach(this.groups.length>0?t=>{const e=this.groupsMap[t.group_id];if(e){const s=new Pt(t,0,{fillDays:this.view.options?.fillDays});e.items.push(s)}}:t=>{const e=new Pt(t,0,{fillDays:this.view.options?.fillDays});this.items.push(e)})}setupBaselineItems(){this.originBaselineItems=ae(this.originBaselineItems,"id"),this.baselineItems=[],this.originBaselineItems.forEach(t=>{const e=new Ja(t);this.baselineItems.push(e)}),this.baselineItemsMap=Ne(this.baselineItems,"id")}setupExpandedState(){this.originItems=ae(this.originItems,"id");let t=[];const e=Jn(this.originItems);t=this.items.length>0?X(this.items):Ae(this.groups.map(s=>X(s.items))),t.forEach(s=>{if(s.origin.expanded){const o=e.find(a=>a.id===s.id);o&&void 0===o.expanded&&(o.expanded=!0)}})}getViewDate(){let t=this.start,e=this.end;return(!this.start||!this.end)&&this.originItems.forEach(s=>{s.start&&!this.start&&(t=t?Math.min(t,s.start):s.start),s.end&&!this.end&&(e=e?Math.max(e,s.end):s.end)}),{start:{date:new f(t),isCustom:!!this.start},end:{date:new f(e),isCustom:!!this.end}}}computeRefs(){if(this.computeAllRefs){this.groups.forEach(e=>{const s=X(e.items);this.computeItemsRefs(...s)});const t=X(this.items);this.computeItemsRefs(...t)}}initSelectionModel(){return new kr.Ov(this.multiple,[])}expandGroups(t){this.groups.forEach(e=>{e.setExpand(t)}),this.expandChange.next(null),this.cdr.detectChanges()}ngOnInit(){this.styles=Object.assign({},cl,this.styles),this.viewOptions.dateFormat=Object.assign({},se.dateFormat,this.config.dateFormat,this.viewOptions.dateFormat),this.createView(),this.setupGroups(),this.setupItems(),this.computeRefs(),this.setupBaselineItems(),this.computeItemsRefs(...this.baselineItems),this.initSelectionModel(),this.firstChange=!1;const t=this.ngZone.isStable?(0,St.D)(Promise.resolve()):this.ngZone.onStable.pipe((0,O.q)(1));this.ngZone.runOutsideAngular(()=>{t.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.element.style.opacity="1";const e=this.disabledLoadOnScroll;this.dragContainer.dragStarted.pipe((0,_.R)(this.unsubscribe$)).subscribe(s=>{this.disabledLoadOnScroll=!0,this.dragStarted.emit(s)}),this.dragContainer.dragMoved.pipe((0,_.R)(this.unsubscribe$)).subscribe(s=>{this.dragMoved.emit(s)}),this.dragContainer.dragEnded.pipe((0,_.R)(this.unsubscribe$)).subscribe(s=>{this.disabledLoadOnScroll=e,this.dragEnded.emit(s)})})}),this.view.start$.pipe(ge(1),(0,_.R)(this.unsubscribe$)).subscribe(()=>{this.computeRefs()})}ngOnChanges(t){this.firstChange||(t.viewType&&t.viewType.currentValue&&t.viewType.currentValue!==t.viewType.previousValue&&this.changeView(t.viewType.currentValue),t.viewOptions&&this.changeView(this.viewType),(t.originItems||t.originGroups)&&(this.setupExpandedState(),this.setupGroups(),this.setupItems(),this.computeRefs()),t.originBaselineItems&&(this.setupBaselineItems(),this.computeItemsRefs(...this.baselineItems)))}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}computeItemsRefs(...t){t.forEach(e=>{e.updateRefs({width:e.start&&e.end?this.view.getDateRangeWidth(e.start.startOfDay(),e.end.endOfDay()):0,x:e.start?this.view.getXPointByDate(e.start):0,y:(this.styles.lineHeight-this.styles.barHeight)/2-1})})}trackBy(t,e){return e.id||t}detectChanges(){this.cdr.detectChanges()}expandGroup(t){t.setExpand(!t.expanded),this.expandChange.emit(t),this.cdr.detectChanges()}expandAll(){this.expandGroups(!0)}collapseAll(){this.expandGroups(!1)}getGanttItem(t){return this.getGanttItems([t])[0]||null}getGanttItems(t){let e=[];return e=this.items.length>0?X(this.items):Ae(this.groups.map(s=>X(s.items))),e.filter(s=>t.includes(s.id))}isSelected(t){return!(!this.selectable||!this.selectionModel.hasValue())&&this.selectionModel.isSelected(t)}changeView(t){this.viewType=t,this.createView(),this.setupGroups(),this.setupItems(),this.computeRefs(),this.setupBaselineItems(),this.computeItemsRefs(...this.baselineItems),this.viewChange.emit(this.view)}rerenderView(){this.changeView(this.viewType)}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.R0b),n.Y36(re))};static#e=this.\u0275dir=n.lG2({type:i,contentQueries:function(e,s,o){if(1&e&&(n.Suo(o,lo,7),n.Suo(o,co,7),n.Suo(o,ho,7),n.Suo(o,uo,7),n.Suo(o,go,7),n.Suo(o,po,7),n.Suo(o,fo,7)),2&e){let a;n.iGM(a=n.CRH())&&(s.barTemplate=a.first),n.iGM(a=n.CRH())&&(s.rangeTemplate=a.first),n.iGM(a=n.CRH())&&(s.itemTemplate=a.first),n.iGM(a=n.CRH())&&(s.baselineTemplate=a.first),n.iGM(a=n.CRH())&&(s.groupTemplate=a.first),n.iGM(a=n.CRH())&&(s.groupHeaderTemplate=a.first),n.iGM(a=n.CRH())&&(s.toolbarTemplate=a.first)}},hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt",s.ganttClass)},inputs:{originItems:["items","originItems"],originGroups:["groups","originGroups"],originBaselineItems:["baselineItems","originBaselineItems"],viewType:"viewType",start:"start",end:"end",showTodayLine:"showTodayLine",draggable:"draggable",styles:"styles",showToolbar:"showToolbar",toolbarOptions:"toolbarOptions",viewOptions:"viewOptions",linkOptions:"linkOptions",disabledLoadOnScroll:"disabledLoadOnScroll",selectable:"selectable",multiple:"multiple"},outputs:{loadOnScroll:"loadOnScroll",dragStarted:"dragStarted",dragMoved:"dragMoved",dragEnded:"dragEnded",barClick:"barClick",viewChange:"viewChange",expandChange:"expandChange"},features:[n.TTD]})}return i})();const P=new n.OlP("GANTT_UPPER_TOKEN");let qn=(()=>{class i{set width(t){this.columnWidth=(0,S.HM)(t)}constructor(t,e){this.ganttUpper=t,this.elementRef=e}get classList(){return this.elementRef.nativeElement.classList}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(P),n.Y36(n.SBq))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt-column"]],contentQueries:function(e,s,o){if(1&e&&(n.Suo(o,mo,7),n.Suo(o,_o,7)),2&e){let a;n.iGM(a=n.CRH())&&(s.templateRef=a.first),n.iGM(a=n.CRH())&&(s.headerTemplateRef=a.first)}},hostAttrs:[1,"gantt-table-column"],inputs:{width:"width",name:"name",showExpandIcon:"showExpandIcon"},decls:0,vars:0,template:function(e,s){},encapsulation:2})}return i})(),Kn=(()=>{class i{constructor(){this.draggable=!1,this.dragDropped=new n.vpe,this.dragStarted=new n.vpe,this.dragEnded=new n.vpe,this.columnChanges=new n.vpe}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt-table"]],contentQueries:function(e,s,o){if(1&e&&(n.Suo(o,vo,7),n.Suo(o,yo,7),n.Suo(o,Vn,7),n.Suo(o,bo,7)),2&e){let a;n.iGM(a=n.CRH())&&(s.rowBeforeTemplate=a.first),n.iGM(a=n.CRH())&&(s.rowAfterTemplate=a.first),n.iGM(a=n.CRH())&&(s.tableEmptyTemplate=a.first),n.iGM(a=n.CRH())&&(s.tableFooterTemplate=a.first)}},inputs:{draggable:"draggable",dropEnterPredicate:"dropEnterPredicate"},outputs:{dragDropped:"dragDropped",dragStarted:"dragStarted",dragEnded:"dragEnded",columnChanges:"columnChanges"},decls:0,vars:0,template:function(e,s){},encapsulation:2})}return i})();const Pe=new n.OlP("gantt-abstract-token"),ml=typeof window<"u"&&!!window.CSS&&CSS.supports||(()=>!1);let vl=(()=>{class i{constructor(t,e,s){this.elementRef=t,this.gantt=e,this.cdr=s,this.tableWidth=0,this.unsubscribe$=new y.x,this.className="gantt-table-header "}ngOnInit(){this.columnsChange(),this.columns.changes.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.columnsChange(),this.gantt.cdr.detectChanges()})}columnsChange(){let t=0;this.columns.forEach(e=>{e.columnWidth||(e.columnWidth=(0,S.HM)(100)),t+=Number(e.columnWidth.replace("px",""))}),this.tableWidth=t}dragFixed(t){t.movedWidth<t.minWidth&&function _l({element:i,style:r,value:t}){i.style[r]=t,ml(`-webkit-${r}: ${t}`)&&(i.style[`-webkit-${r}`]=t)}({element:t.target,style:"transform",value:`translate3d(${t.minWidth-t.originWidth}px, 0, 0)`})}onResizeStarted(t){this.dragStartLeft=t.source.element.nativeElement.getBoundingClientRect().left}onResizeMoved(t,e){const s=t.source.element.nativeElement,o=s.getBoundingClientRect().left;let a,l,c;e?(a=parseInt(e.columnWidth,10),l=a+(o-this.dragStartLeft),c=80):(a=this.elementRef.nativeElement.getBoundingClientRect().width,l=a+(o-this.dragStartLeft),c=80*this.columns.length),this.dragFixed({target:s,originWidth:a,movedWidth:l,minWidth:c}),this.showAuxiliaryLine(t)}onResizeEnded(t,e){const s=parseInt(e.columnWidth,10),a=t.source.element.nativeElement.getBoundingClientRect().left,l=parseInt(e.columnWidth,10)+(a-this.dragStartLeft),c=Math.max(l||0,80);e.columnWidth=(0,S.HM)(c),this.gantt.table&&this.gantt.table.columnChanges.emit({columns:this.columns}),this.tableWidth=this.tableWidth-s+c,this.hideAuxiliaryLine(),t.source.reset()}onOverallResizeEnded(t){const s=t.source.element.nativeElement.getBoundingClientRect().left,o=this.elementRef.nativeElement.getBoundingClientRect().width,a=s-this.dragStartLeft;let l=0;this.columns.forEach(c=>{const d=parseInt(c.columnWidth,10),h=parseInt(String(a*(d/o)),10),u=Math.max(d+h||0,80);c.columnWidth=(0,S.HM)(u),l+=u}),this.tableWidth=l,this.gantt.table&&this.gantt.table.columnChanges.emit({columns:this.columns}),this.hideAuxiliaryLine(),t.source.reset()}showAuxiliaryLine(t){const e=this.elementRef.nativeElement.getBoundingClientRect(),s=t.source.element.nativeElement.getBoundingClientRect();this.resizeLineElementRef.nativeElement.style.left=s.left-e.left+"px",this.resizeLineElementRef.nativeElement.style.display="block"}hideAuxiliaryLine(){this.resizeLineElementRef.nativeElement.style.display="none"}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(Pe),n.Y36(n.sBO))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-table-header"]],viewQuery:function(e,s){if(1&e&&n.Gf(Co,7),2&e){let o;n.iGM(o=n.CRH())&&(s.resizeLineElementRef=o.first)}},hostVars:2,hostBindings:function(e,s){2&e&&n.Tol(s.className)},inputs:{columns:"columns"},decls:5,vars:1,consts:[[1,"gantt-table-header-container"],["class","gantt-table-column",3,"width",4,"ngFor","ngForOf"],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary",".gantt",1,"table-resize-handle",3,"cdkDragMoved","cdkDragStarted","cdkDragEnded"],[1,"table-resize-auxiliary-line"],["resizeLine",""],[1,"gantt-table-column"],[3,"ngTemplateOutlet",4,"ngIf","ngIfElse"],["default",""],["cdkDrag","","cdkDragLockAxis","x","cdkDragBoundary",".gantt",1,"column-resize-handle",3,"cdkDragMoved","cdkDragStarted","cdkDragEnded"],[3,"ngTemplateOutlet"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n.YNc(1,xo,5,4,"div",1),n.qZA(),n.TgZ(2,"div",2),n.NdJ("cdkDragMoved",function(a){return s.onResizeMoved(a)})("cdkDragStarted",function(a){return s.onResizeStarted(a)})("cdkDragEnded",function(a){return s.onOverallResizeEnded(a)}),n.qZA(),n._UZ(3,"div",3,4)),2&e&&(n.xp6(1),n.Q6J("ngForOf",s.columns))},dependencies:[g.sg,g.O5,g.tP,ie],encapsulation:2})}return i})();const yl={"angle-right":'<svg xmlns="http://www.w3.org/2000/svg" fit=""  preserveAspectRatio="xMidYMid meet" focusable="false"><g id="amnavigation/angle-right" stroke-width="1" fill-rule="evenodd"><path d="M7.978 11.498l-.005.005L2.3 5.831 3.13 5l4.848 4.848L12.826 5l.83.831-5.673 5.672-.005-.005z"   transform="rotate(-90 7.978 8.252)"></path></g></svg>',"angle-down":'<svg xmlns="http://www.w3.org/2000/svg" fit=""  preserveAspectRatio="xMidYMid meet" focusable="false"><g id="aknavigation/angle-down" stroke-width="1" fill-rule="evenodd"><path d="M7.978 11.997l-.005.006L2.3 6.33l.83-.831 4.848 4.848L12.826 5.5l.83.83-5.673 5.673-.005-.006z" ></path></g></svg>',"plus-square":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit=""   preserveAspectRatio="xMidYMid meet" focusable="false"><g id="kxaction/plus-square" stroke-width="1" fill-rule="evenodd"><path d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm5.45 6.2V4.75h1.2V7.4h2.65v1.2H8.65v2.65h-1.2V8.6H4.8V7.4h2.65z"></path></g></svg>',"minus-square":'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><g id="jnaction/minus-square" stroke-width="1" fill-rule="evenodd"><path d="M2 0h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2zm0 1.2a.8.8 0 0 0-.8.8v12a.8.8 0 0 0 .8.8h12a.8.8 0 0 0 .8-.8V2a.8.8 0 0 0-.8-.8H2zm2.8 6.2h6.5v1.2H4.8V7.4z"></path></g></svg>',loading:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve">\n<path fill="#aaa" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)">\n    <animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform>\n</path>\n</svg>',empty:'<svg\nwidth="148px"\nheight="134px"\nviewBox="0 0 148 134"\nversion="1.1"\nxmlns="http://www.w3.org/2000/svg"\nxmlns:xlink="http://www.w3.org/1999/xlink"\n>\n<defs>\n  <filter x="0.0%" y="0.0%" width="100.0%" height="100.0%" filterUnits="objectBoundingBox" id="filter-1">\n    <feGaussianBlur stdDeviation="0" in="SourceGraphic"></feGaussianBlur>\n  </filter>\n</defs>\n<g id="148x134" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="\u7f16\u7ec4-6" transform="translate(1.000000, 1.000000)">\n    <ellipse\n      id="\u692d\u5706\u5f62"\n      fill="#EDEEF2"\n      opacity="0.3"\n      filter="url(#filter-1)"\n      cx="73.0800017"\n      cy="115.920003"\n      rx="73.0800017"\n      ry="16.8000004"\n    ></ellipse>\n    <g id="\u7f16\u7ec4-5" transform="translate(15.120000, 0.000000)">\n      <polygon\n        id="\u77e9\u5f62"\n        fill="#E2E4E9"\n        points="19.2789848 49.5600011 99.1200023 48.7200011 117.600003 75.9297673 117.600003 92.313049 0 92.313049 0 75.0356267"\n      ></polygon>\n      <path\n        d="M23.5200005,0 L94.0800002,0 C97.7913538,2.06413823e-16 100.8,3.00864655 100.8,6.72000015 L100.8,99.1200023 L100.8,99.1200023 L16.8000004,99.1200023 L16.8000004,6.72000015 C16.8000004,3.00864655 19.8086469,1.56994302e-15 23.5200005,0 Z"\n        id="\u77e9\u5f62"\n        fill="#F9FAFB"\n      ></path>\n      <path\n        d="M30.9200007,12.4400003 L86.6800019,12.4400003 C88.5356787,12.4400003 90.040002,13.9443236 90.040002,15.8000004 L90.040002,42.000001 C90.040002,43.8556778 88.5356787,45.360001 86.6800019,45.360001 L30.9200007,45.360001 C29.0643239,45.360001 27.5600006,43.8556778 27.5600006,42.000001 L27.5600006,15.8000004 C27.5600006,13.9443236 29.0643239,12.4400003 30.9200007,12.4400003 Z"\n        id="\u77e9\u5f62"\n        fill="#E8EAEE"\n      ></path>\n      <text\n        id="&lt;/null&gt;"\n        font-family="PingFangSC-Medium, PingFang SC"\n        font-size="15.1200003"\n        font-weight="400"\n        fill="#BCBECD"\n      >\n        <tspan x="33.6000008" y="32.8000004">&lt;/null&gt;</tspan>\n      </text>\n      <rect id="\u77e9\u5f62" fill="#E8EAEE" x="27.5600006" y="52.0800012" width="61.4800014" height="5.04000011" rx="2.52000006"></rect>\n      <rect\n        id="\u77e9\u5f62\u5907\u4efd"\n        fill="#E8EAEE"\n        x="27.5600006"\n        y="63.8400014"\n        width="61.4800014"\n        height="5.04000011"\n        rx="2.52000006"\n      ></rect>\n      <path\n        d="M0,75.6000017 L29.280235,75.6000017 C32.0637502,75.6000017 34.3202352,77.8564866 34.3202352,80.6400018 L34.3202352,86.2591426 C34.3202352,89.0426578 36.5767201,91.2991427 39.3602353,91.2991427 L78.4136737,91.2991427 C81.1971889,91.2991427 83.4536738,89.0426578 83.4536738,86.2591426 L83.4536738,80.6400018 C83.4536738,77.8564866 85.7101587,75.6000017 88.4936739,75.6000017 L117.600003,75.6000017 L117.600003,75.6000017 L117.600003,110.880003 C117.600003,115.519195 113.839194,119.280003 109.200002,119.280003 L8.40000019,119.280003 C3.76080819,119.280003 -6.53729019e-15,115.519195 0,110.880003 L0,75.6000017 L0,75.6000017 Z"\n        id="\u77e9\u5f62"\n        fill="#EDEFF2"\n      ></path>\n    </g>\n  </g>\n</g>\n</svg>',drag:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit="" preserveAspectRatio="xMidYMid meet" focusable="false"><g id="aijaction/drag--" stroke-width="1" fill-rule="evenodd"><g id="aij\u62d6\u52a8" transform="translate(5 1)" fill-rule="nonzero"><path d="M1 2a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zM1 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm-4 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" id="aij\u5f62\u72b6\u7ed3\u5408"></path></g></g></svg>'};let bl=(()=>{class i{set iconName(t){this.setSvg(t)}constructor(t){this.elementRef=t,this.isIcon=!0}setSvg(t){this.elementRef.nativeElement.innerHTML=yl[t]||""}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-icon"]],hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt-icon",s.isIcon)},inputs:{iconName:"iconName"},decls:0,vars:0,template:function(e,s){},encapsulation:2})}return i})(),ti=(()=>{class i{transform(t){return t===ft.range}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275pipe=n.Yjl({name:"isGanttRangeItem",type:i,pure:!0})}return i})(),Cl=(()=>{class i{transform(t){return t===ft.bar}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275pipe=n.Yjl({name:"isGanttBarItem",type:i,pure:!0})}return i})(),Tl=(()=>{class i{transform(t){return t===ft.custom}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275pipe=n.Yjl({name:"isGanttCustomItem",type:i,pure:!0})}return i})(),wl=(()=>{class i{set viewportItems(t){const e=t[0];e&&e.hasOwnProperty("items")&&(this.hasGroup=!0),this.ganttTableEmptyClass=!t?.length,this._viewportItems=t}get viewportItems(){return this._viewportItems}constructor(t,e,s,o){this.gantt=t,this.ganttUpper=e,this.cdr=s,this.document=o,this.draggable=!1,this.dragDropped=new n.vpe,this.dragStarted=new n.vpe,this.dragEnded=new n.vpe,this.itemClick=new n.vpe,this.ganttTableClass=!0,this.ganttTableEmptyClass=!1,this.ganttTableDragging=!1,this.hasExpandIcon=!1,this.itemDragsMap=new Map,this.itemDragMoved=new y.x,this.destroy$=new y.x}ngOnInit(){this.columns.changes.pipe((0,q.O)(this.columns),(0,_.R)(this.destroy$)).subscribe(()=>{this.hasExpandIcon=!1,this.columns.forEach(t=>{t.columnWidth||(t.columnWidth=(0,S.HM)(100)),t.showExpandIcon&&(this.hasExpandIcon=!0)}),this.cdr.detectChanges()})}ngAfterViewInit(){this.cdkDrags.changes.pipe((0,q.O)(this.cdkDrags),(0,_.R)(this.destroy$)).subscribe(t=>{this.itemDragsMap.clear(),t.forEach(e=>{e.data&&this.itemDragsMap.set(e.element.nativeElement,e)})}),this.itemDragMoved.pipe((0,en.e)(30),(0,W.h)(t=>t.source._dragRef.isDragging()),(0,_.R)(this.destroy$)).subscribe(t=>{this.onItemDragMoved(t)})}expandGroup(t){this.gantt.expandGroup(t)}expandChildren(t,e){t.stopPropagation(),this.gantt.expandChildren(e)}onItemDragStarted(t){this.ganttTableDragging=!0,this.getChildrenElementsByElement(t.source.element.nativeElement).forEach(s=>{s.classList.add("drag-item-hide")}),this.dragStarted.emit({source:t.source.data?.origin,sourceParent:this.getParentByItem(t.source.data)?.origin})}emitItemDragMoved(t){this.itemDragMoved.next(t)}onItemDragMoved(t){let e=this.document.elementFromPoint(t.pointerPosition.x,t.pointerPosition.y);if(!e)return void this.cleanupDragArtifacts();let s=e.classList.contains("gantt-table-item")?e:e.closest(".gantt-table-item");if(s)if(this.itemDropTarget={id:this.itemDragsMap.get(s)?.data.id,position:this.getTargetPosition(s,t)},this.dropEnterPredicate){const o=this.itemDragsMap.get(s);this.dropEnterPredicate({source:t.source.data.origin,target:o.data.origin,dropPosition:this.itemDropTarget.position})?this.showDropPositionPlaceholder(s):(this.itemDropTarget=null,this.cleanupDragArtifacts(!1))}else this.showDropPositionPlaceholder(s);else this.cleanupDragArtifacts()}onItemDragEnded(t){this.ganttTableDragging=!1,this.dragEnded.emit({source:t.source.data?.origin,sourceParent:this.getParentByItem(t.source.data)?.origin}),this.getChildrenElementsByElement(t.source.element.nativeElement).forEach(s=>{s.classList.remove("drag-item-hide")})}onListDropped(t){if(!this.itemDropTarget)return;const e=t.item.data,s=this.getParentByItem(e),o=this.getExpandChildrenByDrag(t.item),l=this.cdkDrags.find(d=>d.data?.id===this.itemDropTarget.id)?.data,c=this.getParentByItem(l);switch(this.removeItem(e,o),this.itemDropTarget.position){case"before":case"after":this.insertItem(l,e,o,this.itemDropTarget.position),e.updateLevel(l.level);break;case"inside":this.insertChildrenItem(l,e,o),e.updateLevel(l.level+1)}this.dragDropped.emit({source:e.origin,sourceParent:s?.origin,target:l.origin,targetParent:c?.origin,dropPosition:this.itemDropTarget.position}),this.cleanupDragArtifacts(!0)}trackBy(t,e){return e.id||t}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}removeItem(t,e){this.viewportItems.splice(this.viewportItems.indexOf(t),1+e.length),this.flatItems.splice(this.flatItems.indexOf(t),1+e.length)}insertItem(t,e,s,o){if("before"===o)this.viewportItems.splice(this.viewportItems.indexOf(t),0,e,...s),this.flatItems.splice(this.flatItems.indexOf(t),0,e,...s);else{const a=this.cdkDrags.find(c=>c.data===t);let l=0;t.expanded&&(l=this.getChildrenElementsByElement(a.element.nativeElement)?.length||0),this.viewportItems.splice(this.viewportItems.indexOf(t)+1+l,0,e,...s),this.flatItems.splice(this.flatItems.indexOf(t)+1+l,0,e,...s)}}insertChildrenItem(t,e,s){t.expanded&&(this.viewportItems.splice(this.viewportItems.indexOf(t)+t.children.length+1,0,e,...s),this.flatItems.splice(this.flatItems.indexOf(t)+t.children.length+1,0,e,...s)),t.children.push(e)}getParentByItem(t){return(this.flatItems||[]).find(e=>e.children?.includes(t))}getExpandChildrenByDrag(t){return t.data.expanded?this.getChildrenElementsByElement(t.element.nativeElement).map(s=>this.itemDragsMap.get(s).data):[]}getChildrenElementsByElement(t){const e=[],s=this.itemDragsMap.get(t);let o=(s.getPlaceholderElement()||t).nextElementSibling,a=this.itemDragsMap.get(o);for(;a&&a.data.level>s.data.level;)e.push(o),o=o.nextElementSibling,a=this.itemDragsMap.get(o);return e}getTargetPosition(t,e){const s=t.getBoundingClientRect(),o=.3*s.height;return e.pointerPosition.y-s.top<o?"before":e.pointerPosition.y>=s.bottom-o?"after":"inside"}showDropPositionPlaceholder(t){this.cleanupDragArtifacts(),this.itemDropTarget&&t&&t.classList.add(`drop-position-${this.itemDropTarget.position}`)}cleanupDragArtifacts(t=!1){t&&(this.itemDropTarget=null,this.document.querySelectorAll(".drag-item-hide").forEach(e=>e.classList.remove("drag-item-hide"))),this.document.querySelectorAll(".drop-position-before").forEach(e=>e.classList.remove("drop-position-before")),this.document.querySelectorAll(".drop-position-after").forEach(e=>e.classList.remove("drop-position-after")),this.document.querySelectorAll(".drop-position-inside").forEach(e=>e.classList.remove("drop-position-inside"))}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(Pe),n.Y36(P),n.Y36(n.sBO),n.Y36(g.K0))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-table-body"]],viewQuery:function(e,s){if(1&e&&n.Gf(ie,5),2&e){let o;n.iGM(o=n.CRH())&&(s.cdkDrags=o)}},hostVars:8,hostBindings:function(e,s){2&e&&n.ekj("gantt-table-draggable",s.draggable)("gantt-table-body",s.ganttTableClass)("gantt-table-empty",s.ganttTableEmptyClass)("gantt-table-dragging",s.ganttTableDragging)},inputs:{viewportItems:"viewportItems",flatItems:"flatItems",columns:"columns",groupTemplate:"groupTemplate",emptyTemplate:"emptyTemplate",rowBeforeTemplate:"rowBeforeTemplate",rowAfterTemplate:"rowAfterTemplate",draggable:"draggable",dropEnterPredicate:"dropEnterPredicate"},outputs:{dragDropped:"dragDropped",dragStarted:"dragStarted",dragEnded:"dragEnded",itemClick:"itemClick"},decls:3,vars:5,consts:[["cdkDropList","",1,"gantt-table-body-container",3,"cdkDropListAutoScrollStep","cdkDropListData","cdkDropListSortingDisabled","cdkDropListDropped"],[4,"ngIf"],[3,"ngTemplateOutlet"],["iconName","empty",1,"empty-icon"],[1,"empty-text"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","gantt-table-group",3,"ngClass",4,"ngIf"],["cdkDrag","","class","gantt-table-item",3,"cdkDragData","cdkDragDisabled","gantt-table-item-with-group","gantt-table-item-first-level-group","height","lineHeight","gantt-table-item-active","click","cdkDragStarted","cdkDragEnded","cdkDragMoved",4,"ngIf"],[1,"gantt-table-group",3,"ngClass"],[1,"gantt-table-group-title",3,"click"],[1,"expand-icon",3,"iconName"],[4,"ngIf","ngIfElse"],["default",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"group-title"],["cdkDrag","",1,"gantt-table-item",3,"cdkDragData","cdkDragDisabled","click","cdkDragStarted","cdkDragEnded","cdkDragMoved"],[3,"classList","width",4,"ngFor","ngForOf"],[3,"classList"],["class","gantt-drag-handle","iconName","drag","cdkDragHandle","",3,"cdkDragHandleDisabled",4,"ngIf"],["class","gantt-expand-icon",3,"marginLeft",4,"ngIf"],[1,"gantt-table-column-content"],["iconName","drag","cdkDragHandle","",1,"gantt-drag-handle",3,"cdkDragHandleDisabled"],[1,"gantt-expand-icon"],["class","expand-icon",3,"iconName","click",4,"ngIf"],[3,"iconName",4,"ngIf"],[1,"expand-icon",3,"iconName","click"],[3,"iconName"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n.NdJ("cdkDropListDropped",function(a){return s.onListDropped(a)}),n.YNc(1,ko,3,2,"ng-container",1),n.YNc(2,Wo,2,2,"ng-container",1),n.qZA()),2&e&&(n.Q6J("cdkDropListAutoScrollStep",6)("cdkDropListData",s.viewportItems)("cdkDropListSortingDisabled",!0),n.xp6(1),n.Q6J("ngIf",!(null!=s.viewportItems&&s.viewportItems.length)),n.xp6(1),n.Q6J("ngIf",s.viewportItems&&s.viewportItems.length>0))},dependencies:[g.mk,g.sg,g.O5,g.tP,Qn,ie,Hn,bl,ti],encapsulation:2})}return i})();class ei{constructor(){}generatePath(r,t,e){if(r.before&&r.after&&t.before&&t.after){let s="";switch(e){case M.ss:s=this.generateSSPath(r,t);break;case M.ff:s=this.generateFFPath(r,t);break;case M.sf:s=this.generateFSAndSFPath(r,t,e);break;default:s=this.generateFSAndSFPath(r,t)}return s}}}let xl=(()=>{let i=class extends ei{constructor(t){super(),this.ganttUpper=t}generateSSPath(t,e){const s=t.before.x,o=t.before.y,a=e.before.x,l=e.before.y,c=l>o?0:1,d=Math.abs(l-o)/2;return a>s?`M ${s} ${o}\n                    A ${d} ${d} 0 1 ${c} ${s} ${l}\n                    L ${a} ${l}`:`M ${s} ${o}\n                    L ${a} ${o}\n                    A ${d} ${d} 0 1 ${c} ${a} ${l}`}generateFFPath(t,e){const s=t.after.x,o=t.after.y,a=e.after.x,l=e.after.y,c=l>o?1:0,d=Math.abs(l-o)/2;return a>s?`M ${s} ${o}\n                    L ${a} ${o}\n                    A ${d} ${d} 0 1 ${c} ${a} ${l}`:`M ${s} ${o}\n                    A ${d} ${d} 0 1 ${c} ${s} ${l}\n                    L ${a} ${l}`}generateFSAndSFPath(t,e,s){let o=t.after.x,a=t.after.y,l=e.before.x,c=e.before.y;s===M.sf&&(o=e.after.x,a=e.after.y,l=t.before.x,c=t.before.y);let h=.5*Math.abs(l-o),u=o+h,m=l-h;const C=(o+l)/2,w=(a+c)/2;let x=this.ganttUpper.styles.lineHeight/2;const D=this.ganttUpper.styles.lineHeight/2;return o>=l?Math.abs(c-a)<=this.ganttUpper.styles.lineHeight?`M ${o} ${a}\n                    C ${o+x} ${a} ${o+x} ${c>a?a+x:a-x} ${o} ${c>a?a+D:a-D}\n                    L ${l} ${c>a?c-D:c+D}\n                    C ${l-D} ${c>a?c-D:c+D}  ${l-x} ${c} ${l} ${c}\n                    `:(x=this.ganttUpper.styles.lineHeight,`M ${o} ${a}\n                    C ${o+x} ${a} ${o+x} ${c>a?a+x:a-x} ${C} ${w}\n                    C ${l-x} ${c>a?c-x:c+x} ${l-x} ${c} ${l} ${c}\n                    `):this.ganttUpper.linkOptions?.showArrow&&l-o<200?(h=Math.max(.5*Math.abs(c-a),60),u=o+h,m=l-h,`M ${o} ${a} C ${u} ${a} ${m} ${c} ${l} ${c}`):`M ${o} ${a} C ${u} ${a} ${m} ${c} ${l} ${c}`}};return i=(0,z.gn)([(0,z.fM)(0,(0,n.tBr)(P))],i),i})();class Dl extends ei{constructor(){super(),this.pathControl=20}generateSSPath(r,t){const e=r.before.x,s=r.before.y,o=t.before.x,a=t.before.y,l=this.pathControl;return`M ${e} ${s}\n                        L ${o>e?e-l:o-l} ${s}\n                        L ${o>e?e-l:o-l} ${a}\n                        L ${o} ${a}`}generateFFPath(r,t){const e=r.after.x,s=r.after.y,o=t.after.x,a=t.after.y,l=this.pathControl;return`M ${e} ${s}\n                        L ${o>e?o+l:e+l} ${s}\n                        L ${o>e?o+l:e+l} ${a}\n                        L ${o} ${a}`}generateFSAndSFPath(r,t,e){let s=r.after.x,o=r.after.y,a=t.before.x,l=t.before.y;const c=this.pathControl;return e===M.sf&&(s=t.after.x,o=t.after.y,a=r.before.x,l=r.before.y),a-s>=40?`M ${s} ${o}\n                        L ${s+c} ${o}\n                        L ${s+c} ${l}\n                        L ${a} ${l}`:`M ${s} ${o}\n                        L ${s+c} ${o}\n                        L ${s+c} ${l>o?o+c:o-c}\n                        L ${a-c} ${l>o?o+c:o-c}\n                        L ${a-c} ${l}\n                        L ${a} ${l}`}}var G=function(i){return i.start="start",i.finish="finish",i}(G||{});let Gt,$t=(()=>{class i{constructor(t){this.ganttUpper=t,this.dragStarted=new n.vpe,this.dragMoved=new n.vpe,this.dragEnded=new n.vpe,this.linkDragStarted=new n.vpe,this.linkDragEntered=new n.vpe,this.linkDragEnded=new n.vpe,this.linkDragPath={from:null,to:null}}emitLinkDragStarted(t){this.linkDraggingId=t.item.id,this.linkDragPath.from=t,this.linkDragStarted.emit({source:t.item.origin,target:null})}emitLinkDragEntered(t){this.linkDragPath.to=t,this.linkDragEntered.emit({source:this.linkDragPath.from.item.origin,target:t.item.origin})}emitLinkDragLeaved(){this.linkDragPath.to=null}emitLinkDragEnded(t){if(t){this.linkDragPath.to=t;const e=function kl(i,r){return r.includes(M.ss)&&i.from.pos===G.start&&i.to.pos===G.start?M.ss:r.includes(M.ff)&&i.from.pos===G.finish&&i.to.pos===G.finish?M.ff:r.includes(M.sf)&&i.from.pos===G.start&&i.to.pos===G.finish?M.sf:M.fs}(this.linkDragPath,this.ganttUpper.linkOptions?.dependencyTypes);this.linkDragPath.from.item.addLink({link:this.linkDragPath.to.item.id,type:e}),this.linkDragEnded.emit({source:this.linkDragPath.from.item.origin,target:this.linkDragPath.to.item.origin,type:e})}this.linkDraggingId=null,this.linkDragPath={from:null,to:null}}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(P))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})(),zl=(()=>{class i{constructor(t,e,s,o,a){this.ganttUpper=t,this.cdr=e,this.elementRef=s,this.ganttDragContainer=o,this.ngZone=a,this.flatItems=[],this.lineClick=new n.vpe,this.links=[],this.ganttLinkTypes=M,this.showArrow=!1,this.linkItems=[],this.firstChange=!0,this.unsubscribe$=new y.x,this.ganttLinksOverlay=!0}ngOnInit(){this.linkLine=function Sl(i,r){switch(i){case At.curve:return new xl(r);case At.straight:return new Dl;default:throw new Error("gantt link path type invalid")}}(this.ganttUpper.linkOptions.lineType,this.ganttUpper),this.showArrow=this.ganttUpper.linkOptions.showArrow,this.firstChange=!1,this.buildLinks(),this.ganttDragContainer.dragStarted.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.visibility="hidden"}),(0,K.T)(this.ganttUpper.viewChange,this.ganttUpper.expandChange,this.ganttUpper.view.start$,this.ganttUpper.dragEnded,this.ganttUpper.linkDragEnded,this.ngZone.onStable.pipe((0,O.q)(1)).pipe((0,pe.w)(()=>this.ganttUpper.table?.dragDropped||nn.E))).pipe(ge(1),function Ni(i,r=fe.z){return(0,Xe.e)((t,e)=>{let s=null,o=null,a=null;const l=()=>{if(s){s.unsubscribe(),s=null;const d=o;o=null,e.next(d)}};function c(){const d=a+i,h=r.now();if(h<d)return s=this.schedule(void 0,d-h),void e.add(s);l()}t.subscribe((0,tn.x)(e,d=>{o=d,a=r.now(),s||(s=r.schedule(c,i),e.add(s))},()=>{l(),e.complete()},void 0,()=>{o=s=null}))})}(0),(0,_.R)(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.visibility="visible",this.buildLinks(),this.cdr.detectChanges()})}ngOnChanges(){this.firstChange||this.buildLinks()}computeItemPosition(){const t=this.ganttUpper.styles.lineHeight,e=this.ganttUpper.styles.barHeight;this.linkItems=[],this.flatItems.forEach((s,o)=>{if(!s.hasOwnProperty("items")){const a=s;if(a.refs){const l=o*t+a.refs.y+e/2;this.linkItems.push({...a,before:{x:a.refs.x,y:l},after:{x:a.refs.x+a.refs.width,y:l}})}}})}buildLinks(){this.computeItemPosition(),this.links=[],this.linkItems.forEach(t=>{(t.origin.start||t.origin.end)&&t.links.forEach(e=>{const s=this.linkItems.find(o=>o.id===e.link);if(s&&(s.origin.start||s.origin.end)){let o=Nt.default,a=Nt.active;e.type===M.fs&&t.end.getTime()>s.start.getTime()&&(o=Nt.blocked,a=Nt.blocked),e.color&&("string"==typeof e.color?(o=e.color,a=e.color):(o=e.color.default,a=e.color.active)),this.links.push({path:this.linkLine.generatePath(t,s,e.type),source:t.origin,target:s.origin,type:e.type,color:o,defaultColor:o,activeColor:a})}})})}trackBy(t){return t}onLineClick(t,e){this.lineClick.emit({event:t,source:e.source,target:e.target})}mouseEnterPath(t,e){t.color=t.activeColor||t.defaultColor,e<this.links.length-1&&(this.links.splice(e,1),this.links.push(t))}mouseLeavePath(t){t.color=t.defaultColor}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(P),n.Y36(n.sBO),n.Y36(n.SBq),n.Y36($t),n.Y36(n.R0b))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-links-overlay"]],hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt-links-overlay",s.ganttLinksOverlay)},inputs:{flatItems:"flatItems"},outputs:{lineClick:"lineClick"},features:[n.TTD],decls:3,vars:3,consts:[[1,"gantt-links-overlay-main"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"link-dragging-line"],["fill","transparent","stroke-width","2","pointer-events","none"],["stroke","transparent","stroke-width","9","fill","none","cursor","pointer",1,"link-line",3,"click","mouseenter","mouseleave"],[4,"ngIf"],["markerUnits","strokeWidth","markerWidth","5","markerHeight","4","refX","5","refY","2","orient","180",3,"id",4,"ngIf","ngIfElse"],["markerEnd",""],["markerUnits","strokeWidth","markerWidth","5","markerHeight","4","refX","5","refY","2","orient","180",3,"id"],["d","M 0 0 L 5 2 L 0 4 z"],["markerUnits","strokeWidth","markerWidth","5","markerHeight","4","refX","5","refY","2","orient","auto",3,"id"]],template:function(e,s){1&e&&(n.O4$(),n.TgZ(0,"svg",0),n.YNc(1,Vo,5,5,"ng-container",1),n._UZ(2,"line",2),n.qZA()),2&e&&(n.uIk("width",s.ganttUpper.view.width),n.xp6(1),n.Q6J("ngForOf",s.links)("ngForTrackBy",s.trackBy))},dependencies:[g.sg,g.O5],encapsulation:2})}return i})();const ot=function El(i){return function Il(){if(null==Gt&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Gt=!0}))}finally{Gt=Gt||!1}return Gt}()?i:!!i.capture}({passive:!0});var Ct=function(i){return i[i.NONE=0]="NONE",i[i.LEFT=1]="LEFT",i[i.RIGHT=2]="RIGHT",i}(Ct||{});let Le=(()=>{class i{constructor(t,e){this.ngZone=t,this.platformId=e,this.unsubscribe$=new y.x}monitorScrollChange(){const t=[(0,R.R)(this.mainContainer,"scroll",ot),(0,R.R)(this.sideContainer,"scroll",ot)];this.mainFooter&&t.push((0,R.R)(this.mainFooter,"scroll",ot)),this.mainScrollbar&&t.push((0,R.R)(this.mainScrollbar,"scroll",ot)),this.ngZone.runOutsideAngular(()=>(0,K.T)(...t).pipe((0,_.R)(this.unsubscribe$)).subscribe(e=>{this.syncScroll(e)}))}syncScroll(t){const e=t.currentTarget,s=e.classList;s.contains("gantt-side-container")?(this.sideContainer.scrollTop=e.scrollTop,this.mainContainer.scrollTop=e.scrollTop):(this.mainContainer.scrollLeft=e.scrollLeft,this.calendarHeader.scrollLeft=e.scrollLeft,this.calendarOverlay.scrollLeft=e.scrollLeft,this.mainScrollbar&&(this.mainScrollbar.scrollLeft=e.scrollLeft),this.mainFooter&&(this.mainFooter.scrollLeft=e.scrollLeft),s.contains("gantt-main-container")&&(this.sideContainer.scrollTop=e.scrollTop,this.mainContainer.scrollTop=e.scrollTop))}disableBrowserWheelEvent(){const t=this.mainContainer;this.ngZone.runOutsideAngular(()=>(0,R.R)(t,"wheel").pipe((0,_.R)(this.unsubscribe$)).subscribe(e=>{const s=e.deltaX;s&&(t.scrollLeft+t.offsetWidth===t.scrollWidth&&s>0||0===t.scrollLeft&&s<0)&&e.preventDefault()}))}initialize(t){this.root=t.nativeElement,this.side=this.root.getElementsByClassName("gantt-side")[0],this.container=this.root.getElementsByClassName("gantt-container")[0],this.sideContainer=this.root.getElementsByClassName("gantt-side-container")[0],this.mainContainer=this.root.getElementsByClassName("gantt-main-container")[0],this.mainScrollbar=this.root.getElementsByClassName("gantt-main-scrollbar")[0],this.mainFooter=this.root.getElementsByClassName("gantt-container-footer")[0],this.verticalScrollContainer=this.root.getElementsByClassName("gantt-scroll-container")[0];const e=this.mainContainer.getElementsByClassName("gantt-main-items")[0],s=this.mainContainer.getElementsByClassName("gantt-main-groups")[0];this.mainItems=e||s,this.calendarHeader=this.root.getElementsByClassName("gantt-calendar-header")[0],this.calendarOverlay=this.root.getElementsByClassName("gantt-calendar-grid")[0],this.monitorScrollChange(),this.disableBrowserWheelEvent()}getViewerScroll(t){const e=[(0,R.R)(this.mainContainer,"scroll",t)];return this.mainFooter&&e.push((0,R.R)(this.mainFooter,"scroll",t)),this.mainScrollbar&&e.push((0,R.R)(this.mainScrollbar,"scroll",t)),new Zt.y(s=>this.ngZone.runOutsideAngular(()=>(0,K.T)(...e).pipe((0,me.U)(()=>this.mainContainer.scrollLeft),(0,Pi.G)(),(0,me.U)(([o,a])=>{const l={target:this.mainContainer,direction:Ct.NONE};return a-o<0&&this.mainContainer.scrollLeft<50&&this.mainContainer.scrollLeft>0&&(l.direction=Ct.LEFT),a-o>0&&this.mainContainer.scrollWidth-this.mainContainer.clientWidth-this.mainContainer.scrollLeft<50&&(l.direction=Ct.RIGHT),l})).subscribe(s)))}getResize(){return(0,g.PM)(this.platformId)?nn.E:(0,R.R)(window,"resize").pipe((0,en.e)(150))}scrollMainContainer(t){if(Re(t)){const e=t-this.mainContainer.clientWidth/2;this.mainContainer.scrollLeft=e>50?e:0,this.calendarHeader.scrollLeft=this.mainContainer.scrollLeft,this.calendarOverlay.scrollLeft=this.mainContainer.scrollLeft,this.mainScrollbar&&(this.mainScrollbar.scrollLeft=this.mainContainer.scrollLeft),this.mainFooter&&(this.mainFooter.scrollLeft=this.mainContainer.scrollLeft)}}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(n.R0b),n.LFG(n.Lbi))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})();const Be="gantt-bar-active";function ri(i,r){const t=document.createElementNS("http://www.w3.org/2000/svg",i);return t.classList.add(r),t}let oi=(()=>{class i{get dragDisabled(){return!this.item.draggable||!this.ganttUpper.draggable}get linkDragDisabled(){return!this.item.linkable||!this.ganttUpper.linkable}get barHandleDragMoveAndScrollDistance(){return this.barHandleDragMoveDistance+this.dragScrollDistance}get autoScrollStep(){return Math.pow(2,this.autoScrollSpeedRates)}constructor(t,e,s,o){this.dragDrop=t,this.dom=e,this.dragContainer=s,this._ngZone=o,this.dragRefs=[],this.destroy$=new y.x,this.stopScrollTimers$=new y.x,this.barDragMoveDistance=0,this.barHandleDragMoveDistance=0,this.dragScrolling=!1,this.dragScrollDistance=0,this._horizontalScrollDirection=0,this.autoScrollSpeedRates=1,this.startScrollInterval=()=>{this.stopScrolling(),rn(0,on.Z).pipe((0,_.R)(this.stopScrollTimers$)).subscribe(()=>{const a=this.dom.mainContainer,l=this.autoScrollStep;1===this._horizontalScrollDirection?a.scrollBy(-l,0):2===this._horizontalScrollDirection&&a.scrollBy(l,0)})}}createDragRef(t){return this.dragDrop.createDrag(t)}createDragScrollEvent(t){return(0,R.R)(this.dom.mainContainer,"scroll",ot).pipe((0,_.R)(t.ended))}createMouseEvents(){const t=1===this.ganttUpper.config.linkOptions?.dependencyTypes?.length&&this.ganttUpper.config.linkOptions?.dependencyTypes[0]===M.fs?"gantt-bar-single-drop-active":"gantt-bar-drop-active";(0,R.R)(this.barElement,"mouseenter",ot).pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.dragContainer.linkDraggingId&&this.dragContainer.linkDraggingId!==this.item.id?this.item.linkable&&(this.barElement.classList.add(t),this.dragContainer.emitLinkDragEntered({item:this.item,element:this.barElement})):this.barElement.classList.add(Be)}),(0,R.R)(this.barElement,"mouseleave",ot).pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.dragContainer.linkDraggingId?this.dragContainer.emitLinkDragLeaved():this.barElement.classList.remove(Be),this.barElement.classList.remove(t)})}createBarDrag(){const t=this.createDragRef(this.barElement);return t.lockAxis="x",t.withBoundaryElement(this.dom.mainItems),t.started.subscribe(()=>{this.setDraggingStyles(),this.containerScrollLeft=this.dom.mainContainer.scrollLeft,this.createDragScrollEvent(t).subscribe(()=>{t.isDragging()&&(this.dragScrollDistance=this.dom.mainContainer.scrollLeft-this.containerScrollLeft,t._boundaryRect=this.dom.mainItems.getBoundingClientRect(),this.barDragMove())}),this.dragContainer.dragStarted.emit({item:this.item.origin})}),t.moved.subscribe(e=>{this.startScrollingIfNecessary(e.pointerPosition.x,e.pointerPosition.y),this.barDragMoveDistance=e.distance.x,this.dragScrolling||this.barDragMove()}),t.ended.subscribe(e=>{this.clearDraggingStyles(),this.closeDragBackdrop(),e.source.reset(),this.stopScrolling(),this.dragScrolling=!1,this.dragScrollDistance=0,this.barDragMoveDistance=0,this.item.updateRefs({width:this.ganttUpper.view.getDateRangeWidth(this.item.start.startOfDay(),this.item.end.endOfDay()),x:this.ganttUpper.view.getXPointByDate(this.item.start),y:(this.ganttUpper.styles.lineHeight-this.ganttUpper.styles.barHeight)/2-1}),this.dragContainer.dragEnded.emit({item:this.item.origin})}),this.barDragRef=t,t}createBarHandleDrags(){const t=[];return this.barElement.querySelectorAll(".drag-handles .handle").forEach((s,o)=>{const a=0===o,l=this.createDragRef(s);l.lockAxis="x",l.withBoundaryElement(this.dom.mainItems),l.started.subscribe(()=>{this.setDraggingStyles(),this.containerScrollLeft=this.dom.mainContainer.scrollLeft,this.createDragScrollEvent(l).subscribe(()=>{l.isDragging()&&(this.dragScrollDistance=this.dom.mainContainer.scrollLeft-this.containerScrollLeft,l._boundaryRect=this.dom.mainItems.getBoundingClientRect(),this.dragScrolling&&this.isStartGreaterThanEndWhenBarHandleDragMove(a)&&(this.stopScrolling(),this.dragScrolling=!1),a?this.barBeforeHandleDragMove():this.barAfterHandleDragMove())}),this.dragContainer.dragStarted.emit({item:this.item.origin})}),l.moved.subscribe(c=>{this.barHandleDragMoveRecordDays&&this.barHandleDragMoveRecordDays>0&&this.startScrollingIfNecessary(c.pointerPosition.x,c.pointerPosition.y),this.barHandleDragMoveDistance=c.distance.x,this.dragScrolling||(a?this.barBeforeHandleDragMove():this.barAfterHandleDragMove())}),l.ended.subscribe(c=>{this.clearDraggingStyles(),this.closeDragBackdrop(),c.source.reset(),this.stopScrolling(),this.dragScrolling=!1,this.dragScrollDistance=0,this.barHandleDragMoveDistance=0,this.item.updateRefs({width:this.ganttUpper.view.getDateRangeWidth(this.item.start.startOfDay(),this.item.end.endOfDay()),x:this.ganttUpper.view.getXPointByDate(this.item.start),y:(this.ganttUpper.styles.lineHeight-this.ganttUpper.styles.barHeight)/2-1}),this.dragContainer.dragEnded.emit({item:this.item.origin})}),t.push(l)}),t}createLinkHandleDrags(){const t=[];return this.barElement.querySelectorAll(".link-handles .handle").forEach((s,o)=>{const a=0===o,l=this.dragDrop.createDrag(s);l.withBoundaryElement(this.dom.root),l.beforeStarted.subscribe(()=>{s.style.pointerEvents="none",this.barDragRef&&(this.barDragRef.disabled=!0),this.createLinkDraggingLine(),this.dragContainer.emitLinkDragStarted({element:this.barElement,item:this.item,pos:a?G.start:G.finish})}),l.moved.subscribe(()=>{const c=this.calcLinkLinePositions(s,a);this.linkDraggingLine.setAttribute("x1",c.x1.toString()),this.linkDraggingLine.setAttribute("y1",c.y1.toString()),this.linkDraggingLine.setAttribute("x2",c.x2.toString()),this.linkDraggingLine.setAttribute("y2",c.y2.toString())}),l.ended.subscribe(c=>{if(s.style.pointerEvents="",this.barDragRef&&(this.barDragRef.disabled=!1),this.dragContainer.linkDragPath.to){const d=c.source.getRootElement().getBoundingClientRect().x-this.dragContainer.linkDragPath.to.element.getBoundingClientRect().x;this.dragContainer.emitLinkDragEnded({...this.dragContainer.linkDragPath.to,pos:d<this.dragContainer.linkDragPath.to.item.refs.width/2?G.start:G.finish})}else this.dragContainer.emitLinkDragEnded();c.source.reset(),this.barElement.classList.remove(Be),this.destroyLinkDraggingLine()}),t.push(l)}),t}openDragBackdrop(t,e,s){const o=this.dom.root.querySelector(".gantt-drag-backdrop"),a=this.dom.root.querySelector(".gantt-drag-mask"),l=this.dom.root.getBoundingClientRect(),c=t.getBoundingClientRect();let d=c.left-l.left-(this.dom.side.clientWidth+1);this.dragScrolling&&(1===this._horizontalScrollDirection?d+=this.autoScrollStep:2===this._horizontalScrollDirection&&(d-=this.autoScrollStep));const h=c.right-c.left;a.style.left=d+"px",a.style.width=h+"px",a.style.display="block",o.style.display="block",a.querySelector(".start").innerHTML=e.format("MM-dd"),a.querySelector(".end").innerHTML=s.format("MM-dd")}closeDragBackdrop(){const t=this.dom.root.querySelector(".gantt-drag-backdrop");this.dom.root.querySelector(".gantt-drag-mask").style.display="none",t.style.display="none"}setDraggingStyles(){this.barElement.classList.add("gantt-bar-draggable-drag")}clearDraggingStyles(){this.barElement.classList.remove("gantt-bar-draggable-drag")}barDragMove(){const t=this.item.refs.x+this.barDragMoveDistance+this.dragScrollDistance,e=this.ganttUpper.view.getDateByXPoint(t),s=this.ganttUpper.view.getXPointByDate(e),o=this.ganttUpper.view.getDayOccupancyWidth(e),a=Vt(this.item.end.value,this.item.start.value);let l=e,c=e.addDays(a);t>s+o/2&&(l=l.addDays(1),c=c.addDays(1)),this.dragScrolling&&(this.barElement.style.left=t-this.barDragMoveDistance+"px"),this.openDragBackdrop(this.barElement,this.ganttUpper.view.getDateByXPoint(t),this.ganttUpper.view.getDateByXPoint(t+this.item.refs.width)),this.isStartOrEndInsideView(l,c)&&(this.item.updateDate(l,c),this.dragContainer.dragMoved.emit({item:this.item.origin}))}barBeforeHandleDragMove(){const{x:t,start:e,oneDayWidth:s}=this.startOfBarHandle(),o=this.item.refs.width+-1*this.barHandleDragMoveAndScrollDistance,a=be(this.item.end.value,e.value);if(o>10&&a>0){if(this.barElement.style.width=o+"px",this.barElement.style.left=t+"px",this.openDragBackdrop(this.barElement,e,this.item.end),!this.isStartOrEndInsideView(e,this.item.end))return;this.item.updateDate(e,this.item.end)}else{if(this.barHandleDragMoveRecordDays>0&&a<=0){this.barElement.style.width=s+"px";const l=this.ganttUpper.view.getXPointByDate(this.item.end);this.barElement.style.left=l+"px"}this.openDragBackdrop(this.barElement,this.item.end.startOfDay(),this.item.end),this.item.updateDate(this.item.end.startOfDay(),this.item.end)}this.barHandleDragMoveRecordDays=a,this.dragContainer.dragMoved.emit({item:this.item.origin})}barAfterHandleDragMove(){const{width:t,end:e}=this.endOfBarHandle(),s=be(e.value,this.item.start.value);if(t>10&&s>0){if(this.barElement.style.width=t+"px",this.openDragBackdrop(this.barElement,this.item.start,e),!this.isStartOrEndInsideView(this.item.start,e))return;this.item.updateDate(this.item.start,e)}else{if(this.barHandleDragMoveRecordDays>0&&s<=0){const o=this.ganttUpper.view.getDateRangeWidth(this.item.start,this.item.start.endOfDay());this.barElement.style.width=o+"px"}this.openDragBackdrop(this.barElement,this.item.start,this.item.start.endOfDay()),this.item.updateDate(this.item.start,this.item.start.endOfDay())}this.barHandleDragMoveRecordDays=s,this.dragContainer.dragMoved.emit({item:this.item.origin})}calcLinkLinePositions(t,e){const s=this.dom.root.getBoundingClientRect(),o=t.getBoundingClientRect(),a=t.parentElement.parentElement.getBoundingClientRect();return{x1:a.left+(e?0:a.width)-s.left,y1:a.top+a.height/2-s.top,x2:o.left-s.left+o.width/2,y2:o.top-s.top+o.height/2}}createLinkDraggingLine(){if(!this.linkDraggingLine){const t=ri("svg","gantt-link-drag-container"),e=ri("line","link-dragging-line");e.style.pointerEvents="none",t.appendChild(e),this.dom.root.appendChild(t),this.linkDraggingLine=e}}destroyLinkDraggingLine(){this.linkDraggingLine&&(this.linkDraggingLine.parentElement.remove(),this.linkDraggingLine=null)}startScrollingIfNecessary(t,e){const s=this.dom.mainContainer.getBoundingClientRect(),o=this.dom.mainContainer.scrollLeft;if(function Ml(i,r,t,e){const{top:s,right:o,bottom:a,left:l,width:c,height:d}=i,h=c*r,u=d*r;return e>s-u&&e<a+u&&t>l-h&&t<o+h}(s,.05,t,e)){const a=function Ol(i,r){const{left:t,right:e,width:s}=i,o=.05*s;return r>=t-o&&r<=t+o?1:r>=e-o&&r<=e+o?2:0}(s,t);1===a&&o>0||2===a&&o<this.ganttUpper.view.width-s.width?(this._horizontalScrollDirection=a,this.autoScrollSpeedRates=function Rl(i,r,t){let e=4;const{left:o,right:a,width:l}=i,c=.05*l;return 1===t&&(e=Math.ceil((c-(r>o?r-o:0))/(c/4))),2===t&&(e=Math.ceil((c-(a>r?a-r:0))/(c/4))),e}(s,t,a),this.dragScrolling=!0,this._ngZone.runOutsideAngular(this.startScrollInterval)):(this.dragScrolling=!1,this.stopScrolling())}}isStartGreaterThanEndWhenBarHandleDragMove(t){let e,s;const o=this.dom.mainContainer.scrollLeft,a=this.dom.mainContainer.clientWidth,l=.05*a;if(t){const{start:c,oneDayWidth:d}=this.startOfBarHandle(),h=this.ganttUpper.view.getXPointByDate(this.item.end);e=c.value>this.item.end.value,s=h+d+l<=o+a}else{const{end:c}=this.endOfBarHandle(),d=this.ganttUpper.view.getXPointByDate(this.item.start);e=c.value<this.item.start.value,s=o+l<=d}return!(!e||!s)}startOfBarHandle(){const t=this.item.refs.x+this.barHandleDragMoveAndScrollDistance;return{x:t,start:this.ganttUpper.view.getDateByXPoint(t),oneDayWidth:this.ganttUpper.view.getDateRangeWidth(this.item.end.startOfDay(),this.item.end)}}endOfBarHandle(){const t=this.item.refs.width+this.barHandleDragMoveAndScrollDistance;return{width:t,end:this.ganttUpper.view.getDateByXPoint(this.item.refs.x+t)}}stopScrolling(){this.stopScrollTimers$.next()}isStartOrEndInsideView(t,e){const s=t.getUnixTime(),o=e.getUnixTime(),a=this.ganttUpper.view.start.getUnixTime(),l=this.ganttUpper.view.end.getUnixTime();return!(s<a||o>l)}createDrags(t,e,s){if(this.item=e,this.barElement=t.nativeElement,this.ganttUpper=s,!this.dragDisabled||!this.linkDragDisabled){if(this.createMouseEvents(),!this.dragDisabled){const o=this.createBarDrag(),a=this.createBarHandleDrags();this.dragRefs.push(o,...a)}if(!this.linkDragDisabled){const o=this.createLinkHandleDrags();this.dragRefs.push(...o)}}}updateItem(t){this.item=t}ngOnDestroy(){this.closeDragBackdrop(),this.dragRefs.forEach(t=>t.dispose()),this.destroy$.next(),this.destroy$.complete(),this.stopScrolling(),this.stopScrollTimers$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(ne),n.LFG(Le),n.LFG($t),n.LFG(n.R0b))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})(),ai=(()=>{class i{constructor(t,e){this.elementRef=t,this.ganttUpper=e,this.firstChange=!0,this.unsubscribe$=new y.x,this.refsUnsubscribe$=new y.x}ngOnInit(){this.firstChange=!1,this.item.refs$.pipe((0,_.R)(this.refsUnsubscribe$)).subscribe(()=>{this.setPositions()})}ngOnChanges(t){this.firstChange||this.itemChange(t.item.currentValue)}itemChange(t){this.refsUnsubscribe$.next(),this.refsUnsubscribe$.complete(),this.item=t,this.item.refs$.pipe((0,_.R)(this.refsUnsubscribe$)).subscribe(()=>{this.setPositions()})}setPositions(){const t=this.elementRef.nativeElement;t.style.left=this.item.refs?.x+"px",t.style.top=this.item.refs?.y+"px",t.style.width=this.item.refs?.width+"px",this.item.type===ft.bar?t.style.height=this.ganttUpper.styles.barHeight+"px":this.item.type===ft.range&&(t.style.height="17px")}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.refsUnsubscribe$.next(),this.refsUnsubscribe$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(P))};static#e=this.\u0275dir=n.lG2({type:i,inputs:{template:"template",item:"item"},features:[n.TTD]})}return i})();function li(i,r,t){return`linear-gradient(${i},${r} 0%,${t} 40%)`}let Fl=(()=>{class i extends ai{constructor(t,e,s,o,a){super(s,o),this.dragContainer=t,this.drag=e,this.ganttUpper=o,this.ngZone=a,this.barClick=new n.vpe,this.ganttItemClass=!0}ngOnInit(){super.ngOnInit(),this.dragContainer.dragStarted.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.pointerEvents="none"}),this.dragContainer.dragEnded.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.elementRef.nativeElement.style.pointerEvents="",this.setContentBackground()})}ngOnChanges(t){super.ngOnChanges(t),this.firstChange||(this.drag.updateItem(this.item),(t.item.currentValue.refs?.width!==t.item.previousValue.refs?.width||t.item.currentValue.color!==t.item.previousValue.color||t.item.currentValue.start?.value!==t.item.previousValue.start?.value||t.item.currentValue.end?.value!==t.item.previousValue.end?.value)&&this.setContentBackground())}ngAfterViewInit(){const t=this.ngZone.isStable?(0,St.D)(Promise.resolve()):this.ngZone.onStable.pipe((0,O.q)(1));this.ngZone.runOutsideAngular(()=>{t.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.drag.createDrags(this.elementRef,this.item,this.ganttUpper)})}),this.setContentBackground(),this.handles.changes.pipe((0,q.O)(this.handles),(0,pe.w)(()=>new Zt.y(e=>this.ngZone.runOutsideAngular(()=>(0,K.T)(...this.handles.toArray().map(s=>(0,R.R)(s.nativeElement,"mousedown"))).subscribe(e)))),(0,_.R)(this.unsubscribe$)).subscribe(e=>{e.stopPropagation()})}onBarClick(t){this.barClick.emit({event:t,item:this.item.origin})}setContentBackground(){if(this.item.refs?.width){const t=this.contentElementRef.nativeElement,e=this.item.color||"#6698ff",s=this.item.barStyle||{},o=this.elementRef.nativeElement;if(this.item.origin.start&&this.item.origin.end&&(s.background=e,s.borderRadius=""),this.item.origin.start&&!this.item.origin.end){s.background=li("to left",Bt(e,.55),Bt(e,1));const a="4px 12.5px 12.5px 4px";s.borderRadius=a,o.style.borderRadius=a}if(!this.item.origin.start&&this.item.origin.end){s.background=li("to right",Bt(e,.55),Bt(e,1));const a="12.5px 4px 4px 12.5px";s.borderRadius=a,o.style.borderRadius=a}if(this.item.progress>=0){const a=t.querySelector(".gantt-bar-content-progress");s.background=Bt(e,.3),s.borderRadius="",a.style.background=e}for(const a in s)s.hasOwnProperty(a)&&(t.style[a]=s[a])}}stopPropagation(t){t.stopPropagation()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36($t),n.Y36(oi),n.Y36(n.SBq),n.Y36(P),n.Y36(n.R0b))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt-bar"],["gantt-bar"]],viewQuery:function(e,s){if(1&e&&(n.Gf(jo,5),n.Gf(Jo,5)),2&e){let o;n.iGM(o=n.CRH())&&(s.contentElementRef=o.first),n.iGM(o=n.CRH())&&(s.handles=o)}},hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt-bar",s.ganttItemClass)},outputs:{barClick:"barClick"},features:[n._Bn([oi]),n.qOj,n.TTD],decls:9,vars:8,consts:[[1,"gantt-bar-layer"],[1,"drag-handles"],[4,"ngIf"],["class","link-handles",4,"ngIf"],[1,"gantt-bar-border"],[1,"gantt-bar-content",3,"click"],["content",""],["class","gantt-bar-content-progress",3,"width",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"handle"],["handle",""],[1,"link-handles"],[1,"point"],[1,"gantt-bar-content-progress"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n.YNc(2,qo,5,0,"ng-container",2),n.qZA(),n.YNc(3,Ko,5,0,"div",3),n.qZA(),n._UZ(4,"div",4),n.TgZ(5,"div",5,6),n.NdJ("click",function(a){return s.onBarClick(a)}),n.YNc(7,Xo,1,2,"div",7),n.YNc(8,ta,0,0,"ng-template",8),n.qZA()),2&e&&(n.xp6(2),n.Q6J("ngIf",s.item.draggable&&s.ganttUpper.draggable),n.xp6(1),n.Q6J("ngIf",s.item.linkable&&s.ganttUpper.linkable),n.xp6(4),n.Q6J("ngIf",s.item.progress>=0),n.xp6(1),n.Q6J("ngTemplateOutlet",s.template)("ngTemplateOutletContext",n.WLB(5,Oe,s.item.origin,s.item.refs)))},dependencies:[g.O5,g.tP],encapsulation:2})}return i})(),Ll=(()=>{class i extends ai{constructor(t,e){super(t,e),this.ganttRangeClass=!0}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(P))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt-range"],["gantt-range"]],hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt-range",s.ganttRangeClass)},features:[n.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"gantt-range-main"],["class","gantt-range-main-progress",3,"width",4,"ngIf"],[1,"gantt-range-triangle","left"],[1,"gantt-range-triangle","right"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gantt-range-main-progress"]],template:function(e,s){1&e&&n.YNc(0,ia,6,6,"ng-container",0),2&e&&n.Q6J("ngIf",s.item.start&&s.item.end)},dependencies:[g.O5,g.tP],encapsulation:2})}return i})(),Bl=(()=>{class i{constructor(t,e){this.elementRef=t,this.ganttUpper=e,this.unsubscribe$=new y.x,this.ganttBaselineClass=!0}ngOnInit(){this.baselineItem.refs$.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.setPositions()})}setPositions(){const t=this.elementRef.nativeElement;t.style.left=this.baselineItem.refs.x+"px",t.style.bottom="2px",t.style.width=this.baselineItem.refs.width+"px"}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(P))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt-baseline"],["gantt-baseline"]],hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt-baseline",s.ganttBaselineClass)},inputs:{baselineItem:"baselineItem",template:"template"},decls:1,vars:1,consts:[["class","baseline-content",4,"ngIf"],[1,"baseline-content"],["content",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,s){1&e&&n.YNc(0,ra,3,5,"div",0),2&e&&n.Q6J("ngIf",s.baselineItem)},dependencies:[g.O5,g.tP],encapsulation:2})}return i})(),$l=(()=>{class i{constructor(t){this.ganttUpper=t,this.barClick=new n.vpe,this.lineClick=new n.vpe,this.ganttMainClass=!0}trackBy(t,e){return e.id||t}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(P))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-main"]],hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt-main-container",s.ganttMainClass)},inputs:{viewportItems:"viewportItems",flatItems:"flatItems",groupHeaderTemplate:"groupHeaderTemplate",itemTemplate:"itemTemplate",barTemplate:"barTemplate",rangeTemplate:"rangeTemplate",baselineTemplate:"baselineTemplate"},outputs:{barClick:"barClick",lineClick:"lineClick"},decls:3,vars:5,consts:[[3,"flatItems","lineClick"],[1,"gantt-main-groups"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","gantt-group",3,"ngClass",4,"ngIf"],["class","gantt-item",3,"height","gantt-main-item-active",4,"ngIf"],[1,"gantt-group",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gantt-item"],[4,"ngIf"],[3,"template","item",4,"ngIf"],[3,"item","template","barClick",4,"ngIf"],[3,"baselineItem","template",4,"ngIf"],[3,"template","item"],[3,"item","template","barClick"],[3,"baselineItem","template"]],template:function(e,s){1&e&&(n.TgZ(0,"gantt-links-overlay",0),n.NdJ("lineClick",function(a){return s.lineClick.emit(a)}),n.qZA(),n.TgZ(1,"div",1),n.YNc(2,_a,3,2,"ng-container",2),n.qZA()),2&e&&(n.Q6J("flatItems",s.flatItems),n.xp6(1),n.Udp("width",s.ganttUpper.view.width,"px"),n.xp6(1),n.Q6J("ngForOf",s.viewportItems)("ngForTrackBy",s.trackBy))},dependencies:[g.mk,g.sg,g.O5,g.tP,zl,Fl,Ll,Bl,ti,Cl,Tl],encapsulation:2})}return i})(),ci=(()=>{class i{get view(){return this.ganttUpper.view}constructor(t,e,s){this.ganttUpper=t,this.ngZone=e,this.elementRef=s,this.unsubscribe$=new y.x,this.headerHeight=44,this.viewTypes=I,this.className="gantt-calendar gantt-calendar-header"}ngOnInit(){this.ngZone.onStable.pipe((0,O.q)(1)).subscribe(()=>{(0,K.T)(this.ganttUpper.viewChange,this.ganttUpper.view.start$).pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.ganttUpper.viewType===I.day&&this.setTodayPoint()})})}setTodayPoint(){const t=this.view.getTodayXPoint(),e=(new f).getDate(),s=this.elementRef.nativeElement.getElementsByClassName("gantt-calendar-today-overlay")[0],o=this.elementRef.nativeElement.getElementsByClassName("today-rect")[0];Re(t)?o&&(o.style.left=t-17.5+"px",o.style.top="20px",o.innerHTML=e.toString()):s.style.display="none"}trackBy(t,e){return t.text||e}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(P),n.Y36(n.R0b),n.Y36(n.SBq))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-calendar-header"]],hostVars:2,hostBindings:function(e,s){2&e&&n.Tol(s.className)},decls:10,vars:15,consts:[[1,"gantt-calendar-today-overlay"],[1,"today-rect",3,"hidden"],["class","primary-text",3,"ngStyle","today","weekend",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","primary-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"header-line"],[1,"primary-text",3,"ngStyle"],[1,"secondary-text",3,"ngStyle"],[1,"primary-line"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n._UZ(1,"span",1),n.qZA(),n.O4$(),n.TgZ(2,"svg")(3,"g"),n.YNc(4,va,2,8,"text",2),n.YNc(5,ya,3,8,"ng-container",3),n.TgZ(6,"g"),n.YNc(7,ba,1,4,"line",4),n.qZA(),n.TgZ(8,"g"),n._UZ(9,"line",5),n.qZA()()()),2&e&&(n.Udp("width",s.view.width,"px"),n.xp6(1),n.Q6J("hidden",s.ganttUpper.viewType!==s.viewTypes.day),n.xp6(1),n.uIk("width",s.view.width)("height",s.headerHeight),n.xp6(2),n.Q6J("ngForOf",s.view.primaryDatePoints)("ngForTrackBy",s.trackBy),n.xp6(1),n.Q6J("ngForOf",s.view.secondaryDatePoints)("ngForTrackBy",s.trackBy),n.xp6(2),n.Q6J("ngForOf",s.view.primaryDatePoints)("ngForTrackBy",s.trackBy),n.xp6(2),n.uIk("x1",0)("x2",s.view.width)("y1",s.headerHeight)("y2",s.headerHeight))},dependencies:[g.sg,g.PC],encapsulation:2})}return i})(),hi=(()=>{class i{get view(){return this.ganttUpper.view}constructor(t,e,s){this.ganttUpper=t,this.ngZone=e,this.elementRef=s,this.unsubscribe$=new y.x,this.headerHeight=44,this.mainHeight=5e3,this.todayBorderRadius=4,this.viewTypes=I,this.className="gantt-calendar gantt-calendar-grid"}setTodayPoint(){const t=this.view.getTodayXPoint(),e=this.elementRef.nativeElement.getElementsByClassName("gantt-calendar-today-overlay")[0],s=this.elementRef.nativeElement.getElementsByClassName("today-line")[0];Re(t)?s&&(s.style.left=`${t}px`,s.style.top="0px",s.style.bottom="-5000px"):e.style.display="none"}ngOnInit(){this.ngZone.onStable.pipe((0,O.q)(1)).subscribe(()=>{(0,K.T)(this.ganttUpper.viewChange,this.ganttUpper.view.start$).pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.setTodayPoint()})})}trackBy(t,e){return t.text||e}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(P),n.Y36(n.R0b),n.Y36(n.SBq))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-calendar-grid"]],hostVars:2,hostBindings:function(e,s){2&e&&n.Tol(s.className)},decls:7,vars:8,consts:[[1,"gantt-calendar-today-overlay"],["class","today-line",4,"ngIf"],[1,"gantt-calendar-grid-main"],[4,"ngIf"],["class","primary-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"today-line"],["class","secondary-line",4,"ngFor","ngForOf","ngForTrackBy"],[1,"secondary-line"],[1,"primary-line"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n.YNc(1,Ca,1,0,"span",1),n.qZA(),n.O4$(),n.TgZ(2,"svg",2)(3,"g"),n.YNc(4,wa,2,2,"g",3),n.TgZ(5,"g"),n.YNc(6,xa,1,4,"line",4),n.qZA()()()),2&e&&(n.Udp("width",s.view.width,"px"),n.xp6(1),n.Q6J("ngIf",s.ganttUpper.showTodayLine),n.xp6(1),n.uIk("width",s.view.width)("height",s.headerHeight-1),n.xp6(2),n.Q6J("ngIf",s.view.showTimeline),n.xp6(2),n.Q6J("ngForOf",s.view.primaryDatePoints)("ngForTrackBy",s.trackBy))},dependencies:[g.sg,g.O5],encapsulation:2})}return i})(),Gl=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-loader"]],hostAttrs:[1,"gantt-loader","gantt-loader-overlay"],decls:3,vars:0,consts:[[1,"gantt-loader-wrapper"],[1,"gantt-loader-loading"],[1,"gantt-loader-loading-spot"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"span",2),n.qZA()())},encapsulation:2})}return i})(),$e=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["gantt-drag-backdrop"]],hostAttrs:[1,"gantt-drag-backdrop"],decls:4,vars:0,consts:[[1,"gantt-drag-mask"],[1,"date-range"],[1,"start"],[1,"end"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"span",2)(3,"span",3),n.qZA()())},encapsulation:2})}return i})(),Hl=(()=>{class i{constructor(){}setInlineStyles(t){const e=Array.from(t.getElementsByTagName("svg"));for(const s of e)this.recursElementChildren(s)}recursElementChildren(t){const e=["fill","color","font-size","stroke","font","text-anchor","stroke-dasharray","shape-rendering","stroke-width"];if(!t.style)return;const s=getComputedStyle(t);for(const o of e)t.style[o]=s[o];for(const o of Array.from(t.childNodes))this.recursElementChildren(o)}register(t){this.root=t.nativeElement,this.mainContainer=this.root.getElementsByClassName("gantt-main-container")[0]}print(t="download",e){var s=this;return Ke(function*(){const o=s.root,a=s.mainContainer,l=o.offsetWidth,c=o.offsetHeight-a.offsetHeight+a.scrollHeight;(0,(yield p.e(5).then(p.t.bind(p,4456,19))).default)(o,{logging:!1,allowTaint:!0,useCORS:!0,width:l,height:c,ignoreElements:h=>{if(e&&h.classList.contains(e)||h.classList.contains("gantt-calendar-today-overlay"))return!0},onclone:h=>{const m=h.querySelector(`.${o.className.replace(/\s+/g,".")}`),C=h.querySelector(".gantt-container"),w=h.querySelector(".gantt-calendar-grid-main"),x=h.querySelector(".gantt-links-overlay-main");m.style.width=`${l}px`,m.style.height=`${c}px`,m.style.overflow="unset",C.style.backgroundColor="#fff",w.setAttribute("height",`${c}`),w.setAttribute("style","background: transparent"),x&&(x.setAttribute("height",`${c}`),x.setAttribute("style",`height: ${c}px`)),s.setInlineStyles(m)}}).then(h=>{const u=document.createElement("a"),m=h.toDataURL("image/png");u.download=`${t}.png`,u.href=m,u.click()})})()}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})(),Yl=(()=>{class i{constructor(t){this.ganttUpper=t,this.ganttItemClass=!0,this.ganttViewsMap=Ne(ja,"value")}selectView(t){this.ganttUpper.changeView(t)}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(P))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt-toolbar"],["gantt-toolbar"]],hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("gantt-toolbar",s.ganttItemClass)},inputs:{template:"template"},decls:3,vars:2,consts:[[1,"toolbar-container"],[4,"ngIf"],[3,"ngTemplateOutlet"],["class","toolbar-views",4,"ngIf"],[1,"toolbar-views"],[4,"ngFor","ngForOf"],["class","toolbar-view",3,"active","click",4,"ngIf"],[1,"toolbar-view",3,"click"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n.YNc(1,za,2,1,"ng-container",1),n.YNc(2,Ia,0,0,"ng-template",2),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngIf",!s.template),n.xp6(1),n.Q6J("ngTemplateOutlet",s.template))},dependencies:[g.sg,g.O5,g.tP],encapsulation:2})}return i})(),Wl=(()=>{class i{get view(){return this.ganttUpper.view}onWindowResize(){this.computeScrollBarOffset()}constructor(t,e,s,o,a,l){this.elementRef=t,this.ngZone=e,this.dom=s,this.dragContainer=o,this.ganttUpper=a,this.printService=l,this.verticalScrollbarWidth=0,this.horizontalScrollbarHeight=0,this.unsubscribe$=new y.x,this.ganttUpper.dragContainer=o}ngOnInit(){const t=this.ngZone.isStable?(0,St.D)(Promise.resolve()):this.ngZone.onStable.pipe((0,O.q)(1));this.ngZone.runOutsideAngular(()=>{t.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.dom.initialize(this.elementRef),this.printService&&this.printService.register(this.elementRef),this.setupScrollClass(),this.setupResize(),this.setupViewScroll(),this.elementRef.nativeElement.style.opacity="1",this.ganttUpper.viewChange.pipe((0,q.O)(null),(0,_.R)(this.unsubscribe$)).subscribe(()=>{this.scrollToToday()}),this.computeScrollBarOffset()})})}computeScrollBarOffset(){const t=this.dom.mainContainer,e=this.dom.verticalScrollContainer;let s=0;s=e?e.offsetWidth-e.clientWidth:t?.offsetWidth-t?.clientWidth;const o=t?.offsetHeight-t?.clientHeight;this.verticalScrollbarWidth=s,this.horizontalScrollbarHeight=o}ngOnDestroy(){this.unsubscribe$.next()}setupViewScroll(){this.ganttUpper.disabledLoadOnScroll||this.dom.getViewerScroll(ot).pipe((0,_.R)(this.unsubscribe$)).subscribe(t=>{if(t.direction===Ct.LEFT){const e=this.view.addStartDate();e&&(t.target.scrollLeft+=this.view.getDateRangeWidth(e.start,e.end),this.ganttUpper.loadOnScroll.observers&&this.ngZone.run(()=>this.ganttUpper.loadOnScroll.emit({start:e.start.getUnixTime(),end:e.end.getUnixTime()})))}if(t.direction===Ct.RIGHT){const e=this.view.addEndDate();e&&this.ganttUpper.loadOnScroll.observers&&this.ngZone.run(()=>this.ganttUpper.loadOnScroll.emit({start:e.start.getUnixTime(),end:e.end.getUnixTime()}))}})}setupResize(){this.dom.getResize().pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.setupScrollClass()})}setupScrollClass(){const t=this.dom.mainContainer;this.elementRef.nativeElement.className=t.scrollHeight>t.offsetHeight?"gantt gantt-scroll":"gantt"}scrollToToday(){const t=this.view.getTodayXPoint();this.dom.scrollMainContainer(t)}scrollToDate(t){let e;e=this.view.getXPointByDate("number"==typeof t?new f(t):t),this.dom.scrollMainContainer(e)}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(Le),n.Y36($t),n.Y36(P),n.Y36(Hl,8))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt-root"]],contentQueries:function(e,s,o){if(1&e&&(n.Suo(o,Ea,7),n.Suo(o,Oa,7)),2&e){let a;n.iGM(a=n.CRH())&&(s.sideTemplate=a.first),n.iGM(a=n.CRH())&&(s.mainTemplate=a.first)}},viewQuery:function(e,s){if(1&e&&n.Gf($e,7,n.SBq),2&e){let o;n.iGM(o=n.CRH())&&(s.backdrop=o.first)}},hostAttrs:[1,"gantt"],hostBindings:function(e,s){1&e&&n.NdJ("resize",function(){return s.onWindowResize()},!1,n.Jf7)},inputs:{sideWidth:"sideWidth"},features:[n._Bn([Le,$t])],ngContentSelectors:Fa,decls:4,vars:3,consts:[["class","gantt-side",3,"width","padding-bottom",4,"ngIf"],["class","gantt-container",4,"ngIf"],[3,"template",4,"ngIf"],[1,"gantt-side"],["cdkScrollable","",1,"gantt-side-container"],[3,"ngTemplateOutlet"],[1,"gantt-container"],[1,"gantt-main"],[3,"template"]],template:function(e,s){1&e&&(n.F$t(),n.YNc(0,Ra,3,5,"div",0),n.YNc(1,Na,6,7,"div",1),n.Hsn(2),n.YNc(3,Pa,1,1,"gantt-toolbar",2)),2&e&&(n.Q6J("ngIf",s.sideTemplate),n.xp6(1),n.Q6J("ngIf",s.mainTemplate),n.xp6(2),n.Q6J("ngIf",s.ganttUpper.showToolbar||s.ganttUpper.toolbarTemplate))},dependencies:[g.O5,g.tP,$.PQ,ci,hi,$e,Yl],encapsulation:2})}return i})(),Ul=(()=>{class i extends fl{set loading(t){t?this.loadingDelay>0?this.loadingTimer=setTimeout(()=>{this._loading=t,this.cdr.markForCheck()},this.loadingDelay):this._loading=t:(clearTimeout(this.loadingTimer),this._loading=t)}get loading(){return this._loading}constructor(t,e,s,o,a){super(t,e,s,a),this.viewportRuler=o,this.maxLevel=2,this.virtualScrollEnabled=!0,this.loadingDelay=0,this.linkDragStarted=new n.vpe,this.linkDragEnded=new n.vpe,this.lineClick=new n.vpe,this.selectedChange=new n.vpe,this.virtualScrolledIndexChange=new n.vpe,this.flatItems=[],this.viewportItems=[],this._loading=!1,this.rangeStart=0,this.rangeEnd=0,this.computeAllRefs=!1}ngOnInit(){super.ngOnInit(),this.buildFlatItems();const t=this.ngZone.isStable?(0,St.D)(Promise.resolve()):this.ngZone.onStable.pipe((0,O.q)(1));this.ngZone.runOutsideAngular(()=>{t.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.dragContainer.linkDragStarted.pipe((0,_.R)(this.unsubscribe$)).subscribe(e=>{this.linkDragStarted.emit(e)}),this.dragContainer.linkDragEnded.pipe((0,_.R)(this.unsubscribe$)).subscribe(e=>{this.linkDragEnded.emit(e)})})}),this.view.start$.pipe(ge(1),(0,_.R)(this.unsubscribe$)).subscribe(()=>{this.computeTempDataRefs()}),this.virtualScrollEnabled||(this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd),this.computeTempDataRefs())}ngOnChanges(t){super.ngOnChanges(t),this.firstChange||(t.viewType&&t.viewType.currentValue&&(this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd),this.computeTempDataRefs()),(t.originItems||t.originGroups)&&(this.buildFlatItems(),this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd),this.computeTempDataRefs()))}ngAfterViewInit(){this.virtualScrollEnabled&&this.virtualScroll.renderedRangeStream.pipe((0,_.R)(this.unsubscribe$)).subscribe(t=>{this.elementRef.nativeElement.querySelector(".gantt-links-overlay").style.top=-this.styles.lineHeight*t.start+"px",this.rangeStart=t.start,this.rangeEnd=t.end,this.viewportItems=this.flatItems.slice(t.start,t.end),this.computeTempDataRefs()})}ngAfterViewChecked(){if(this.virtualScrollEnabled&&this.viewportRuler&&this.virtualScroll.getRenderedRange().end>0){const t=this.ngZone.isStable?(0,St.D)(Promise.resolve()):this.ngZone.onStable.pipe((0,O.q)(1));this.ngZone.runOutsideAngular(()=>{t.pipe((0,_.R)(this.unsubscribe$)).subscribe(()=>{this.ganttRoot.verticalScrollbarWidth||(this.ganttRoot.computeScrollBarOffset(),this.cdr.markForCheck())})})}}buildFlatItems(){const t=[];this.groups.length&&this.groups.forEach(e=>{if(t.push(e),e.expanded){const s=X(e.items);t.push(...s)}}),this.items.length&&t.push(...X(this.items)),this.flatItems=[...t],this.flatItemsMap=Ne(this.flatItems,"id"),this.virtualScrollEnabled||(this.rangeStart=0,this.rangeEnd=this.flatItems.length)}afterExpand(){this.buildFlatItems(),this.viewportItems=this.flatItems.slice(this.rangeStart,this.rangeEnd)}computeTempDataRefs(){const t=[];this.viewportItems.forEach(e=>{e.hasOwnProperty("items")||(e.links&&e.links.forEach(o=>{this.flatItemsMap[o.link]&&t.push(this.flatItemsMap[o.link])}),t.push(e))}),this.computeItemsRefs(...ae(t,"id")),this.flatItems=[...this.flatItems],this.viewportItems=[...this.viewportItems]}expandChildren(t){t.expanded?(t.setExpand(!1),this.afterExpand(),this.expandChange.emit(t)):(t.setExpand(!0),this.async&&this.childrenResolve&&0===t.children.length?(t.loading=!0,this.childrenResolve(t.origin).pipe((0,O.q)(1),(0,Fi.x)(()=>{t.loading=!1,this.afterExpand(),this.expandChange.emit(t),this.cdr.detectChanges()})).subscribe(e=>{t.addChildren(e),this.computeItemsRefs(...t.children)})):(this.computeItemsRefs(...t.children),this.afterExpand(),this.expandChange.emit(t)))}selectItem(t){if(!this.selectable)return;const{event:e,selectedValue:s}=t;this.selectionModel.toggle(s.id);const o=this.selectionModel.selected;if(this.multiple){const a=this.getGanttItems(o).map(l=>l.origin);this.selectedChange.emit({event:e,selectedValue:a})}else{const a=this.getGanttItem(o[0])?.origin;this.selectedChange.emit({event:e,selectedValue:a})}}scrollToToday(){this.ganttRoot.scrollToToday()}scrollToDate(t){this.ganttRoot.scrollToDate(t)}scrolledIndexChange(t){this.virtualScrolledIndexChange.emit({index:t,renderedRange:{start:this.rangeStart,end:this.rangeEnd},count:this.flatItems.length})}expandGroups(t){this.groups.forEach(e=>{e.setExpand(t)}),this.afterExpand(),this.expandChange.next(null),this.cdr.detectChanges()}expandGroup(t){t.setExpand(!t.expanded),this.afterExpand(),this.expandChange.emit(),this.cdr.detectChanges()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.R0b),n.Y36($.rL),n.Y36(re))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["ngx-gantt"]],contentQueries:function(e,s,o){if(1&e&&(n.Suo(o,Kn,5),n.Suo(o,Vn,7),n.Suo(o,La,7),n.Suo(o,qn,5)),2&e){let a;n.iGM(a=n.CRH())&&(s.table=a.first),n.iGM(a=n.CRH())&&(s.tableEmptyTemplate=a.first),n.iGM(a=n.CRH())&&(s.footerTemplate=a.first),n.iGM(a=n.CRH())&&(s.columns=a)}},viewQuery:function(e,s){if(1&e&&(n.Gf(Ba,5),n.Gf($.N7,5)),2&e){let o;n.iGM(o=n.CRH())&&(s.ganttRoot=o.first),n.iGM(o=n.CRH())&&(s.virtualScroll=o.first)}},inputs:{maxLevel:"maxLevel",async:"async",childrenResolve:"childrenResolve",linkable:"linkable",loading:"loading",virtualScrollEnabled:"virtualScrollEnabled",loadingDelay:"loadingDelay"},outputs:{linkDragStarted:"linkDragStarted",linkDragEnded:"linkDragEnded",lineClick:"lineClick",selectedChange:"selectedChange",virtualScrolledIndexChange:"virtualScrolledIndexChange"},features:[n._Bn([{provide:P,useExisting:i},{provide:Pe,useExisting:(0,n.Gpc)(()=>i)}]),n.qOj,n.TTD],decls:26,vars:56,consts:[["ganttRoot",""],[1,"gantt-header"],[3,"columns"],["tableHeader",""],[1,"gantt-container-header"],[4,"ngIf"],[1,"gantt-virtual-scroll-viewport",3,"ngClass","itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[1,"gantt-side"],[1,"gantt-side-container"],[1,"gantt-table"],[3,"flatItems","viewportItems","columns","groupTemplate","emptyTemplate","rowBeforeTemplate","rowAfterTemplate","draggable","dropEnterPredicate","dragDropped","dragStarted","dragEnded","itemClick"],[1,"gantt-container"],[1,"gantt-main"],[3,"flatItems","viewportItems","groupHeaderTemplate","itemTemplate","barTemplate","rangeTemplate","baselineTemplate","barClick","lineClick"],[1,"gantt-scrollbar"],[1,"gantt-table-scrollbar"],[1,"gantt-main-scrollbar"],[1,"h-100"],[1,"gantt-footer"],["class","gantt-table-footer",3,"width",4,"ngIf"],["class","gantt-container-footer",4,"ngIf"],[1,"gantt-table-footer"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"gantt-container-footer"],[3,"ngTemplateOutlet"]],template:function(e,s){if(1&e&&(n.TgZ(0,"ngx-gantt-root",null,0)(2,"div",1),n._UZ(3,"gantt-table-header",2,3),n.TgZ(5,"div",4),n._UZ(6,"gantt-calendar-header"),n.qZA()(),n.YNc(7,$a,1,0,"gantt-loader",5),n.TgZ(8,"cdk-virtual-scroll-viewport",6),n.NdJ("scrolledIndexChange",function(a){return s.scrolledIndexChange(a)}),n.YNc(9,Ga,1,0,"ng-container",7),n.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"gantt-table-body",11),n.NdJ("dragDropped",function(a){return s.table.dragDropped.emit(a)})("dragStarted",function(a){return s.table.dragStarted.emit(a)})("dragEnded",function(a){return s.table.dragEnded.emit(a)})("itemClick",function(a){return s.selectItem(a)}),n.qZA()()()(),n.TgZ(14,"div",12),n._UZ(15,"gantt-calendar-grid"),n.TgZ(16,"div",13)(17,"gantt-main",14),n.NdJ("barClick",function(a){return s.barClick.emit(a)})("lineClick",function(a){return s.lineClick.emit(a)}),n.qZA()()()(),n._UZ(18,"gantt-drag-backdrop"),n.TgZ(19,"div",15),n._UZ(20,"div",16),n.TgZ(21,"div",17),n._UZ(22,"div",18),n.qZA()(),n.TgZ(23,"div",19),n.YNc(24,Wa,2,6,"div",20),n.YNc(25,Za,2,1,"div",21),n.qZA()()),2&e){const o=n.MAs(1),a=n.MAs(4);n.xp6(3),n.Q6J("columns",s.columns),n.xp6(3),n.Udp("padding-right",o.verticalScrollbarWidth,"px"),n.xp6(1),n.Q6J("ngIf",s.loading),n.xp6(1),n.Q6J("ngClass",n.kEZ(52,Qa,!s.virtualScrollEnabled,s.virtualScrollEnabled,(null==s.table?null:s.table.tableFooterTemplate)||s.footerTemplate))("itemSize",s.styles.lineHeight)("minBufferPx",10*s.styles.lineHeight)("maxBufferPx",20*s.styles.lineHeight),n.xp6(1),n.Q6J("cdkVirtualForOf",s.flatItems)("cdkVirtualForTrackBy",s.trackBy),n.xp6(1),n.Udp("width",a.tableWidth+1,"px")("padding-bottom",o.horizontalScrollbarHeight,"px"),n.xp6(3),n.Q6J("flatItems",s.flatItems)("viewportItems",s.viewportItems)("columns",s.columns)("groupTemplate",s.groupTemplate)("emptyTemplate",s.table.tableEmptyTemplate||s.tableEmptyTemplate)("rowBeforeTemplate",null==s.table?null:s.table.rowBeforeTemplate)("rowAfterTemplate",null==s.table?null:s.table.rowAfterTemplate)("draggable",s.table.draggable)("dropEnterPredicate",s.table.dropEnterPredicate),n.xp6(2),n.Udp("padding-right",o.verticalScrollbarWidth,"px")("padding-bottom",o.horizontalScrollbarHeight,"px"),n.xp6(2),n.Q6J("flatItems",s.flatItems)("viewportItems",s.viewportItems)("groupHeaderTemplate",s.groupHeaderTemplate)("itemTemplate",s.itemTemplate)("barTemplate",s.barTemplate)("rangeTemplate",s.rangeTemplate)("baselineTemplate",s.baselineTemplate),n.xp6(1),n.Udp("left",a.tableWidth+1,"px"),n.xp6(1),n.Udp("height",o.horizontalScrollbarHeight+1,"px")("right",o.verticalScrollbarWidth,"px"),n.xp6(1),n.Udp("width",a.tableWidth,"px"),n.ekj("with-scrollbar",o.horizontalScrollbarHeight),n.xp6(2),n.Udp("width",s.view.width,"px"),n.xp6(1),n.Udp("right",o.verticalScrollbarWidth,"px")("bottom",o.horizontalScrollbarHeight,"px"),n.xp6(1),n.Q6J("ngIf",null==s.table?null:s.table.tableFooterTemplate),n.xp6(1),n.Q6J("ngIf",s.footerTemplate)}},dependencies:[g.mk,g.O5,g.tP,$.xd,$.x0,$.N7,vl,wl,$l,ci,hi,Gl,$e,Wl],encapsulation:2,changeDetection:0})}return i})(),Zl=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({providers:[$.N7,{provide:re,useValue:se}],imports:[g.ez,ao,$.Cl]})}return i})();var ui=p(3997),Ql=p(7328),tt=p(551);function Vl(i,r){if(1&i&&n._UZ(0,"span",1),2&i){const t=n.oxw();n.Q6J("nzType",t.iconType)}}let jl=(()=>{class i{constructor(){this.formStatusChanges=new Ql.t(1)}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})(),Jl=(()=>{class i{constructor(){this.noFormStatus=new Dt.X(!1)}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})();const ql={error:"close-circle-fill",validating:"loading",success:"check-circle-fill",warning:"exclamation-circle-fill"};let Kl=(()=>{class i{constructor(t){this.cdr=t,this.status="",this.iconType=null}ngOnChanges(t){this.updateIcon()}updateIcon(){this.iconType=this.status?ql[this.status]:null,this.cdr.markForCheck()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.sBO))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["nz-form-item-feedback-icon"]],hostAttrs:[1,"ant-form-item-feedback-icon"],hostVars:8,hostBindings:function(e,s){2&e&&n.ekj("ant-form-item-feedback-icon-error","error"===s.status)("ant-form-item-feedback-icon-warning","warning"===s.status)("ant-form-item-feedback-icon-success","success"===s.status)("ant-form-item-feedback-icon-validating","validating"===s.status)},inputs:{status:"status"},exportAs:["nzFormFeedbackIcon"],features:[n.TTD],decls:1,vars:1,consts:[["nz-icon","",3,"nzType",4,"ngIf"],["nz-icon","",3,"nzType"]],template:function(e,s){1&e&&n.YNc(0,Vl,1,1,"span",0),2&e&&n.Q6J("ngIf",s.iconType)},dependencies:[g.O5,tt.Ls],encapsulation:2,changeDetection:0})}return i})(),Xl=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[g.ez,tt.PV]})}return i})();var T=p(7754),Q=p(8324);let hc=(()=>{class i{get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=null!=t&&"false"!=`${t}`}constructor(t,e,s,o,a,l,c){this.ngControl=t,this.renderer=e,this.elementRef=s,this.hostView=o,this.directionality=a,this.nzFormStatusService=l,this.nzFormNoStatusService=c,this.nzBorderless=!1,this.nzSize="default",this.nzStepperless=!0,this.nzStatus="",this._disabled=!1,this.disabled$=new y.x,this.dir="ltr",this.prefixCls="ant-input",this.status="",this.statusCls={},this.hasFeedback=!1,this.feedbackRef=null,this.components=[],this.destroy$=new y.x}ngOnInit(){this.nzFormStatusService?.formStatusChanges.pipe((0,ui.x)((t,e)=>t.status===e.status&&t.hasFeedback===e.hasFeedback),(0,_.R)(this.destroy$)).subscribe(({status:t,hasFeedback:e})=>{this.setStatusStyles(t,e)}),this.ngControl&&this.ngControl.statusChanges?.pipe((0,W.h)(()=>null!==this.ngControl.disabled),(0,_.R)(this.destroy$)).subscribe(()=>{this.disabled$.next(this.ngControl.disabled)}),this.dir=this.directionality.value,this.directionality.change?.pipe((0,_.R)(this.destroy$)).subscribe(t=>{this.dir=t})}ngOnChanges(t){const{disabled:e,nzStatus:s}=t;e&&this.disabled$.next(this.disabled),s&&this.setStatusStyles(this.nzStatus,this.hasFeedback)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}setStatusStyles(t,e){this.status=t,this.hasFeedback=e,this.renderFeedbackIcon(),this.statusCls=(0,T.Zu)(this.prefixCls,t,e),Object.keys(this.statusCls).forEach(s=>{this.statusCls[s]?this.renderer.addClass(this.elementRef.nativeElement,s):this.renderer.removeClass(this.elementRef.nativeElement,s)})}renderFeedbackIcon(){if(!this.status||!this.hasFeedback||this.nzFormNoStatusService)return this.hostView.clear(),void(this.feedbackRef=null);this.feedbackRef=this.feedbackRef||this.hostView.createComponent(Kl),this.feedbackRef.location.nativeElement.classList.add("ant-input-suffix"),this.feedbackRef.instance.status=this.status,this.feedbackRef.instance.updateIcon()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(it.a5,10),n.Y36(n.Qsj),n.Y36(n.SBq),n.Y36(n.s_b),n.Y36(B.Is,8),n.Y36(jl,8),n.Y36(Jl,8))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["input","nz-input",""],["textarea","nz-input",""]],hostAttrs:[1,"ant-input"],hostVars:13,hostBindings:function(e,s){2&e&&(n.uIk("disabled",s.disabled||null),n.ekj("ant-input-disabled",s.disabled)("ant-input-borderless",s.nzBorderless)("ant-input-lg","large"===s.nzSize)("ant-input-sm","small"===s.nzSize)("ant-input-rtl","rtl"===s.dir)("ant-input-stepperless",s.nzStepperless))},inputs:{nzBorderless:"nzBorderless",nzSize:"nzSize",nzStepperless:"nzStepperless",nzStatus:"nzStatus",disabled:"disabled"},exportAs:["nzInput"],features:[n.TTD]})}return(0,z.gn)([(0,T.yF)()],i.prototype,"nzBorderless",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzStepperless",void 0),i})(),uc=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[B.vT,g.ez,tt.PV,N.ud,Q.T,Xl]})}return i})();var V=p(3651),et=p(8484),gc=p(4911),pc=p(7032),H=p(6825);const gi=["moz","ms","webkit"],_c=function mc(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);const i=gi.filter(r=>`${r}RequestAnimationFrame`in window)[0];return i?window[`${i}RequestAnimationFrame`]:function fc(){let i=0;return function(r){const t=(new Date).getTime(),e=Math.max(0,16-(t-i)),s=setTimeout(()=>{r(t+e)},e);return i=t+e,s}}()}();var at=p(874),Ge=p(1752);let ce=(()=>{class i{setHiddenAttribute(){this.hidden?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","string"==typeof this.hidden?this.hidden:""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(t,e){this.elementRef=t,this.renderer=e,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.Qsj))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},features:[n.TTD]})}return i})(),pi=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[N.ud]})}return i})();class vc{get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}constructor(r,t,e,s,o){this.triggerElement=r,this.ngZone=t,this.insertExtraNode=e,this.platformId=s,this.cspNonce=o,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=a=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||"INPUT"===a.target.tagName||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new N.t4(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){const r=this.triggerElement,t=this.getWaveColor(r);r.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style"),this.cspNonce&&(this.styleForPseudo.nonce=this.cspNonce)),this.styleForPseudo.innerHTML=`\n      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {\n        --antd-wave-shadow-color: ${t};\n      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",r.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{r.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(r){return!!r&&"#ffffff"!==r&&"rgb(255, 255, 255)"!==r&&this.isNotGrey(r)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(r)&&"transparent"!==r}isNotGrey(r){const t=r.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3]&&t[1]===t[2]&&t[2]===t[3])}getWaveColor(r){const t=getComputedStyle(r);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(r,t){this.ngZone.runOutsideAngular(()=>setTimeout(r,t))}}const yc={disabled:!1},fi=new n.OlP("nz-wave-global-options");function bc(i){return(0,n.MR2)([{provide:fi,useValue:i}])}let mi=(()=>{class i{get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}constructor(t,e,s,o,a,l){this.ngZone=t,this.elementRef=e,this.config=s,this.animationType=o,this.platformId=a,this.cspNonce=l,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.waveDisabled=this.isConfigDisabled()}isConfigDisabled(){let t=!1;return this.config&&"boolean"==typeof this.config.disabled&&(t=this.config.disabled),"NoopAnimations"===this.animationType&&(t=!0),t}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new vc(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId,this.cspNonce))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(fi,8),n.Y36(n.QbO,8),n.Y36(n.Lbi),n.Y36(n.Ojb,8))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"]})}return i})(),_i=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({providers:[bc(yc)],imports:[N.ud]})}return i})();const Cc=["nz-button",""];function Tc(i,r){1&i&&n._UZ(0,"span",1)}const wc=["*"];let yi=(()=>{class i{insertSpan(t,e){t.forEach(s=>{if("#text"===s.nodeName){const o=e.createElement("span"),a=e.parentNode(s);e.insertBefore(a,o,s),e.appendChild(o,s)}})}get iconOnly(){const t=Array.from(this.elementRef?.nativeElement?.childNodes||[]),e=t.every(a=>"#text"!==a.nodeName),s=0==t.filter(a=>!("#comment"===a.nodeName||a?.attributes?.getNamedItem("nz-icon"))).length;return!!this.nzIconDirectiveElement&&s&&e}constructor(t,e,s,o,a,l){this.ngZone=t,this.elementRef=e,this.cdr=s,this.renderer=o,this.nzConfigService=a,this.directionality=l,this._nzModuleName="button",this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new y.x,this.loading$=new y.x,this.nzConfigService.getConfigChangeEventForComponent("button").pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,_.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,R.R)(this.elementRef.nativeElement,"click",{capture:!0}).pipe((0,_.R)(this.destroy$)).subscribe(t=>{(this.disabled&&"A"===t.target?.tagName||this.nzLoading)&&(t.preventDefault(),t.stopImmediatePropagation())})})}ngOnChanges(t){const{nzLoading:e}=t;e&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe((0,q.O)(this.nzLoading),(0,W.h)(()=>!!this.nzIconDirectiveElement),(0,_.R)(this.destroy$)).subscribe(t=>{const e=this.nzIconDirectiveElement.nativeElement;t?this.renderer.setStyle(e,"display","none"):this.renderer.removeStyle(e,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(n.Qsj),n.Y36(at.jY),n.Y36(B.Is,8))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(e,s,o){if(1&e&&n.Suo(o,tt.Ls,5,n.SBq),2&e){let a;n.iGM(a=n.CRH())&&(s.nzIconDirectiveElement=a.first)}},hostAttrs:[1,"ant-btn"],hostVars:32,hostBindings:function(e,s){2&e&&(n.uIk("tabindex",s.disabled?-1:null===s.tabIndex?null:s.tabIndex)("disabled",s.disabled||null),n.ekj("ant-btn-primary","primary"===s.nzType)("ant-btn-dashed","dashed"===s.nzType)("ant-btn-link","link"===s.nzType)("ant-btn-text","text"===s.nzType)("ant-btn-circle","circle"===s.nzShape)("ant-btn-round","round"===s.nzShape)("ant-btn-lg","large"===s.nzSize)("ant-btn-sm","small"===s.nzSize)("ant-btn-dangerous",s.nzDanger)("ant-btn-loading",s.nzLoading)("ant-btn-background-ghost",s.nzGhost)("ant-btn-block",s.nzBlock)("ant-input-search-button",s.nzSearch)("ant-btn-rtl","rtl"===s.dir)("ant-btn-icon-only",s.iconOnly))},inputs:{nzBlock:"nzBlock",nzGhost:"nzGhost",nzSearch:"nzSearch",nzLoading:"nzLoading",nzDanger:"nzDanger",disabled:"disabled",tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],features:[n.TTD],attrs:Cc,ngContentSelectors:wc,decls:2,vars:1,consts:[["nz-icon","","nzType","loading",4,"ngIf"],["nz-icon","","nzType","loading"]],template:function(e,s){1&e&&(n.F$t(),n.YNc(0,Tc,1,0,"span",0),n.Hsn(1)),2&e&&n.Q6J("ngIf",s.nzLoading)},dependencies:[g.O5,tt.Ls,ce],encapsulation:2,changeDetection:0})}return(0,z.gn)([(0,T.yF)()],i.prototype,"nzBlock",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzGhost",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzSearch",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzLoading",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzDanger",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"disabled",void 0),(0,z.gn)([(0,at.oS)()],i.prototype,"nzSize",void 0),i})(),bi=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[B.vT,g.ez,_i,tt.PV,pi,pi,_i]})}return i})();p(6593);class L{static#t=this.formats={B:{max:1024},kB:{max:Math.pow(1024,2),prev:"B"},KB:{max:Math.pow(1024,2),prev:"B"},MB:{max:Math.pow(1024,3),prev:"kB"},GB:{max:Math.pow(1024,4),prev:"MB"},TB:{max:Number.MAX_SAFE_INTEGER,prev:"GB"}};transform(r,t=0,e="B",s){if(!((0,T.ui)(r)&&(0,T.ui)(t)&&t%1==0&&t>=0))return r;let o=r,a=e;for(;"B"!==a;)o*=1024,a=L.formats[a].prev;if(s){const c=(0,T.YM)(L.calculateResult(L.formats[s],o),t);return L.formatResult(c,s)}for(const l in L.formats)if(L.formats.hasOwnProperty(l)){const c=L.formats[l];if(o<c.max){const d=(0,T.YM)(L.calculateResult(c,o),t);return L.formatResult(d,l)}}}static formatResult(r,t){return`${r} ${t}`}static calculateResult(r,t){const e=r.prev?L.formats[r.prev]:void 0;return e?t/e.max:t}static#e=this.\u0275fac=function(t){return new(t||L)};static#n=this.\u0275pipe=n.Yjl({name:"nzBytes",type:L,pure:!0})}let He=(()=>{class i{transform(t,e="px"){let c="px";return["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","1h","vw","vh","vmin","vmax","%"].some(d=>d===e)&&(c=e),"number"==typeof t?`${t}${c}`:`${t}`}static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275pipe=n.Yjl({name:"nzToCssUnit",type:i,pure:!0})}return i})(),Ci=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[g.ez]})}return i})();var j=p(331);const Sc=["nz-modal-close",""];function kc(i,r){if(1&i&&(n.ynx(0),n._UZ(1,"span",2),n.BQk()),2&i){const t=r.$implicit;n.xp6(1),n.Q6J("nzType",t)}}const Ti=["modalElement"];function zc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",16),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.onCloseClick())}),n.qZA()}}function Ic(i,r){if(1&i&&(n.ynx(0),n._UZ(1,"span",17),n.BQk()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("innerHTML",t.config.nzTitle,n.oJD)}}function Ec(i,r){}function Oc(i,r){if(1&i&&n._UZ(0,"div",17),2&i){const t=n.oxw();n.Q6J("innerHTML",t.config.nzContent,n.oJD)}}function Mc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",18),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.onCancel())}),n._uU(1),n.qZA()}if(2&i){const t=n.oxw();n.Q6J("nzLoading",!!t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),n.uIk("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),n.xp6(1),n.hij(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function Rc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",19),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.onOk())}),n._uU(1),n.qZA()}if(2&i){const t=n.oxw();n.Q6J("nzType",t.config.nzOkType)("nzLoading",!!t.config.nzOkLoading)("disabled",t.config.nzOkDisabled)("nzDanger",t.config.nzOkDanger),n.uIk("cdkFocusInitial","ok"===t.config.nzAutofocus||null),n.xp6(1),n.hij(" ",t.config.nzOkText||t.locale.okText," ")}}const Ac=["nz-modal-footer",""];function Nc(i,r){if(1&i&&n._UZ(0,"div",5),2&i){const t=n.oxw(3);n.Q6J("innerHTML",t.config.nzFooter,n.oJD)}}function Pc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",7),n.NdJ("click",function(){const o=n.CHM(t).$implicit,a=n.oxw(4);return n.KtG(a.onButtonClick(o))}),n._uU(1),n.qZA()}if(2&i){const t=r.$implicit,e=n.oxw(4);n.Q6J("hidden",!e.getButtonCallableProp(t,"show"))("nzLoading",e.getButtonCallableProp(t,"loading"))("disabled",e.getButtonCallableProp(t,"disabled"))("nzType",t.type)("nzDanger",t.danger)("nzShape",t.shape)("nzSize",t.size)("nzGhost",t.ghost),n.xp6(1),n.hij(" ",t.label," ")}}function Fc(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Pc,2,9,"button",6),n.BQk()),2&i){const t=n.oxw(3);n.xp6(1),n.Q6J("ngForOf",t.buttons)}}function Lc(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Nc,1,1,"div",3),n.YNc(2,Fc,2,1,"ng-container",4),n.BQk()),2&i){const t=n.oxw(2);n.xp6(1),n.Q6J("ngIf",!t.buttonsFooter),n.xp6(1),n.Q6J("ngIf",t.buttonsFooter)}}const Bc=function(i,r){return{$implicit:i,modalRef:r}};function $c(i,r){if(1&i&&(n.ynx(0),n.YNc(1,Lc,3,2,"ng-container",2),n.BQk()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("nzStringTemplateOutlet",t.config.nzFooter)("nzStringTemplateOutletContext",n.WLB(2,Bc,t.config.nzData,t.modalRef))}}function Gc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",10),n.NdJ("click",function(){n.CHM(t);const s=n.oxw(2);return n.KtG(s.onCancel())}),n._uU(1),n.qZA()}if(2&i){const t=n.oxw(2);n.Q6J("nzLoading",!!t.config.nzCancelLoading)("disabled",t.config.nzCancelDisabled),n.uIk("cdkFocusInitial","cancel"===t.config.nzAutofocus||null),n.xp6(1),n.hij(" ",t.config.nzCancelText||t.locale.cancelText," ")}}function Hc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",11),n.NdJ("click",function(){n.CHM(t);const s=n.oxw(2);return n.KtG(s.onOk())}),n._uU(1),n.qZA()}if(2&i){const t=n.oxw(2);n.Q6J("nzType",t.config.nzOkType)("nzDanger",t.config.nzOkDanger)("nzLoading",!!t.config.nzOkLoading)("disabled",t.config.nzOkDisabled),n.uIk("cdkFocusInitial","ok"===t.config.nzAutofocus||null),n.xp6(1),n.hij(" ",t.config.nzOkText||t.locale.okText," ")}}function Yc(i,r){if(1&i&&(n.YNc(0,Gc,2,4,"button",8),n.YNc(1,Hc,2,6,"button",9)),2&i){const t=n.oxw();n.Q6J("ngIf",null!==t.config.nzCancelText),n.xp6(1),n.Q6J("ngIf",null!==t.config.nzOkText)}}const Wc=["nz-modal-title",""];function Uc(i,r){if(1&i&&(n.ynx(0),n._UZ(1,"div",2),n.BQk()),2&i){const t=n.oxw();n.xp6(1),n.Q6J("innerHTML",t.config.nzTitle,n.oJD)}}function Zc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"button",9),n.NdJ("click",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.onCloseClick())}),n.qZA()}}function Qc(i,r){1&i&&n._UZ(0,"div",10)}function Vc(i,r){}function jc(i,r){if(1&i&&n._UZ(0,"div",11),2&i){const t=n.oxw();n.Q6J("innerHTML",t.config.nzContent,n.oJD)}}function Jc(i,r){if(1&i){const t=n.EpF();n.TgZ(0,"div",12),n.NdJ("cancelTriggered",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.onCloseClick())})("okTriggered",function(){n.CHM(t);const s=n.oxw();return n.KtG(s.onOkClick())}),n.qZA()}if(2&i){const t=n.oxw();n.Q6J("modalRef",t.modalRef)}}const wi=()=>{};class mt{constructor(){this.nzCentered=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzNoAnimation=!1,this.nzAutofocus="auto",this.nzKeyboard=!0,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzModalType="default",this.nzOnCancel=wi,this.nzOnOk=wi,this.nzIconType="question-circle"}}const de="ant-modal-mask",he="modal",qc=new n.OlP("NZ_MODAL_DATA"),xi={modalContainer:(0,H.X$)("modalContainer",[(0,H.SB)("void, exit",(0,H.oB)({})),(0,H.SB)("enter",(0,H.oB)({})),(0,H.eR)("* => enter",(0,H.jt)(".24s",(0,H.oB)({}))),(0,H.eR)("* => void, * => exit",(0,H.jt)(".2s",(0,H.oB)({})))])};function Ht(i,r,t){return typeof i>"u"?typeof r>"u"?t:r:i}function Di(i){const{nzCentered:r,nzMask:t,nzMaskClosable:e,nzClosable:s,nzOkLoading:o,nzOkDisabled:a,nzCancelDisabled:l,nzCancelLoading:c,nzKeyboard:d,nzNoAnimation:h,nzContent:u,nzFooter:m,nzZIndex:C,nzWidth:w,nzWrapClassName:x,nzClassName:D,nzStyle:Y,nzTitle:dt,nzCloseIcon:nt,nzMaskStyle:ht,nzBodyStyle:We,nzOkText:_t,nzCancelText:vt,nzOkType:Yt,nzOkDanger:Wt,nzIconType:wt,nzModalType:Ue,nzOnOk:Ze,nzOnCancel:Qe,nzAfterOpen:Ve,nzAfterClose:F,nzCloseOnNavigation:J,nzAutofocus:xt}=i;return{nzCentered:r,nzMask:t,nzMaskClosable:e,nzClosable:s,nzOkLoading:o,nzOkDisabled:a,nzCancelDisabled:l,nzCancelLoading:c,nzKeyboard:d,nzNoAnimation:h,nzContent:u,nzFooter:m,nzZIndex:C,nzWidth:w,nzWrapClassName:x,nzClassName:D,nzStyle:Y,nzTitle:dt,nzCloseIcon:nt,nzMaskStyle:ht,nzBodyStyle:We,nzOkText:_t,nzCancelText:vt,nzOkType:Yt,nzOkDanger:Wt,nzIconType:wt,nzModalType:Ue,nzOnOk:Ze,nzOnCancel:Qe,nzAfterOpen:Ve,nzAfterClose:F,nzCloseOnNavigation:J,nzAutofocus:xt}}function Si(){throw Error("Attempting to attach modal content after content is already attached")}let ki=(()=>{class i extends et.en{get showMask(){const t=this.nzConfigService.getConfigForComponent(he)||{};return!!Ht(this.config.nzMask,t.nzMask,!0)}get maskClosable(){const t=this.nzConfigService.getConfigForComponent(he)||{};return!!Ht(this.config.nzMaskClosable,t.nzMaskClosable,!0)}constructor(t,e,s,o,a,l,c,d,h,u){super(),this.ngZone=t,this.host=e,this.focusTrapFactory=s,this.cdr=o,this.render=a,this.overlayRef=l,this.nzConfigService=c,this.config=d,this.animationType=u,this.animationStateChanged=new n.vpe,this.containerClick=new n.vpe,this.cancelTriggered=new n.vpe,this.okTriggered=new n.vpe,this.state="enter",this.isStringContent=!1,this.dir="ltr",this.elementFocusedBeforeModalWasOpened=null,this.mouseDown=!1,this.oldMaskStyle=null,this.destroy$=new y.x,this.document=h,this.dir=l.getDirection(),this.isStringContent="string"==typeof d.nzContent,this.nzConfigService.getConfigChangeEventForComponent(he).pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.updateMaskClassname()})}onContainerClick(t){t.target===t.currentTarget&&!this.mouseDown&&this.showMask&&this.maskClosable&&this.containerClick.emit()}onCloseClick(){this.cancelTriggered.emit()}onOkClick(){this.okTriggered.emit()}attachComponentPortal(t){return this.portalOutlet.hasAttached()&&Si(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this.portalOutlet.hasAttached()&&Si(),this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop(),this.portalOutlet.attachTemplatePortal(t)}attachStringContent(){this.savePreviouslyFocusedElement(),this.setZIndexForBackdrop()}getNativeElement(){return this.host.nativeElement}animationDisabled(){return this.config.nzNoAnimation||"NoopAnimations"===this.animationType}setModalTransformOrigin(){const t=this.modalElementRef.nativeElement;if(this.elementFocusedBeforeModalWasOpened){const e=this.elementFocusedBeforeModalWasOpened.getBoundingClientRect(),s=(0,T.pW)(this.elementFocusedBeforeModalWasOpened);this.render.setStyle(t,"transform-origin",`${s.left+e.width/2-t.offsetLeft}px ${s.top+e.height/2-t.offsetTop}px 0px`)}}savePreviouslyFocusedElement(){this.focusTrap||(this.focusTrap=this.focusTrapFactory.create(this.host.nativeElement)),this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement,this.host.nativeElement.focus&&this.ngZone.runOutsideAngular(()=>_c(()=>this.host.nativeElement.focus())))}trapFocus(){const t=this.host.nativeElement;if(this.config.nzAutofocus)this.focusTrap.focusInitialElementWhenReady();else{const e=this.document.activeElement;e!==t&&!t.contains(e)&&t.focus()}}restoreFocus(){const t=this.elementFocusedBeforeModalWasOpened;if(t&&"function"==typeof t.focus){const e=this.document.activeElement,s=this.host.nativeElement;(!e||e===this.document.body||e===s||s.contains(e))&&t.focus()}this.focusTrap&&this.focusTrap.destroy()}setEnterAnimationClass(){if(this.animationDisabled())return;this.setModalTransformOrigin();const t=this.modalElementRef.nativeElement,e=this.overlayRef.backdropElement;t.classList.add("ant-zoom-enter"),t.classList.add("ant-zoom-enter-active"),e&&(e.classList.add("ant-fade-enter"),e.classList.add("ant-fade-enter-active"))}setExitAnimationClass(){const t=this.modalElementRef.nativeElement;t.classList.add("ant-zoom-leave"),t.classList.add("ant-zoom-leave-active"),this.setMaskExitAnimationClass()}setMaskExitAnimationClass(t=!1){const e=this.overlayRef.backdropElement;if(e){if(this.animationDisabled()||t)return void e.classList.remove(de);e.classList.add("ant-fade-leave"),e.classList.add("ant-fade-leave-active")}}cleanAnimationClass(){if(this.animationDisabled())return;const t=this.overlayRef.backdropElement,e=this.modalElementRef.nativeElement;t&&(t.classList.remove("ant-fade-enter"),t.classList.remove("ant-fade-enter-active")),e.classList.remove("ant-zoom-enter"),e.classList.remove("ant-zoom-enter-active"),e.classList.remove("ant-zoom-leave"),e.classList.remove("ant-zoom-leave-active")}setZIndexForBackdrop(){const t=this.overlayRef.backdropElement;t&&(0,T.DX)(this.config.nzZIndex)&&this.render.setStyle(t,"z-index",this.config.nzZIndex)}bindBackdropStyle(){const t=this.overlayRef.backdropElement;if(t&&(this.oldMaskStyle&&(Object.keys(this.oldMaskStyle).forEach(s=>{this.render.removeStyle(t,s)}),this.oldMaskStyle=null),this.setZIndexForBackdrop(),"object"==typeof this.config.nzMaskStyle&&Object.keys(this.config.nzMaskStyle).length)){const e={...this.config.nzMaskStyle};Object.keys(e).forEach(s=>{this.render.setStyle(t,s,e[s])}),this.oldMaskStyle=e}}updateMaskClassname(){const t=this.overlayRef.backdropElement;t&&(this.showMask?t.classList.add(de):t.classList.remove(de))}onAnimationDone(t){"enter"===t.toState?this.trapFocus():"exit"===t.toState&&this.restoreFocus(),this.cleanAnimationClass(),this.animationStateChanged.emit(t)}onAnimationStart(t){"enter"===t.toState?(this.setEnterAnimationClass(),this.bindBackdropStyle()):"exit"===t.toState&&this.setExitAnimationClass(),this.animationStateChanged.emit(t)}startExitAnimation(){this.state="exit",this.cdr.markForCheck()}ngOnDestroy(){this.setMaskExitAnimationClass(!0),this.destroy$.next(!0),this.destroy$.complete()}setupMouseListeners(t){this.ngZone.runOutsideAngular(()=>{(0,R.R)(this.host.nativeElement,"mouseup").pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.mouseDown&&setTimeout(()=>{this.mouseDown=!1})}),(0,R.R)(t.nativeElement,"mousedown").pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.mouseDown=!0})})}static#t=this.\u0275fac=function(e){n.$Z()};static#e=this.\u0275dir=n.lG2({type:i,features:[n.qOj]})}return i})(),zi=(()=>{class i{constructor(t){this.config=t}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(mt))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["button","nz-modal-close",""]],hostAttrs:["aria-label","Close",1,"ant-modal-close"],exportAs:["NzModalCloseBuiltin"],attrs:Sc,decls:2,vars:1,consts:[[1,"ant-modal-close-x"],[4,"nzStringTemplateOutlet"],["nz-icon","",1,"ant-modal-close-icon",3,"nzType"]],template:function(e,s){1&e&&(n.TgZ(0,"span",0),n.YNc(1,kc,2,1,"ng-container",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("nzStringTemplateOutlet",s.config.nzCloseIcon))},dependencies:[Q.f,ce,tt.Ls],encapsulation:2,changeDetection:0})}return i})(),Xc=(()=>{class i extends ki{constructor(t,e,s,o,a,l,c,d,h,u,m){super(t,s,o,a,l,c,d,h,u,m),this.i18n=e,this.config=h,this.cancelTriggered=new n.vpe,this.okTriggered=new n.vpe,this.i18n.localeChange.pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.R0b),n.Y36(Ge.wi),n.Y36(n.SBq),n.Y36(Dn),n.Y36(n.sBO),n.Y36(n.Qsj),n.Y36(V.Iu),n.Y36(at.jY),n.Y36(mt),n.Y36(g.K0,8),n.Y36(n.QbO,8))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["nz-modal-confirm-container"]],viewQuery:function(e,s){if(1&e&&(n.Gf(et.Pl,7),n.Gf(Ti,7)),2&e){let o;n.iGM(o=n.CRH())&&(s.portalOutlet=o.first),n.iGM(o=n.CRH())&&(s.modalElementRef=o.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,s){1&e&&(n.WFA("@modalContainer.start",function(a){return s.onAnimationStart(a)})("@modalContainer.done",function(a){return s.onAnimationDone(a)}),n.NdJ("click",function(a){return s.onContainerClick(a)})),2&e&&(n.d8E("@.disabled",s.config.nzNoAnimation)("@modalContainer",s.state),n.Tol(s.config.nzWrapClassName?"ant-modal-wrap "+s.config.nzWrapClassName:"ant-modal-wrap"),n.Udp("z-index",s.config.nzZIndex),n.ekj("ant-modal-wrap-rtl","rtl"===s.dir)("ant-modal-centered",s.config.nzCentered))},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["nzModalConfirmContainer"],features:[n.qOj],decls:17,vars:13,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],[1,"ant-modal-confirm-body-wrapper"],[1,"ant-modal-confirm-body"],["nz-icon","",3,"nzType"],[1,"ant-modal-confirm-title"],[4,"nzStringTemplateOutlet"],[1,"ant-modal-confirm-content"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],[1,"ant-modal-confirm-btns"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click",4,"ngIf"],["nz-modal-close","",3,"click"],[3,"innerHTML"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzLoading","disabled","nzDanger","click"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0,1),n.ALo(2,"nzToCssUnit"),n.TgZ(3,"div",2),n.YNc(4,zc,1,0,"button",3),n.TgZ(5,"div",4)(6,"div",5)(7,"div",6),n._UZ(8,"span",7),n.TgZ(9,"span",8),n.YNc(10,Ic,2,1,"ng-container",9),n.qZA(),n.TgZ(11,"div",10),n.YNc(12,Ec,0,0,"ng-template",11),n.YNc(13,Oc,1,1,"div",12),n.qZA()(),n.TgZ(14,"div",13),n.YNc(15,Mc,2,4,"button",14),n.YNc(16,Rc,2,6,"button",15),n.qZA()()()()()),2&e&&(n.Udp("width",n.lcZ(2,11,null==s.config?null:s.config.nzWidth)),n.Q6J("ngClass",s.config.nzClassName)("ngStyle",s.config.nzStyle),n.xp6(4),n.Q6J("ngIf",s.config.nzClosable),n.xp6(1),n.Q6J("ngStyle",s.config.nzBodyStyle),n.xp6(3),n.Q6J("nzType",s.config.nzIconType),n.xp6(2),n.Q6J("nzStringTemplateOutlet",s.config.nzTitle),n.xp6(3),n.Q6J("ngIf",s.isStringContent),n.xp6(2),n.Q6J("ngIf",null!==s.config.nzCancelText),n.xp6(1),n.Q6J("ngIf",null!==s.config.nzOkText))},dependencies:[g.mk,g.O5,g.PC,Q.f,et.Pl,yi,ce,mi,tt.Ls,zi,He],encapsulation:2,data:{animation:[xi.modalContainer]}})}return i})(),td=(()=>{class i{constructor(t,e){this.i18n=t,this.config=e,this.buttonsFooter=!1,this.buttons=[],this.cancelTriggered=new n.vpe,this.okTriggered=new n.vpe,this.destroy$=new y.x,Array.isArray(e.nzFooter)&&(this.buttonsFooter=!0,this.buttons=e.nzFooter.map(ed)),this.i18n.localeChange.pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.locale=this.i18n.getLocaleData("Modal")})}onCancel(){this.cancelTriggered.emit()}onOk(){this.okTriggered.emit()}getButtonCallableProp(t,e){const s=t[e],o=this.modalRef.getContentComponent();return"function"==typeof s?s.apply(t,o&&[o]):s}onButtonClick(t){if(!this.getButtonCallableProp(t,"loading")){const s=this.getButtonCallableProp(t,"onClick");t.autoLoading&&(0,T.tI)(s)&&(t.loading=!0,s.then(()=>t.loading=!1).catch(o=>{throw t.loading=!1,o}))}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(Ge.wi),n.Y36(mt))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["div","nz-modal-footer",""]],hostAttrs:[1,"ant-modal-footer"],inputs:{modalRef:"modalRef"},outputs:{cancelTriggered:"cancelTriggered",okTriggered:"okTriggered"},exportAs:["NzModalFooterBuiltin"],attrs:Ac,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultFooterButtons",""],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click",4,"ngFor","ngForOf"],["nz-button","",3,"hidden","nzLoading","disabled","nzType","nzDanger","nzShape","nzSize","nzGhost","click"],["nz-button","",3,"nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click",4,"ngIf"],["nz-button","",3,"nzLoading","disabled","click"],["nz-button","",3,"nzType","nzDanger","nzLoading","disabled","click"]],template:function(e,s){if(1&e&&(n.YNc(0,$c,2,5,"ng-container",0),n.YNc(1,Yc,2,2,"ng-template",null,1,n.W1O)),2&e){const o=n.MAs(2);n.Q6J("ngIf",s.config.nzFooter)("ngIfElse",o)}},dependencies:[g.sg,g.O5,Q.f,yi,ce,mi],encapsulation:2})}return i})();function ed(i){return{type:null,size:"default",autoLoading:!0,show:!0,loading:!1,disabled:!1,...i}}let nd=(()=>{class i{constructor(t){this.config=t}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(mt))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["div","nz-modal-title",""]],hostAttrs:[1,"ant-modal-header"],exportAs:["NzModalTitleBuiltin"],attrs:Wc,decls:2,vars:1,consts:[[1,"ant-modal-title"],[4,"nzStringTemplateOutlet"],[3,"innerHTML"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0),n.YNc(1,Uc,2,1,"ng-container",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("nzStringTemplateOutlet",s.config.nzTitle))},dependencies:[Q.f],encapsulation:2,changeDetection:0})}return i})(),id=(()=>{class i extends ki{constructor(t,e,s,o,a,l,c,d,h,u){super(t,e,s,o,a,l,c,d,h,u),this.config=d}ngOnInit(){this.setupMouseListeners(this.modalElementRef)}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.R0b),n.Y36(n.SBq),n.Y36(Dn),n.Y36(n.sBO),n.Y36(n.Qsj),n.Y36(V.Iu),n.Y36(at.jY),n.Y36(mt),n.Y36(g.K0,8),n.Y36(n.QbO,8))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["nz-modal-container"]],viewQuery:function(e,s){if(1&e&&(n.Gf(et.Pl,7),n.Gf(Ti,7)),2&e){let o;n.iGM(o=n.CRH())&&(s.portalOutlet=o.first),n.iGM(o=n.CRH())&&(s.modalElementRef=o.first)}},hostAttrs:["tabindex","-1","role","dialog"],hostVars:10,hostBindings:function(e,s){1&e&&(n.WFA("@modalContainer.start",function(a){return s.onAnimationStart(a)})("@modalContainer.done",function(a){return s.onAnimationDone(a)}),n.NdJ("click",function(a){return s.onContainerClick(a)})),2&e&&(n.d8E("@.disabled",s.config.nzNoAnimation)("@modalContainer",s.state),n.Tol(s.config.nzWrapClassName?"ant-modal-wrap "+s.config.nzWrapClassName:"ant-modal-wrap"),n.Udp("z-index",s.config.nzZIndex),n.ekj("ant-modal-wrap-rtl","rtl"===s.dir)("ant-modal-centered",s.config.nzCentered))},exportAs:["nzModalContainer"],features:[n.qOj],decls:10,vars:11,consts:[["role","document",1,"ant-modal",3,"ngClass","ngStyle"],["modalElement",""],[1,"ant-modal-content"],["nz-modal-close","",3,"click",4,"ngIf"],["nz-modal-title","",4,"ngIf"],[1,"ant-modal-body",3,"ngStyle"],["cdkPortalOutlet",""],[3,"innerHTML",4,"ngIf"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered",4,"ngIf"],["nz-modal-close","",3,"click"],["nz-modal-title",""],[3,"innerHTML"],["nz-modal-footer","",3,"modalRef","cancelTriggered","okTriggered"]],template:function(e,s){1&e&&(n.TgZ(0,"div",0,1),n.ALo(2,"nzToCssUnit"),n.TgZ(3,"div",2),n.YNc(4,Zc,1,0,"button",3),n.YNc(5,Qc,1,0,"div",4),n.TgZ(6,"div",5),n.YNc(7,Vc,0,0,"ng-template",6),n.YNc(8,jc,1,1,"div",7),n.qZA(),n.YNc(9,Jc,1,1,"div",8),n.qZA()()),2&e&&(n.Udp("width",n.lcZ(2,9,null==s.config?null:s.config.nzWidth)),n.Q6J("ngClass",s.config.nzClassName)("ngStyle",s.config.nzStyle),n.xp6(4),n.Q6J("ngIf",s.config.nzClosable),n.xp6(1),n.Q6J("ngIf",s.config.nzTitle),n.xp6(1),n.Q6J("ngStyle",s.config.nzBodyStyle),n.xp6(2),n.Q6J("ngIf",s.isStringContent),n.xp6(1),n.Q6J("ngIf",null!==s.config.nzFooter))},dependencies:[g.mk,g.O5,g.PC,et.Pl,zi,td,nd,He],encapsulation:2,data:{animation:[xi.modalContainer]}})}return i})();class ue{constructor(r,t,e){this.overlayRef=r,this.config=t,this.containerInstance=e,this.componentInstance=null,this.state=0,this.afterClose=new y.x,this.afterOpen=new y.x,this.destroy$=new y.x,e.animationStateChanged.pipe((0,W.h)(s=>"done"===s.phaseName&&"enter"===s.toState),(0,O.q)(1)).subscribe(()=>{this.afterOpen.next(),this.afterOpen.complete(),t.nzAfterOpen instanceof n.vpe&&t.nzAfterOpen.emit()}),e.animationStateChanged.pipe((0,W.h)(s=>"done"===s.phaseName&&"exit"===s.toState),(0,O.q)(1)).subscribe(()=>{clearTimeout(this.closeTimeout),this._finishDialogClose()}),e.containerClick.pipe((0,O.q)(1),(0,_.R)(this.destroy$)).subscribe(()=>{!this.config.nzCancelLoading&&!this.config.nzOkLoading&&this.trigger("cancel")}),r.keydownEvents().pipe((0,W.h)(s=>this.config.nzKeyboard&&!this.config.nzCancelLoading&&!this.config.nzOkLoading&&s.keyCode===pt.hY&&!(0,pt.Vb)(s))).subscribe(s=>{s.preventDefault(),this.trigger("cancel")}),e.cancelTriggered.pipe((0,_.R)(this.destroy$)).subscribe(()=>this.trigger("cancel")),e.okTriggered.pipe((0,_.R)(this.destroy$)).subscribe(()=>this.trigger("ok")),r.detachments().subscribe(()=>{this.afterClose.next(this.result),this.afterClose.complete(),t.nzAfterClose instanceof n.vpe&&t.nzAfterClose.emit(this.result),this.componentInstance=null,this.overlayRef.dispose()})}getContentComponent(){return this.componentInstance}getElement(){return this.containerInstance.getNativeElement()}destroy(r){this.close(r)}triggerOk(){return this.trigger("ok")}triggerCancel(){return this.trigger("cancel")}close(r){0===this.state&&(this.result=r,this.containerInstance.animationStateChanged.pipe((0,W.h)(t=>"start"===t.phaseName),(0,O.q)(1)).subscribe(t=>{this.overlayRef.detachBackdrop(),this.closeTimeout=setTimeout(()=>{this._finishDialogClose()},t.totalTime+100)}),this.containerInstance.startExitAnimation(),this.state=1)}updateConfig(r){Object.assign(this.config,r),this.containerInstance.bindBackdropStyle(),this.containerInstance.cdr.markForCheck()}getState(){return this.state}getConfig(){return this.config}getBackdropElement(){return this.overlayRef.backdropElement}trigger(r){var t=this;return Ke(function*(){if(1===t.state)return;const e={ok:t.config.nzOnOk,cancel:t.config.nzOnCancel}[r],s={ok:"nzOkLoading",cancel:"nzCancelLoading"}[r];if(!t.config[s])if(e instanceof n.vpe)e.emit(t.getContentComponent());else if("function"==typeof e){const a=e(t.getContentComponent());if((0,T.tI)(a)){t.config[s]=!0;let l=!1;try{l=yield a}finally{t.config[s]=!1,t.closeWhitResult(l)}}else t.closeWhitResult(a)}})()}closeWhitResult(r){!1!==r&&this.close(r)}_finishDialogClose(){this.state=2,this.overlayRef.dispose(),this.destroy$.next()}}let Ii=(()=>{class i{get openModals(){return this.parentModal?this.parentModal.openModals:this.openModalsAtThisLevel}get _afterAllClosed(){const t=this.parentModal;return t?t._afterAllClosed:this.afterAllClosedAtThisLevel}constructor(t,e,s,o,a){this.overlay=t,this.injector=e,this.nzConfigService=s,this.parentModal=o,this.directionality=a,this.openModalsAtThisLevel=[],this.afterAllClosedAtThisLevel=new y.x,this.afterAllClose=(0,gc.P)(()=>this.openModals.length?this._afterAllClosed:this._afterAllClosed.pipe((0,q.O)(void 0)))}create(t){return this.open(t.nzContent,t)}closeAll(){this.closeModals(this.openModals)}confirm(t={},e="confirm"){return"nzFooter"in t&&(0,pc.ZK)('The Confirm-Modal doesn\'t support "nzFooter", this property will be ignored.'),"nzWidth"in t||(t.nzWidth=416),"nzMaskClosable"in t||(t.nzMaskClosable=!1),t.nzModalType="confirm",t.nzClassName=`ant-modal-confirm ant-modal-confirm-${e} ${t.nzClassName||""}`,this.create(t)}info(t={}){return this.confirmFactory(t,"info")}success(t={}){return this.confirmFactory(t,"success")}error(t={}){return this.confirmFactory(t,"error")}warning(t={}){return this.confirmFactory(t,"warning")}open(t,e){const s=function Kc(i,r){return{...r,...i}}(e||{},new mt),o=this.createOverlay(s),a=this.attachModalContainer(o,s),l=this.attachModalContent(t,a,o,s);return a.modalRef=l,this.openModals.push(l),l.afterClose.subscribe(()=>this.removeOpenModal(l)),l}removeOpenModal(t){const e=this.openModals.indexOf(t);e>-1&&(this.openModals.splice(e,1),this.openModals.length||this._afterAllClosed.next())}closeModals(t){let e=t.length;for(;e--;)t[e].close(),this.openModals.length||this._afterAllClosed.next()}createOverlay(t){const e=this.nzConfigService.getConfigForComponent(he)||{},s=new V.X_({hasBackdrop:!0,scrollStrategy:this.overlay.scrollStrategies.block(),positionStrategy:this.overlay.position().global(),disposeOnNavigation:Ht(t.nzCloseOnNavigation,e.nzCloseOnNavigation,!0),direction:Ht(t.nzDirection,e.nzDirection,this.directionality.value)});return Ht(t.nzMask,e.nzMask,!0)&&(s.backdropClass=de),this.overlay.create(s)}attachModalContainer(t,e){const o=n.zs3.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:V.Iu,useValue:t},{provide:mt,useValue:e}]}),l=new et.C5("confirm"===e.nzModalType?Xc:id,e.nzViewContainerRef,o);return t.attach(l).instance}attachModalContent(t,e,s,o){const a=new ue(s,o,e);if(t instanceof n.Rgc)e.attachTemplatePortal(new et.UE(t,null,{$implicit:o.nzData,modalRef:a}));else if((0,T.DX)(t)&&"string"!=typeof t){const l=this.createInjector(a,o),c=e.attachComponentPortal(new et.C5(t,o.nzViewContainerRef,l));a.componentInstance=c.instance}else e.attachStringContent();return a}createInjector(t,e){return n.zs3.create({parent:e&&e.nzViewContainerRef&&e.nzViewContainerRef.injector||this.injector,providers:[{provide:ue,useValue:t},{provide:qc,useValue:e.nzData}]})}confirmFactory(t={},e){return"nzIconType"in t||(t.nzIconType={info:"info-circle",success:"check-circle",error:"close-circle",warning:"exclamation-circle"}[e]),"nzCancelText"in t||(t.nzCancelText=null),this.confirm(t,e)}ngOnDestroy(){this.closeModals(this.openModalsAtThisLevel),this.afterAllClosedAtThisLevel.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.LFG(V.aV),n.LFG(n.zs3),n.LFG(at.jY),n.LFG(i,12),n.LFG(B.Is,8))};static#e=this.\u0275prov=n.Yz7({token:i,factory:i.\u0275fac})}return i})(),Ei=(()=>{class i{constructor(t){this.templateRef=t}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.Rgc))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["","nzModalContent",""]],exportAs:["nzModalContent"]})}return i})(),sd=(()=>{class i{constructor(t,e){this.nzModalRef=t,this.templateRef=e,this.nzModalRef&&this.nzModalRef.updateConfig({nzFooter:this.templateRef})}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(ue,8),n.Y36(n.Rgc))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["","nzModalFooter",""]],exportAs:["nzModalFooter"]})}return i})(),rd=(()=>{class i{constructor(t,e){this.nzModalRef=t,this.templateRef=e,this.nzModalRef&&this.nzModalRef.updateConfig({nzTitle:this.templateRef})}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(ue,8),n.Y36(n.Rgc))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["","nzModalTitle",""]],exportAs:["nzModalTitle"]})}return i})(),od=(()=>{class i{set modalTitle(t){t&&this.setTitleWithTemplate(t)}set modalFooter(t){t&&this.setFooterWithTemplate(t)}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}constructor(t,e,s){this.cdr=t,this.modal=e,this.viewContainerRef=s,this.nzVisible=!1,this.nzClosable=!0,this.nzOkLoading=!1,this.nzOkDisabled=!1,this.nzCancelDisabled=!1,this.nzCancelLoading=!1,this.nzKeyboard=!0,this.nzNoAnimation=!1,this.nzCentered=!1,this.nzZIndex=1e3,this.nzWidth=520,this.nzCloseIcon="close",this.nzOkType="primary",this.nzOkDanger=!1,this.nzIconType="question-circle",this.nzModalType="default",this.nzAutofocus="auto",this.nzOnOk=new n.vpe,this.nzOnCancel=new n.vpe,this.nzAfterOpen=new n.vpe,this.nzAfterClose=new n.vpe,this.nzVisibleChange=new n.vpe,this.modalRef=null,this.destroy$=new y.x}open(){if(this.nzVisible||(this.nzVisible=!0,this.nzVisibleChange.emit(!0)),!this.modalRef){const t=this.getConfig();this.modalRef=this.modal.create(t),this.modalRef.afterClose.asObservable().pipe((0,_.R)(this.destroy$)).subscribe(()=>{this.close()})}}close(t){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.emit(!1)),this.modalRef&&(this.modalRef.close(t),this.modalRef=null)}destroy(t){this.close(t)}triggerOk(){this.modalRef?.triggerOk()}triggerCancel(){this.modalRef?.triggerCancel()}getContentComponent(){return this.modalRef?.getContentComponent()}getElement(){return this.modalRef?.getElement()}getModalRef(){return this.modalRef}setTitleWithTemplate(t){this.nzTitle=t,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzTitle:this.nzTitle})})}setFooterWithTemplate(t){this.nzFooter=t,this.modalRef&&Promise.resolve().then(()=>{this.modalRef.updateConfig({nzFooter:this.nzFooter})}),this.cdr.markForCheck()}getConfig(){const t=Di(this);return t.nzViewContainerRef=this.viewContainerRef,t.nzContent=this.nzContent||this.contentFromContentChild,t}ngOnChanges(t){const{nzVisible:e,...s}=t;Object.keys(s).length&&this.modalRef&&this.modalRef.updateConfig(Di(this)),e&&(this.nzVisible?this.open():this.close())}ngOnDestroy(){this.modalRef?._finishDialogClose(),this.destroy$.next(),this.destroy$.complete()}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.sBO),n.Y36(Ii),n.Y36(n.s_b))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["nz-modal"]],contentQueries:function(e,s,o){if(1&e&&(n.Suo(o,rd,7,n.Rgc),n.Suo(o,Ei,7,n.Rgc),n.Suo(o,sd,7,n.Rgc)),2&e){let a;n.iGM(a=n.CRH())&&(s.modalTitle=a.first),n.iGM(a=n.CRH())&&(s.contentFromContentChild=a.first),n.iGM(a=n.CRH())&&(s.modalFooter=a.first)}},inputs:{nzMask:"nzMask",nzMaskClosable:"nzMaskClosable",nzCloseOnNavigation:"nzCloseOnNavigation",nzVisible:"nzVisible",nzClosable:"nzClosable",nzOkLoading:"nzOkLoading",nzOkDisabled:"nzOkDisabled",nzCancelDisabled:"nzCancelDisabled",nzCancelLoading:"nzCancelLoading",nzKeyboard:"nzKeyboard",nzNoAnimation:"nzNoAnimation",nzCentered:"nzCentered",nzContent:"nzContent",nzFooter:"nzFooter",nzZIndex:"nzZIndex",nzWidth:"nzWidth",nzWrapClassName:"nzWrapClassName",nzClassName:"nzClassName",nzStyle:"nzStyle",nzTitle:"nzTitle",nzCloseIcon:"nzCloseIcon",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzOkText:"nzOkText",nzCancelText:"nzCancelText",nzOkType:"nzOkType",nzOkDanger:"nzOkDanger",nzIconType:"nzIconType",nzModalType:"nzModalType",nzAutofocus:"nzAutofocus",nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel"},outputs:{nzOnOk:"nzOnOk",nzOnCancel:"nzOnCancel",nzAfterOpen:"nzAfterOpen",nzAfterClose:"nzAfterClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzModal"],features:[n.TTD],decls:0,vars:0,template:function(e,s){},encapsulation:2,changeDetection:0})}return(0,z.gn)([(0,T.yF)()],i.prototype,"nzMask",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzMaskClosable",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzCloseOnNavigation",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzVisible",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzClosable",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzOkLoading",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzOkDisabled",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzCancelDisabled",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzCancelLoading",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzKeyboard",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzNoAnimation",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzCentered",void 0),(0,z.gn)([(0,T.yF)()],i.prototype,"nzOkDanger",void 0),i})(),ad=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({providers:[Ii],imports:[g.ez,B.vT,V.U8,Q.T,et.eL,Ge.YI,bi,tt.PV,Ci,j.g,Ci]})}return i})();var Oi=p(4194),ld=p(3324),cd=p(6410),dd=p(5211),hd=p(2420),gd=p(975),pd=p(1631),fd=p(4829);function Mi(i,r){return r?t=>(0,dd.z)(r.pipe((0,O.q)(1),function ud(){return(0,Xe.e)((i,r)=>{i.subscribe((0,tn.x)(r,hd.Z))})}()),t.pipe(Mi(i))):(0,pd.z)((t,e)=>(0,fd.Xf)(i(t,e)).pipe((0,O.q)(1),(0,gd.h)(t)))}var ct=p(5448);const _d=["overlay"];function vd(i,r){if(1&i&&(n.ynx(0),n._uU(1),n.BQk()),2&i){const t=n.oxw(2);n.xp6(1),n.Oqu(t.nzTitle)}}function yd(i,r){if(1&i&&(n.TgZ(0,"div",2)(1,"div",3)(2,"div",4),n._UZ(3,"span",5),n.qZA(),n.TgZ(4,"div",6),n.YNc(5,vd,2,1,"ng-container",7),n.qZA()()()),2&i){const t=n.oxw();n.ekj("ant-tooltip-rtl","rtl"===t.dir),n.Q6J("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),n.xp6(3),n.Q6J("ngStyle",t._contentStyleMap),n.xp6(1),n.Q6J("ngStyle",t._contentStyleMap),n.xp6(1),n.Q6J("nzStringTemplateOutlet",t.nzTitle)("nzStringTemplateOutletContext",t.nzTitleContext)}}let bd=(()=>{class i{get _title(){return this.title||this.directiveTitle||null}get _content(){return this.content||this.directiveContent||null}get _trigger(){return typeof this.trigger<"u"?this.trigger:"hover"}get _placement(){const t=this.placement;return Array.isArray(t)&&t.length>0?t:"string"==typeof t&&t?[t]:["top"]}get _visible(){return(typeof this.visible<"u"?this.visible:this.internalVisible)||!1}get _mouseEnterDelay(){return this.mouseEnterDelay||.15}get _mouseLeaveDelay(){return this.mouseLeaveDelay||.1}get _overlayClassName(){return this.overlayClassName||null}get _overlayStyle(){return this.overlayStyle||null}getProxyPropertyMap(){return{noAnimation:["noAnimation",()=>!!this.noAnimation]}}constructor(t,e,s,o,a,l){this.elementRef=t,this.hostView=e,this.resolver=s,this.renderer=o,this.noAnimation=a,this.nzConfigService=l,this.visibleChange=new n.vpe,this.internalVisible=!1,this.destroy$=new y.x,this.triggerDisposables=[]}ngOnChanges(t){const{trigger:e}=t;e&&!e.isFirstChange()&&this.registerTriggers(),this.component&&this.updatePropertiesByChanges(t)}ngAfterViewInit(){this.createComponent(),this.registerTriggers()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.clearTogglingTimer(),this.removeTriggerListeners()}show(){this.component?.show()}hide(){this.component?.hide()}updatePosition(){this.component&&this.component.updatePosition()}createComponent(){const t=this.componentRef;this.component=t.instance,this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),t.location.nativeElement),this.component.setOverlayOrigin(this.origin||this.elementRef),this.initProperties();const e=this.component.nzVisibleChange.pipe((0,ui.x)());e.pipe((0,_.R)(this.destroy$)).subscribe(s=>{this.internalVisible=s,this.visibleChange.emit(s)}),e.pipe((0,W.h)(s=>s),function md(i,r=fe.z){const t=(0,sn.H)(i,r);return Mi(()=>t)}(0,cd.E),(0,W.h)(()=>!!this.component?.overlay?.overlayRef),(0,_.R)(this.destroy$)).subscribe(()=>{this.component?.updatePosition()})}registerTriggers(){const t=this.elementRef.nativeElement,e=this.trigger;if(this.removeTriggerListeners(),"hover"===e){let s;this.triggerDisposables.push(this.renderer.listen(t,"mouseenter",()=>{this.delayEnterLeave(!0,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(t,"mouseleave",()=>{this.delayEnterLeave(!0,!1,this._mouseLeaveDelay),this.component?.overlay.overlayRef&&!s&&(s=this.component.overlay.overlayRef.overlayElement,this.triggerDisposables.push(this.renderer.listen(s,"mouseenter",()=>{this.delayEnterLeave(!1,!0,this._mouseEnterDelay)})),this.triggerDisposables.push(this.renderer.listen(s,"mouseleave",()=>{this.delayEnterLeave(!1,!1,this._mouseLeaveDelay)})))}))}else"focus"===e?(this.triggerDisposables.push(this.renderer.listen(t,"focusin",()=>this.show())),this.triggerDisposables.push(this.renderer.listen(t,"focusout",()=>this.hide()))):"click"===e&&this.triggerDisposables.push(this.renderer.listen(t,"click",s=>{s.preventDefault(),this.show()}))}updatePropertiesByChanges(t){this.updatePropertiesByKeys(Object.keys(t))}updatePropertiesByKeys(t){const e={title:["nzTitle",()=>this._title],directiveTitle:["nzTitle",()=>this._title],content:["nzContent",()=>this._content],directiveContent:["nzContent",()=>this._content],trigger:["nzTrigger",()=>this._trigger],placement:["nzPlacement",()=>this._placement],visible:["nzVisible",()=>this._visible],mouseEnterDelay:["nzMouseEnterDelay",()=>this._mouseEnterDelay],mouseLeaveDelay:["nzMouseLeaveDelay",()=>this._mouseLeaveDelay],overlayClassName:["nzOverlayClassName",()=>this._overlayClassName],overlayStyle:["nzOverlayStyle",()=>this._overlayStyle],arrowPointAtCenter:["nzArrowPointAtCenter",()=>this.arrowPointAtCenter],...this.getProxyPropertyMap()};(t||Object.keys(e).filter(s=>!s.startsWith("directive"))).forEach(s=>{if(e[s]){const[o,a]=e[s];this.updateComponentValue(o,a())}}),this.component?.updateByDirective()}initProperties(){this.updatePropertiesByKeys()}updateComponentValue(t,e){typeof e<"u"&&(this.component[t]=e)}delayEnterLeave(t,e,s=-1){this.delayTimer?this.clearTogglingTimer():s>0?this.delayTimer=setTimeout(()=>{this.delayTimer=void 0,e?this.show():this.hide()},1e3*s):e&&t?this.show():this.hide()}removeTriggerListeners(){this.triggerDisposables.forEach(t=>t()),this.triggerDisposables.length=0}clearTogglingTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0)}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.s_b),n.Y36(n._Vd),n.Y36(n.Qsj),n.Y36(j.P),n.Y36(at.jY))};static#e=this.\u0275dir=n.lG2({type:i,features:[n.TTD]})}return i})(),Cd=(()=>{class i{set nzVisible(t){const e=(0,T.sw)(t);this._visible!==e&&(this._visible=e,this.nzVisibleChange.next(e))}get nzVisible(){return this._visible}set nzTrigger(t){this._trigger=t}get nzTrigger(){return this._trigger}set nzPlacement(t){const e=t.map(s=>ct.yW[s]);this._positions=[...e,...ct.Ek]}constructor(t,e,s){this.cdr=t,this.directionality=e,this.noAnimation=s,this.nzTitle=null,this.nzContent=null,this.nzArrowPointAtCenter=!1,this.nzOverlayStyle={},this.nzBackdrop=!1,this.nzVisibleChange=new y.x,this._visible=!1,this._trigger="hover",this.preferredPlacement="top",this.dir="ltr",this._classMap={},this._prefix="ant-tooltip",this._positions=[...ct.Ek],this.destroy$=new y.x}ngOnInit(){this.directionality.change?.pipe((0,_.R)(this.destroy$)).subscribe(t=>{this.dir=t,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.nzVisibleChange.complete(),this.destroy$.next(),this.destroy$.complete()}show(){this.nzVisible||(this.isEmpty()||(this.nzVisible=!0,this.nzVisibleChange.next(!0),this.cdr.detectChanges()),this.origin&&this.overlay&&this.overlay.overlayRef&&"rtl"===this.overlay.overlayRef.getDirection()&&this.overlay.overlayRef.setDirection("ltr"))}hide(){this.nzVisible&&(this.nzVisible=!1,this.nzVisibleChange.next(!1),this.cdr.detectChanges())}updateByDirective(){this.updateStyles(),this.cdr.detectChanges(),Promise.resolve().then(()=>{this.updatePosition(),this.updateVisibilityByTitle()})}updatePosition(){this.origin&&this.overlay&&this.overlay.overlayRef&&this.overlay.overlayRef.updatePosition()}onPositionChange(t){this.preferredPlacement=(0,ct.d_)(t),this.updateStyles(),this.cdr.detectChanges()}setOverlayOrigin(t){this.origin=t,this.cdr.markForCheck()}onClickOutside(t){!this.origin.nativeElement.contains(t.target)&&null!==this.nzTrigger&&this.hide()}updateVisibilityByTitle(){this.isEmpty()&&this.hide()}updateStyles(){this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0}}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.sBO),n.Y36(B.Is,8),n.Y36(j.P))};static#e=this.\u0275dir=n.lG2({type:i,viewQuery:function(e,s){if(1&e&&n.Gf(_d,5),2&e){let o;n.iGM(o=n.CRH())&&(s.overlay=o.first)}}})}return i})();function Ye(i){return!(i instanceof n.Rgc||""!==i&&(0,T.DX)(i))}let Td=(()=>{class i extends Cd{constructor(t,e,s){super(t,e,s),this.nzTitle=null,this.nzTitleContext=null,this._contentStyleMap={}}isEmpty(){return Ye(this.nzTitle)}updateStyles(){const t=this.nzColor&&(0,ld.o2)(this.nzColor);this._classMap={[this.nzOverlayClassName]:!0,[`${this._prefix}-placement-${this.preferredPlacement}`]:!0,[`${this._prefix}-${this.nzColor}`]:t},this._contentStyleMap={backgroundColor:this.nzColor&&!t?this.nzColor:null}}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.sBO),n.Y36(B.Is,8),n.Y36(j.P,9))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["nz-tooltip"]],exportAs:["nzTooltipComponent"],features:[n.qOj],decls:2,vars:5,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-tooltip",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-tooltip-content"],[1,"ant-tooltip-arrow"],[1,"ant-tooltip-arrow-content",3,"ngStyle"],[1,"ant-tooltip-inner",3,"ngStyle"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"]],template:function(e,s){1&e&&(n.YNc(0,yd,6,11,"ng-template",0,1,n.W1O),n.NdJ("overlayOutsideClick",function(a){return s.onClickOutside(a)})("detach",function(){return s.hide()})("positionChange",function(a){return s.onPositionChange(a)})),2&e&&n.Q6J("cdkConnectedOverlayOrigin",s.origin)("cdkConnectedOverlayOpen",s._visible)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",s.nzArrowPointAtCenter)},dependencies:[g.mk,g.PC,V.pI,Q.f,ct.hQ,j.P],encapsulation:2,data:{animation:[Oi.$C]},changeDetection:0})}return i})(),wd=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[B.vT,g.ez,V.U8,Q.T,ct.e4,j.g]})}return i})();function xd(i,r){if(1&i&&(n.ynx(0),n._uU(1),n.BQk()),2&i){const t=n.oxw(3);n.xp6(1),n.Oqu(t.nzTitle)}}function Dd(i,r){if(1&i&&(n.TgZ(0,"div",10),n.YNc(1,xd,2,1,"ng-container",9),n.qZA()),2&i){const t=n.oxw(2);n.xp6(1),n.Q6J("nzStringTemplateOutlet",t.nzTitle)}}function Sd(i,r){if(1&i&&(n.ynx(0),n._uU(1),n.BQk()),2&i){const t=n.oxw(2);n.xp6(1),n.Oqu(t.nzContent)}}function kd(i,r){if(1&i&&(n.TgZ(0,"div",2)(1,"div",3)(2,"div",4),n._UZ(3,"span",5),n.qZA(),n.TgZ(4,"div",6)(5,"div"),n.YNc(6,Dd,2,1,"div",7),n.TgZ(7,"div",8),n.YNc(8,Sd,2,1,"ng-container",9),n.qZA()()()()()),2&i){const t=n.oxw();n.ekj("ant-popover-rtl","rtl"===t.dir),n.Q6J("ngClass",t._classMap)("ngStyle",t.nzOverlayStyle)("@.disabled",!(null==t.noAnimation||!t.noAnimation.nzNoAnimation))("nzNoAnimation",null==t.noAnimation?null:t.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),n.xp6(6),n.Q6J("ngIf",t.nzTitle),n.xp6(2),n.Q6J("nzStringTemplateOutlet",t.nzContent)}}let Id=(()=>{class i extends bd{getProxyPropertyMap(){return{nzPopoverBackdrop:["nzBackdrop",()=>this.nzPopoverBackdrop],...super.getProxyPropertyMap()}}constructor(t,e,s,o,a,l){super(t,e,s,o,a,l),this._nzModuleName="popover",this.trigger="hover",this.placement="top",this.nzPopoverBackdrop=!1,this.visibleChange=new n.vpe,this.componentRef=this.hostView.createComponent(Ed)}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.SBq),n.Y36(n.s_b),n.Y36(n._Vd),n.Y36(n.Qsj),n.Y36(j.P,9),n.Y36(at.jY))};static#e=this.\u0275dir=n.lG2({type:i,selectors:[["","nz-popover",""]],hostVars:2,hostBindings:function(e,s){2&e&&n.ekj("ant-popover-open",s.visible)},inputs:{arrowPointAtCenter:["nzPopoverArrowPointAtCenter","arrowPointAtCenter"],title:["nzPopoverTitle","title"],content:["nzPopoverContent","content"],directiveTitle:["nz-popover","directiveTitle"],trigger:["nzPopoverTrigger","trigger"],placement:["nzPopoverPlacement","placement"],origin:["nzPopoverOrigin","origin"],visible:["nzPopoverVisible","visible"],mouseEnterDelay:["nzPopoverMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:["nzPopoverMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:["nzPopoverOverlayClassName","overlayClassName"],overlayStyle:["nzPopoverOverlayStyle","overlayStyle"],nzPopoverBackdrop:"nzPopoverBackdrop"},outputs:{visibleChange:"nzPopoverVisibleChange"},exportAs:["nzPopover"],features:[n.qOj]})}return(0,z.gn)([(0,T.yF)()],i.prototype,"arrowPointAtCenter",void 0),(0,z.gn)([(0,at.oS)()],i.prototype,"nzPopoverBackdrop",void 0),i})(),Ed=(()=>{class i extends Td{constructor(t,e,s){super(t,e,s),this._prefix="ant-popover"}get hasBackdrop(){return"click"===this.nzTrigger&&this.nzBackdrop}isEmpty(){return Ye(this.nzTitle)&&Ye(this.nzContent)}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(n.sBO),n.Y36(B.Is,8),n.Y36(j.P,9))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["nz-popover"]],exportAs:["nzPopoverComponent"],features:[n.qOj],decls:2,vars:6,consts:[["cdkConnectedOverlay","","nzConnectedOverlay","",3,"cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter","overlayOutsideClick","detach","positionChange"],["overlay","cdkConnectedOverlay"],[1,"ant-popover",3,"ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-arrow-content"],["role","tooltip",1,"ant-popover-inner"],["class","ant-popover-title",4,"ngIf"],[1,"ant-popover-inner-content"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-title"]],template:function(e,s){1&e&&(n.YNc(0,kd,9,9,"ng-template",0,1,n.W1O),n.NdJ("overlayOutsideClick",function(a){return s.onClickOutside(a)})("detach",function(){return s.hide()})("positionChange",function(a){return s.onPositionChange(a)})),2&e&&n.Q6J("cdkConnectedOverlayHasBackdrop",s.hasBackdrop)("cdkConnectedOverlayOrigin",s.origin)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayOpen",s._visible)("cdkConnectedOverlayPush",!0)("nzArrowPointAtCenter",s.nzArrowPointAtCenter)},dependencies:[g.mk,g.O5,g.PC,V.pI,Q.f,ct.hQ,j.P],encapsulation:2,data:{animation:[Oi.$C]},changeDetection:0})}return i})(),Od=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[B.vT,g.ez,V.U8,Q.T,ct.e4,j.g,wd]})}return i})();const Md=["gantt"];function Rd(i,r){if(1&i&&(n.ynx(0),n._UZ(1,"input",10),n.BQk()),2&i){const t=n.oxw().item,e=n.oxw().$implicit,s=n.oxw();n.xp6(1),n.Q6J("formControl",s.getControl(t.id,e.prop))}}function Ad(i,r){if(1&i){const t=n.EpF();n.ynx(0),n.TgZ(1,"span",11),n.NdJ("click",function(){n.CHM(t);const s=n.oxw().item,o=n.oxw(2);return n.KtG(o.showDetails(s.id))}),n._uU(2),n.qZA(),n.BQk()}if(2&i){const t=n.oxw().item,e=n.oxw().$implicit;n.xp6(2),n.Oqu(t[e.prop])}}function Nd(i,r){if(1&i&&(n.YNc(0,Rd,2,1,"ng-container",9),n.YNc(1,Ad,3,1,"ng-container",9)),2&i){const t=n.oxw().$implicit;n.Q6J("ngIf",t.isInput),n.xp6(1),n.Q6J("ngIf",!t.isInput)}}function Pd(i,r){if(1&i&&(n.ynx(0),n.TgZ(1,"ngx-gantt-column",7),n.YNc(2,Nd,2,2,"ng-template",null,8,n.W1O),n.qZA(),n.BQk()),2&i){const t=r.$implicit;n.xp6(1),n.s9C("name",t.name),n.s9C("width",t.width)}}function Fd(i,r){if(1&i&&(n.TgZ(0,"div"),n._uU(1),n.qZA(),n.TgZ(2,"div"),n._uU(3),n.qZA(),n.TgZ(4,"div"),n._uU(5),n.qZA()),2&i){const t=n.oxw().item,e=n.oxw();n.xp6(1),n.hij(" Title: ",t.title," "),n.xp6(2),n.hij(" Duration: ",e.getDuration(t.id)," days "),n.xp6(2),n.hij(" Priority: ",e.getPriority(t.id)," ")}}function Ld(i,r){if(1&i&&(n.TgZ(0,"span",12),n._uU(1),n.qZA(),n.YNc(2,Fd,6,3,"ng-template",null,13,n.W1O)),2&i){const t=r.item,e=n.MAs(3);n.Q6J("nzPopoverContent",e),n.xp6(1),n.hij("\xa0\xa0",t.title," ")}}function Bd(i,r){if(1&i&&(n.ynx(0),n.TgZ(1,"div"),n._uU(2),n.qZA(),n.TgZ(3,"div"),n._uU(4),n.qZA(),n.TgZ(5,"div"),n._uU(6),n.qZA(),n.TgZ(7,"div"),n._uU(8),n.qZA(),n.TgZ(9,"div"),n._uU(10),n.qZA(),n.BQk()),2&i){const t=n.oxw();n.xp6(2),n.hij(" Title: ",t.clickedTask.title," "),n.xp6(2),n.hij(" Start: ",t.clickedTask.start," "),n.xp6(2),n.hij(" Finish: ",t.clickedTask.finish," "),n.xp6(2),n.hij(" Duration: ",t.clickedTask.duration," days "),n.xp6(2),n.hij(" Priority: ",t.clickedTask.priority," ")}}const $d=[{path:"",component:(()=>{class i{constructor(t,e){this.ganttDataService=t,this.fb=e,this.items=[],this.tasks=[],this.columns=[],this.loading=!1,this.showDetailsModalVisible=!1}ngOnInit(){this.initTasksAndForm(),this.getItems(),this.initColumns()}ngAfterViewInit(){const t=new Date("2022-12-15");setTimeout(()=>this.ganttComponent.scrollToDate(Date.parse(t.toString())),200)}getControl(t,e){return this.tasks.find(o=>o.id===t)?.formGroup?.get(e)}showDetails(t){this.clickedTask=this.tasks.find(e=>e.id===t),this.clickedTask.duration=this.getDaysDuration(new Date(this.clickedTask.start),new Date(this.clickedTask.finish)),this.showDetailsModalVisible=!0}handleShowDetailsModalOk(){this.showDetailsModalVisible=!1}dragEnded(t){const e=this.tasks.find(c=>c.id===t.item.id),o=1e3*t.item.end,a=this.formatDateToYYYYMMDD(new Date(1e3*t.item.start)),l=this.formatDateToYYYYMMDD(new Date(o));e.formGroup?.get("start")?.patchValue(a),e.formGroup?.get("finish")?.patchValue(l)}getPriority(t){return this.tasks.find(e=>e.id===t)?.priority??0}getDuration(t){const e=this.tasks.find(s=>s.id===t);return this.getDaysDuration(new Date(e.start),new Date(e.finish))}initTasksAndForm(){this.tasks=this.ganttDataService.getTasks(),this.tasks.forEach(t=>{t.formGroup=this.fb.group({title:[t.title],start:[t.start],finish:[t.finish]}),t.formGroup.valueChanges.subscribe(e=>{t.start=e.start,t.finish=e.finish;let s=this.items.find(o=>o.id===t.id);s.start=Date.parse(t.start.toString()),s.end=Date.parse(t.finish.toString()),this.items=[...this.items]})})}getItems(){this.ganttDataService.getItems().subscribe(t=>{this.items=[...t]})}initColumns(){this.columns=[{index:0,name:"Task",width:"100px",dataType:Ut.STRING,isInput:!1,prop:"title"},{index:1,name:"Start",width:"160px",dataType:Ut.DATE,isInput:!0,prop:"start"},{index:2,name:"Finish",width:"160px",dataType:Ut.DATE,isInput:!0,prop:"finish"}]}getDaysDuration(t,e){const s=e.getTime()-t.getTime();return Math.floor(s/864e5)}formatDateToYYYYMMDD(t){return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`}static#t=this.\u0275fac=function(e){return new(e||i)(n.Y36(Ai),n.Y36(it.qu))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["app-ngx-gantt-chart"]],viewQuery:function(e,s){if(1&e&&n.Gf(Md,5),2&e){let o;n.iGM(o=n.CRH())&&(s.ganttComponent=o.first)}},decls:8,vars:8,consts:[[3,"items","selectable","draggable","virtualScrollEnabled","loading","dragEnded"],["gantt",""],[3,"draggable"],[4,"ngFor","ngForOf"],["bar",""],["nzTitle","Details",3,"nzVisible","nzVisibleChange","nzOnOk","nzOnCancel"],[4,"nzModalContent"],[3,"name","width"],["cell",""],[4,"ngIf"],["nz-input","","type","date",3,"formControl"],[1,"task-title",3,"click"],["nz-popover","","nzPopoverTitle","Details",2,"color","#fff",3,"nzPopoverContent"],["details",""]],template:function(e,s){1&e&&(n.TgZ(0,"ngx-gantt",0,1),n.NdJ("dragEnded",function(a){return s.dragEnded(a)}),n.TgZ(2,"ngx-gantt-table",2),n.YNc(3,Pd,4,2,"ng-container",3),n.qZA(),n.YNc(4,Ld,4,2,"ng-template",null,4,n.W1O),n.qZA(),n.TgZ(6,"nz-modal",5),n.NdJ("nzVisibleChange",function(a){return s.showDetailsModalVisible=a})("nzOnOk",function(){return s.handleShowDetailsModalOk()})("nzOnCancel",function(){return s.handleShowDetailsModalOk()}),n.YNc(7,Bd,11,5,"ng-container",6),n.qZA()),2&e&&(n.Q6J("items",s.items)("selectable",!0)("draggable",!0)("virtualScrollEnabled",!0)("loading",s.loading),n.xp6(2),n.Q6J("draggable",!0),n.xp6(1),n.Q6J("ngForOf",s.columns),n.xp6(3),n.Q6J("nzVisible",s.showDetailsModalVisible))},dependencies:[g.sg,g.O5,Ul,Kn,qn,hc,it.Fj,it.JJ,it.oH,od,Ei,Id],styles:[".task-title[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#0000cd}"]})}return i})()}];let Gd=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({imports:[Je.Bz.forChild($d),it.u5,it.UX,Je.Bz]})}return i})(),Hd=(()=>{class i{static#t=this.\u0275fac=function(e){return new(e||i)};static#e=this.\u0275mod=n.oAB({type:i});static#n=this.\u0275inj=n.cJS({providers:[{provide:re,useValue:{dateFormat:{month:"MM",year:"YYYY",week:"WWW",quarter:"",yearMonth:"YYYY MM",yearQuarter:"QQQ 'of' yyyy"},linkOptions:{showArrow:!0,lineType:At.straight}}}],imports:[Gd,g.ez,Zl,uc,it.UX,ad,bi,Od]})}return i})()}}]);